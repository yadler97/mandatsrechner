import{s as ke,g as J,c as Vt,a as ae,n as je}from"./hsm1TwBJ.js";import{S as we,i as Se,e as u,s as b,t as M,l as ne,c as h,k as O,f as C,a as v,b as T,d as f,m as re,n as y,g as V,h as a,o as le,j as at,p as ie,q as se,r as oe,u as Ie,v as ve,w as Le,x as De}from"./C_t1LkpG.js";import{B as be,e as Ce,P as Ae,C as Pe,p as xe,a as He,b as Ve,c as We,d as ze,L as Be,f as $e,g as Fe}from"./eUnNzeV8.js";function ye(t,r,i){const n=t.slice();return n[19]=r[i],n[20]=r,n[21]=i,n}function Ee(t){let r,i,n=t[19].label+"",s,o,l,m,w;function g(){t[17].call(l,t[21],t[19])}return{c(){r=u("div"),i=u("label"),s=M(n),o=b(),l=u("input"),this.h()},l(d){r=h(d,"DIV",{class:!0});var p=v(r);i=h(p,"LABEL",{for:!0});var I=v(i);s=T(I,n),I.forEach(f),o=C(p),l=h(p,"INPUT",{id:!0,type:!0,min:!0,max:!0}),p.forEach(f),this.h()},h(){y(i,"for","input_party_"+t[21]),y(l,"id","input_party_"+t[21]),y(l,"type","number"),y(l,"min","0"),y(l,"max","100"),y(r,"class","input_field_vote_party")},m(d,p){V(d,r,p),a(r,i),a(i,s),a(r,o),a(r,l),ve(l,t[3].datasets[t[21]].data[t[19].index]),m||(w=Le(l,"input",g),m=!0)},p(d,p){t=d,p&8&&n!==(n=t[19].label+"")&&at(s,n),p&8&&De(l.value)!==t[3].datasets[t[21]].data[t[19].index]&&ve(l,t[3].datasets[t[21]].data[t[19].index])},d(d){d&&f(r),m=!1,w()}}}function Me(t){let r,i="Achtung: Gesamtstimmen dürfen 100% nicht überschreiten!";return{c(){r=u("p"),r.textContent=i},l(n){r=h(n,"P",{"data-svelte-h":!0}),O(r)!=="svelte-154vc08"&&(r.textContent=i)},m(n,s){V(n,r,s)},d(n){n&&f(r)}}}function Ne(t){let r,i,n;return{c(){r=u("p"),i=M("Achtung: "),n=M(t[15])},l(s){r=h(s,"P",{});var o=v(r);i=T(o,"Achtung: "),n=T(o,t[15]),o.forEach(f)},m(s,o){V(s,r,o),a(r,i),a(r,n)},p:je,d(s){s&&f(r)}}}function Oe(t){let r,i="Stimmenanteile",n,s,o,l,m="Allgemeine Informationen",w,g,d,p,I="Wahltermin",mt,K,nt,rt,D,W,lt="Abgeordnete",pt,X,_,S,L,R,de="Sperrklausel",Wt,it,zt,Bt,$t,Y,st,fe="Sitzzuteilungsverfahren",Ft,_t,Nt,Ot,ot,q,Rt,A,yt,Z,dt,ue="Sonstige:",qt,gt,vt=(t[0]>=0?t[0].toFixed(2):0)+"",Et,Zt,Mt,tt,he="Mandatsverteilung",Tt,Dt,F,ft,G,Gt,z,Q,Qt,B,Ut,kt,Jt,jt,wt,Kt,$,Xt,St,Yt,It,Lt,P;q=new be({props:{data:t[3],options:{responsive:!0,plugins:{datalabels:{anchor:"end",align:"top",color:"black",font:{weight:"bold"},formatter:Ge},annotation:{annotations:t[12]>0?{majorityLine:{type:"line",yMin:t[12],yMax:t[12],borderColor:"rgb(255, 99, 132)",borderWidth:2}}:{}}},scales:{x:{stacked:!0},y:{stacked:!0}}}}});let ut=Ce(t[3].datasets),E=[];for(let e=0;e<ut.length;e+=1)E[e]=Ee(ye(t,ut,e));let k=t[0]<-1e-5&&Me(),N=t[15]&&Ne(t);return G=new Ae({props:{id:"mandatesChart",data:t[7],options:{responsive:!0,circumference:180,rotation:-90,plugins:{datalabels:{anchor:"end",align:"start",color:"white",formatter:Qe,font:{weight:"bold",size:20}}}}}}),Q=new be({props:{data:t[1],options:{responsive:!0,indexAxis:"y",scales:{y:{stacked:!0},x:{stacked:!0,max:t[2]}},plugins:{annotation:{annotations:{majorityLine:{type:"line",xMin:t[4],xMax:t[4],borderColor:"rgb(255, 99, 132)",borderWidth:3},twoThirdsMajorityLine:{type:"line",xMin:t[5],xMax:t[5],borderColor:"rgb(255, 99, 132)",borderWidth:1}}},datalabels:{anchor:"center",align:"center",color:"white",formatter:Te,font:{weight:"bold",size:20}},legend:{onClick:t[18]}}}}}),{c(){r=u("h1"),r.textContent=i,n=b(),s=u("section"),o=u("div"),l=u("p"),l.textContent=m,w=b(),g=u("table"),d=u("tr"),p=u("th"),p.textContent=I,mt=b(),K=u("td"),nt=M(t[14]),rt=b(),D=u("tr"),W=u("th"),W.textContent=lt,pt=b(),X=u("td"),_=M(t[2]),S=b(),L=u("tr"),R=u("th"),R.textContent=de,Wt=b(),it=u("td"),zt=M(t[12]),Bt=M(" %"),$t=b(),Y=u("tr"),st=u("th"),st.textContent=fe,Ft=b(),_t=u("td"),Nt=M(t[13]),Ot=b(),ot=u("div"),ne(q.$$.fragment),Rt=b(),A=u("div");for(let e=0;e<E.length;e+=1)E[e].c();yt=b(),Z=u("div"),dt=u("p"),dt.textContent=ue,qt=b(),gt=u("p"),Et=M(vt),Zt=b(),k&&k.c(),Mt=b(),tt=u("h1"),tt.textContent=he,Tt=b(),N&&N.c(),Dt=b(),F=u("section"),ft=u("div"),ne(G.$$.fragment),Gt=b(),z=u("div"),ne(Q.$$.fragment),Qt=b(),B=u("p"),Ut=M("Mehrheit: "),kt=M(t[6]),Jt=M("/"),jt=M(t[4]),Kt=b(),$=u("p"),Xt=M("Zweidrittelmehrheit: "),St=M(t[6]),Yt=M("/"),It=M(t[5]),this.h()},l(e){r=h(e,"H1",{"data-svelte-h":!0}),O(r)!=="svelte-too001"&&(r.textContent=i),n=C(e),s=h(e,"SECTION",{class:!0});var c=v(s);o=h(c,"DIV",{class:!0});var x=v(o);l=h(x,"P",{"data-svelte-h":!0}),O(l)!=="svelte-7wsg44"&&(l.textContent=m),w=C(x),g=h(x,"TABLE",{});var H=v(g);d=h(H,"TR",{});var U=v(d);p=h(U,"TH",{"data-svelte-h":!0}),O(p)!=="svelte-1cjbgjn"&&(p.textContent=I),mt=C(U),K=h(U,"TD",{});var j=v(K);nt=T(j,t[14]),j.forEach(f),U.forEach(f),rt=C(H),D=h(H,"TR",{});var et=v(D);W=h(et,"TH",{"data-svelte-h":!0}),O(W)!=="svelte-m7jygq"&&(W.textContent=lt),pt=C(et),X=h(et,"TD",{});var ce=v(X);_=T(ce,t[2]),ce.forEach(f),et.forEach(f),S=C(H),L=h(H,"TR",{});var At=v(L);R=h(At,"TH",{"data-svelte-h":!0}),O(R)!=="svelte-1k72mb"&&(R.textContent=de),Wt=C(At),it=h(At,"TD",{});var te=v(it);zt=T(te,t[12]),Bt=T(te," %"),te.forEach(f),At.forEach(f),$t=C(H),Y=h(H,"TR",{});var Pt=v(Y);st=h(Pt,"TH",{"data-svelte-h":!0}),O(st)!=="svelte-1lrysmd"&&(st.textContent=fe),Ft=C(Pt),_t=h(Pt,"TD",{});var me=v(_t);Nt=T(me,t[13]),me.forEach(f),Pt.forEach(f),H.forEach(f),x.forEach(f),Ot=C(c),ot=h(c,"DIV",{class:!0});var pe=v(ot);re(q.$$.fragment,pe),pe.forEach(f),Rt=C(c),A=h(c,"DIV",{class:!0});var ht=v(A);for(let ee=0;ee<E.length;ee+=1)E[ee].l(ht);yt=C(ht),Z=h(ht,"DIV",{class:!0});var xt=v(Z);dt=h(xt,"P",{"data-svelte-h":!0}),O(dt)!=="svelte-1p0cp1c"&&(dt.textContent=ue),qt=C(xt),gt=h(xt,"P",{});var _e=v(gt);Et=T(_e,vt),_e.forEach(f),xt.forEach(f),Zt=C(ht),k&&k.l(ht),ht.forEach(f),c.forEach(f),Mt=C(e),tt=h(e,"H1",{"data-svelte-h":!0}),O(tt)!=="svelte-jg7skr"&&(tt.textContent=he),Tt=C(e),N&&N.l(e),Dt=C(e),F=h(e,"SECTION",{class:!0});var Ht=v(F);ft=h(Ht,"DIV",{class:!0});var ge=v(ft);re(G.$$.fragment,ge),ge.forEach(f),Gt=C(Ht),z=h(Ht,"DIV",{class:!0});var ct=v(z);re(Q.$$.fragment,ct),Qt=C(ct),B=h(ct,"P",{class:!0});var bt=v(B);Ut=T(bt,"Mehrheit: "),kt=T(bt,t[6]),Jt=T(bt,"/"),jt=T(bt,t[4]),bt.forEach(f),Kt=C(ct),$=h(ct,"P",{class:!0});var Ct=v($);Xt=T(Ct,"Zweidrittelmehrheit: "),St=T(Ct,t[6]),Yt=T(Ct,"/"),It=T(Ct,t[5]),Ct.forEach(f),ct.forEach(f),Ht.forEach(f),this.h()},h(){y(o,"class","info_container"),y(ot,"class","bar_container"),y(Z,"class","input_field_vote_party"),y(A,"class","input_fields_vote"),y(s,"class","vote_share_section"),y(ft,"class","pie_container"),y(B,"class",wt="majorityText "+(t[6]<t[4]?"red":"green")),y($,"class",Lt="majorityText "+(t[6]<t[5]?"red":"green")),y(z,"class","stack_container"),y(F,"class","mandate_section")},m(e,c){V(e,r,c),V(e,n,c),V(e,s,c),a(s,o),a(o,l),a(o,w),a(o,g),a(g,d),a(d,p),a(d,mt),a(d,K),a(K,nt),a(g,rt),a(g,D),a(D,W),a(D,pt),a(D,X),a(X,_),a(g,S),a(g,L),a(L,R),a(L,Wt),a(L,it),a(it,zt),a(it,Bt),a(g,$t),a(g,Y),a(Y,st),a(Y,Ft),a(Y,_t),a(_t,Nt),a(s,Ot),a(s,ot),le(q,ot,null),a(s,Rt),a(s,A);for(let x=0;x<E.length;x+=1)E[x]&&E[x].m(A,null);a(A,yt),a(A,Z),a(Z,dt),a(Z,qt),a(Z,gt),a(gt,Et),a(A,Zt),k&&k.m(A,null),V(e,Mt,c),V(e,tt,c),V(e,Tt,c),N&&N.m(e,c),V(e,Dt,c),V(e,F,c),a(F,ft),le(G,ft,null),a(F,Gt),a(F,z),le(Q,z,null),a(z,Qt),a(z,B),a(B,Ut),a(B,kt),a(B,Jt),a(B,jt),a(z,Kt),a(z,$),a($,Xt),a($,St),a($,Yt),a($,It),P=!0},p(e,[c]){(!P||c&4)&&at(_,e[2]);const x={};if(c&8&&(x.data=e[3]),q.$set(x),c&8){ut=Ce(e[3].datasets);let j;for(j=0;j<ut.length;j+=1){const et=ye(e,ut,j);E[j]?E[j].p(et,c):(E[j]=Ee(et),E[j].c(),E[j].m(A,yt))}for(;j<E.length;j+=1)E[j].d(1);E.length=ut.length}(!P||c&1)&&vt!==(vt=(e[0]>=0?e[0].toFixed(2):0)+"")&&at(Et,vt),e[0]<-1e-5?k||(k=Me(),k.c(),k.m(A,null)):k&&(k.d(1),k=null),e[15]&&N.p(e,c);const H={};c&128&&(H.data=e[7]),G.$set(H);const U={};c&2&&(U.data=e[1]),c&54&&(U.options={responsive:!0,indexAxis:"y",scales:{y:{stacked:!0},x:{stacked:!0,max:e[2]}},plugins:{annotation:{annotations:{majorityLine:{type:"line",xMin:e[4],xMax:e[4],borderColor:"rgb(255, 99, 132)",borderWidth:3},twoThirdsMajorityLine:{type:"line",xMin:e[5],xMax:e[5],borderColor:"rgb(255, 99, 132)",borderWidth:1}}},datalabels:{anchor:"center",align:"center",color:"white",formatter:Te,font:{weight:"bold",size:20}},legend:{onClick:e[18]}}}),Q.$set(U),(!P||c&64)&&at(kt,e[6]),(!P||c&16)&&at(jt,e[4]),(!P||c&80&&wt!==(wt="majorityText "+(e[6]<e[4]?"red":"green")))&&y(B,"class",wt),(!P||c&64)&&at(St,e[6]),(!P||c&32)&&at(It,e[5]),(!P||c&96&&Lt!==(Lt="majorityText "+(e[6]<e[5]?"red":"green")))&&y($,"class",Lt)},i(e){P||(ie(q.$$.fragment,e),ie(G.$$.fragment,e),ie(Q.$$.fragment,e),P=!0)},o(e){se(q.$$.fragment,e),se(G.$$.fragment,e),se(Q.$$.fragment,e),P=!1},d(e){e&&(f(r),f(n),f(s),f(Mt),f(tt),f(Tt),f(Dt),f(F)),oe(q),Ie(E,e),k&&k.d(),N&&N.d(e),oe(G),oe(Q)}}}function Re(t,r,i){let n=[],s=[],o=[...t];for(let l in t)s.push(1),n.push(0),t[l]<i&&(t[l]=0,o[l]=0);for(let l=0;l<r;l++){let m=o.indexOf(Math.max(...o));s[m]=s[m]+1,n[m]=n[m]+1,o[m]=t[m]/s[m]}return n}function qe(t,r,i){let n=[],s=new Array(t.length).fill(.5),o=[...t];for(let l in t)s.push(1),n.push(0),t[l]<i&&(t[l]=0,o[l]=0);for(let l=0;l<r;l++){let m=o.indexOf(Math.max(...o));s[m]=s[m]+1,n[m]=n[m]+1,o[m]=t[m]/s[m]}return n}function Ze(t,r,i){let n=[];const l=t.filter(d=>d>=i).reduce((d,p)=>d+p,0)/r;n=t.map(d=>{if(d<i)return 0;const p=Math.floor(d/l),I=d%l;return{initialMandates:p,remainder:I}});let m=n.reduce((d,p)=>d+(p.initialMandates||0),0);const w=r-m,g=n.map((d,p)=>({index:p,remainder:d.remainder||0})).sort((d,p)=>p.remainder-d.remainder);for(let d=0;d<w;d++)n[g[d].index].initialMandates+=1;return n.map(d=>d.initialMandates||0)}const Ge=(t,r)=>{const{chart:i,dataIndex:n,datasetIndex:s}=r,o=i.data.datasets.length-1;return s!==o?"":i.data.datasets.reduce((m,w)=>{const g=w.data[n];return typeof g=="number"?m+g:m},0).toLocaleString("de-AT",{minimumFractionDigits:2,maximumFractionDigits:2})},Qe=function(t){return t>0?t:""},Te=function(t){return t>0?t:""};function Ue(t,r,i){let n,s,o,l;Pe.register(xe,He,Ve,We,ze,Be,$e,Fe);let m=J("data");Vt(t,m,_=>i(3,l=_));let w=J("mandateData");Vt(t,w,_=>i(7,s=_));let g=J("majorityData");Vt(t,g,_=>i(1,n=_));let d=J("mandateCount");Vt(t,d,_=>i(2,o=_));let p=J("threshold"),I=J("apportionmentMethod"),mt=J("electionDate"),K=J("note"),nt=0,rt=0,D=[],W,lt=0;function pt(_,S){l.datasets[_].data[S.index]=De(this.value),m.set(l)}const X=function(_,S){if(S.datasetIndex!==void 0){const L=S.datasetIndex,R=n.datasets[L].hidden;ae(g,n.datasets[L].hidden=!R,n)}};return t.$$.update=()=>{if(t.$$.dirty&4&&i(4,nt=Math.floor(o/2+1)),t.$$.dirty&4&&i(5,rt=Math.ceil(o/3*2)),t.$$.dirty&13){let _=l.datasets.map(S=>S.data[S.index]);i(0,W=100-_.reduce((S,L)=>S+L,0)),W>=-1e-5&&(I=="D'Hondt"?i(16,D=Re([..._],o,p)):I=="Sainte-Laguë"?i(16,D=qe([..._],o,p)):I=="Hare-Niemeyer"&&i(16,D=Ze([..._],o,p)))}if(t.$$.dirty&65536){ae(w,s.datasets[0].data=D,s);for(let _ in D)ae(g,n.datasets[_].data=[D[_]],n)}t.$$.dirty&66&&(i(6,lt=0),n.datasets.forEach((_,S)=>{_.hidden||i(6,lt+=_.data[0])}))},[W,n,o,l,nt,rt,lt,s,m,w,g,d,p,I,mt,K,D,pt,X]}class Ye extends we{constructor(r){super(),Se(this,r,Ue,Oe,ke,{})}}export{Ye as E};
