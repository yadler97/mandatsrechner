import{s as St,g as Q,c as Ge,e as $e,r as Pt,n as qe}from"./eX-Ury47.js";import{S as Rt,i as Ht,e as i,s as y,t as M,p as lt,c as d,l as X,f as E,a as m,b as D,d as r,q as st,m as k,g as A,h as a,v as rt,j as oe,x as ot,y as it,z as dt,o as Nt,n as Ct,r as yt,w as ft,B as wt}from"./lEND0Fm8.js";import{e as Et}from"./D6YF6ztN.js";import{B as kt,D as Vt,C as Bt,p as Wt,a as zt,b as Ot,c as Ft,d as Gt,L as $t,e as qt,f as Ut,A as ut,g as Zt,s as Yt,h as Jt}from"./_TCBJ-H0.js";function Mt(e,n,l){const s=e.slice();return s[26]=n[l],s[27]=n,s[28]=l,s}function Kt(e){let n;return{c(){n=M("keine")},l(l){n=D(l,"keine")},m(l,s){A(l,n,s)},p:qe,d(l){l&&r(n)}}}function Qt(e){let n,l;return{c(){n=M(e[13]),l=M(" %")},l(s){n=D(s,e[13]),l=D(s," %")},m(s,o){A(s,n,o),A(s,l,o)},p:qe,d(s){s&&(r(n),r(l))}}}function Dt(e){let n,l,s,o,c,f,_,w;return{c(){n=i("div"),l=i("label"),s=M(e[15]),o=M(" Grundmandat(e)?"),c=y(),f=i("input"),this.h()},l(h){n=d(h,"DIV",{class:!0});var b=m(n);l=d(b,"LABEL",{for:!0});var j=m(l);s=D(j,e[15]),o=D(j," Grundmandat(e)?"),j.forEach(r),c=E(b),f=d(b,"INPUT",{id:!0,type:!0}),b.forEach(r),this.h()},h(){k(l,"for","checkbox_party_"+e[28]),k(f,"id","checkbox_party_"+e[28]),k(f,"type","checkbox"),k(n,"class","base_mandate_checkbox")},m(h,b){A(h,n,b),a(n,l),a(l,s),a(l,o),a(n,c),a(n,f),_||(w=ft(f,"change",e[23]),_=!0)},p:qe,d(h){h&&r(n),_=!1,w()}}}function Tt(e){let n,l,s=e[26].label+"",o,c,f,_,w,h,b,j,z;function q(){e[21].call(_,e[28],e[26])}function U(){return e[22](e[28],e[26])}let g=e[0].datasets[e[28]].data[e[26].index]<e[13]&&e[15]&&Dt(e);return{c(){n=i("div"),l=i("label"),o=M(s),c=y(),f=i("span"),_=i("input"),w=M(" %"),h=y(),g&&g.c(),b=Ct(),this.h()},l(T){n=d(T,"DIV",{class:!0});var v=m(n);l=d(v,"LABEL",{for:!0});var O=m(l);o=D(O,s),O.forEach(r),c=E(v),f=d(v,"SPAN",{class:!0});var L=m(f);_=d(L,"INPUT",{id:!0,type:!0,min:!0,max:!0}),w=D(L," %"),L.forEach(r),v.forEach(r),h=E(T),g&&g.l(T),b=Ct(),this.h()},h(){k(l,"for","input_party_"+e[28]),k(_,"id","input_party_"+e[28]),k(_,"type","number"),k(_,"min","0"),k(_,"max","100"),k(f,"class","valuePadding"),k(n,"class","input_field_vote_party")},m(T,v){A(T,n,v),a(n,l),a(l,o),a(n,c),a(n,f),a(f,_),yt(_,e[0].datasets[e[28]].data[e[26].index]),a(f,w),A(T,h,v),g&&g.m(T,v),A(T,b,v),j||(z=[ft(_,"input",q),ft(_,"input",U)],j=!0)},p(T,v){e=T,v&1&&s!==(s=e[26].label+"")&&oe(o,s),v&1&&wt(_.value)!==e[0].datasets[e[28]].data[e[26].index]&&yt(_,e[0].datasets[e[28]].data[e[26].index]),e[0].datasets[e[28]].data[e[26].index]<e[13]&&e[15]?g?g.p(e,v):(g=Dt(e),g.c(),g.m(b.parentNode,b)):g&&(g.d(1),g=null)},d(T){T&&(r(n),r(h),r(b)),g&&g.d(T),j=!1,Pt(z)}}}function jt(e){let n,l="Achtung: Gesamtstimmen dürfen 100% nicht überschreiten!";return{c(){n=i("p"),n.textContent=l},l(s){n=d(s,"P",{"data-svelte-h":!0}),X(n)!=="svelte-154vc08"&&(n.textContent=l)},m(s,o){A(s,n,o)},d(s){s&&r(n)}}}function Xt(e){let n,l,s;return{c(){n=i("p"),l=M("Achtung: "),s=M(e[16])},l(o){n=d(o,"P",{});var c=m(n);l=D(c,"Achtung: "),s=D(c,e[16]),c.forEach(r)},m(o,c){A(o,n,c),a(n,l),a(n,s)},p:qe,d(o){o&&r(n)}}}function xt(e){let n,l="Stimmenanteile",s,o,c,f,_="Allgemeine Informationen",w,h,b,j,z="Wahltermin",q,U,g,T,v,O,L="Abgeordnete",ie,Z,x,ce,Y,ee,je="Sperrklausel",Ce,de,p,C,S,H="Sitzzuteilungsverfahren",ue,te,ye,Ue,_e,ae,Ze,B,Ie,ne,pe,ht="Sonstige:",Ye,Ee,ke=(e[6]>=0?e[6].toFixed(2):0)+"",Ae,Je,we,fe,ct="Mandatsverteilung",Le,Se,J,me,le,Ke,F,se,Qe,G,Xe,Pe,xe,Re,He,et,$,tt,Ne,at,Ve,Be,N;function Lt(t,u){return t[13]>0?Qt:Kt}let Me=Lt(e)(e);ae=new kt({props:{data:e[0],options:{responsive:!0,maintainAspectRatio:!1,plugins:{datalabels:{anchor:"end",align:"top",color:"black",font:{weight:"bold"},formatter:It},annotation:{annotations:e[13]>0?{majorityLine:{type:"line",yMin:e[13],yMax:e[13],borderColor:"rgb(255, 99, 132)",borderWidth:2}}:{}}},scales:{x:{stacked:!0},y:{stacked:!0,suggestedMax:Math.max(...e[0].labels.map(e[20]))+5}}}}});let be=Et(e[0].datasets),I=[];for(let t=0;t<be.length;t+=1)I[t]=Tt(Mt(e,be,t));let P=e[6]<-1e-5&&jt(),K=e[16]&&Xt(e);return le=new Vt({props:{id:"mandatesChart",data:e[8],options:{responsive:!0,cutout:"40%",circumference:180,rotation:-90,plugins:{datalabels:{anchor:"end",align:"start",color:"white",formatter:ea,font:{weight:"bold",size:20}}}}}}),se=new kt({props:{data:e[1],options:{responsive:!0,indexAxis:"y",scales:{y:{stacked:!0},x:{stacked:!0,max:e[2]}},plugins:{annotation:{annotations:{majorityLine:{type:"line",xMin:e[4],xMax:e[4],borderColor:"rgb(255, 99, 132)",borderWidth:3},twoThirdsMajorityLine:{type:"line",xMin:e[5],xMax:e[5],borderColor:"rgb(255, 99, 132)",borderWidth:1}}},datalabels:{anchor:"center",align:"center",color:"white",formatter:At,font:{weight:"bold",size:20}},legend:{onClick:e[24]}}}}}),{c(){n=i("h1"),n.textContent=l,s=y(),o=i("section"),c=i("div"),f=i("p"),f.textContent=_,w=y(),h=i("table"),b=i("tr"),j=i("th"),j.textContent=z,q=y(),U=i("td"),g=M(e[3]),T=y(),v=i("tr"),O=i("th"),O.textContent=L,ie=y(),Z=i("td"),x=M(e[2]),ce=y(),Y=i("tr"),ee=i("th"),ee.textContent=je,Ce=y(),de=i("td"),Me.c(),p=y(),C=i("tr"),S=i("th"),S.textContent=H,ue=y(),te=i("td"),ye=M(e[14]),Ue=y(),_e=i("div"),lt(ae.$$.fragment),Ze=y(),B=i("div");for(let t=0;t<I.length;t+=1)I[t].c();Ie=y(),ne=i("div"),pe=i("p"),pe.textContent=ht,Ye=y(),Ee=i("p"),Ae=M(ke),Je=y(),P&&P.c(),we=y(),fe=i("h1"),fe.textContent=ct,Le=y(),K&&K.c(),Se=y(),J=i("section"),me=i("div"),lt(le.$$.fragment),Ke=y(),F=i("div"),lt(se.$$.fragment),Qe=y(),G=i("p"),Xe=M("Mehrheit: "),Pe=M(e[7]),xe=M("/"),Re=M(e[4]),et=y(),$=i("p"),tt=M("Zweidrittelmehrheit: "),Ne=M(e[7]),at=M("/"),Ve=M(e[5]),this.h()},l(t){n=d(t,"H1",{"data-svelte-h":!0}),X(n)!=="svelte-too001"&&(n.textContent=l),s=E(t),o=d(t,"SECTION",{class:!0});var u=m(o);c=d(u,"DIV",{class:!0});var V=m(c);f=d(V,"P",{"data-svelte-h":!0}),X(f)!=="svelte-7wsg44"&&(f.textContent=_),w=E(V),h=d(V,"TABLE",{});var W=m(h);b=d(W,"TR",{});var re=m(b);j=d(re,"TH",{"data-svelte-h":!0}),X(j)!=="svelte-1cjbgjn"&&(j.textContent=z),q=E(re),U=d(re,"TD",{});var R=m(U);g=D(R,e[3]),R.forEach(r),re.forEach(r),T=E(W),v=d(W,"TR",{});var he=m(v);O=d(he,"TH",{"data-svelte-h":!0}),X(O)!=="svelte-m7jygq"&&(O.textContent=L),ie=E(he),Z=d(he,"TD",{});var _t=m(Z);x=D(_t,e[2]),_t.forEach(r),he.forEach(r),ce=E(W),Y=d(W,"TR",{});var We=m(Y);ee=d(We,"TH",{"data-svelte-h":!0}),X(ee)!=="svelte-1k72mb"&&(ee.textContent=je),Ce=E(We),de=d(We,"TD",{});var pt=m(de);Me.l(pt),pt.forEach(r),We.forEach(r),p=E(W),C=d(W,"TR",{});var ze=m(C);S=d(ze,"TH",{"data-svelte-h":!0}),X(S)!=="svelte-1lrysmd"&&(S.textContent=H),ue=E(ze),te=d(ze,"TD",{});var mt=m(te);ye=D(mt,e[14]),mt.forEach(r),ze.forEach(r),W.forEach(r),V.forEach(r),Ue=E(u),_e=d(u,"DIV",{class:!0});var bt=m(_e);st(ae.$$.fragment,bt),bt.forEach(r),Ze=E(u),B=d(u,"DIV",{class:!0});var ve=m(B);for(let nt=0;nt<I.length;nt+=1)I[nt].l(ve);Ie=E(ve),ne=d(ve,"DIV",{class:!0});var Oe=m(ne);pe=d(Oe,"P",{"data-svelte-h":!0}),X(pe)!=="svelte-1p0cp1c"&&(pe.textContent=ht),Ye=E(Oe),Ee=d(Oe,"P",{});var vt=m(Ee);Ae=D(vt,ke),vt.forEach(r),Oe.forEach(r),Je=E(ve),P&&P.l(ve),ve.forEach(r),u.forEach(r),we=E(t),fe=d(t,"H1",{"data-svelte-h":!0}),X(fe)!=="svelte-jg7skr"&&(fe.textContent=ct),Le=E(t),K&&K.l(t),Se=E(t),J=d(t,"SECTION",{class:!0});var Fe=m(J);me=d(Fe,"DIV",{class:!0});var gt=m(me);st(le.$$.fragment,gt),gt.forEach(r),Ke=E(Fe),F=d(Fe,"DIV",{class:!0});var ge=m(F);st(se.$$.fragment,ge),Qe=E(ge),G=d(ge,"P",{class:!0});var De=m(G);Xe=D(De,"Mehrheit: "),Pe=D(De,e[7]),xe=D(De,"/"),Re=D(De,e[4]),De.forEach(r),et=E(ge),$=d(ge,"P",{class:!0});var Te=m($);tt=D(Te,"Zweidrittelmehrheit: "),Ne=D(Te,e[7]),at=D(Te,"/"),Ve=D(Te,e[5]),Te.forEach(r),ge.forEach(r),Fe.forEach(r),this.h()},h(){k(c,"class","info_container"),k(_e,"class","bar_container"),k(ne,"class","input_field_vote_party"),k(B,"class","input_fields_vote"),k(o,"class","vote_share_section"),k(me,"class","pie_container"),k(G,"class",He="majorityText "+(e[7]<e[4]?"red":"green")),k($,"class",Be="majorityText "+(e[7]<e[5]?"red":"green")),k(F,"class","stack_container"),k(J,"class","mandate_section")},m(t,u){A(t,n,u),A(t,s,u),A(t,o,u),a(o,c),a(c,f),a(c,w),a(c,h),a(h,b),a(b,j),a(b,q),a(b,U),a(U,g),a(h,T),a(h,v),a(v,O),a(v,ie),a(v,Z),a(Z,x),a(h,ce),a(h,Y),a(Y,ee),a(Y,Ce),a(Y,de),Me.m(de,null),a(h,p),a(h,C),a(C,S),a(C,ue),a(C,te),a(te,ye),a(o,Ue),a(o,_e),rt(ae,_e,null),a(o,Ze),a(o,B);for(let V=0;V<I.length;V+=1)I[V]&&I[V].m(B,null);a(B,Ie),a(B,ne),a(ne,pe),a(ne,Ye),a(ne,Ee),a(Ee,Ae),a(B,Je),P&&P.m(B,null),A(t,we,u),A(t,fe,u),A(t,Le,u),K&&K.m(t,u),A(t,Se,u),A(t,J,u),a(J,me),rt(le,me,null),a(J,Ke),a(J,F),rt(se,F,null),a(F,Qe),a(F,G),a(G,Xe),a(G,Pe),a(G,xe),a(G,Re),a(F,et),a(F,$),a($,tt),a($,Ne),a($,at),a($,Ve),N=!0},p(t,[u]){(!N||u&8)&&oe(g,t[3]),(!N||u&4)&&oe(x,t[2]),Me.p(t,u);const V={};if(u&1&&(V.data=t[0]),u&1&&(V.options={responsive:!0,maintainAspectRatio:!1,plugins:{datalabels:{anchor:"end",align:"top",color:"black",font:{weight:"bold"},formatter:It},annotation:{annotations:t[13]>0?{majorityLine:{type:"line",yMin:t[13],yMax:t[13],borderColor:"rgb(255, 99, 132)",borderWidth:2}}:{}}},scales:{x:{stacked:!0},y:{stacked:!0,suggestedMax:Math.max(...t[0].labels.map(t[20]))+5}}}),ae.$set(V),u&434177){be=Et(t[0].datasets);let R;for(R=0;R<be.length;R+=1){const he=Mt(t,be,R);I[R]?I[R].p(he,u):(I[R]=Tt(he),I[R].c(),I[R].m(B,Ie))}for(;R<I.length;R+=1)I[R].d(1);I.length=be.length}(!N||u&64)&&ke!==(ke=(t[6]>=0?t[6].toFixed(2):0)+"")&&oe(Ae,ke),t[6]<-1e-5?P||(P=jt(),P.c(),P.m(B,null)):P&&(P.d(1),P=null),t[16]&&K.p(t,u);const W={};u&256&&(W.data=t[8]),le.$set(W);const re={};u&2&&(re.data=t[1]),u&54&&(re.options={responsive:!0,indexAxis:"y",scales:{y:{stacked:!0},x:{stacked:!0,max:t[2]}},plugins:{annotation:{annotations:{majorityLine:{type:"line",xMin:t[4],xMax:t[4],borderColor:"rgb(255, 99, 132)",borderWidth:3},twoThirdsMajorityLine:{type:"line",xMin:t[5],xMax:t[5],borderColor:"rgb(255, 99, 132)",borderWidth:1}}},datalabels:{anchor:"center",align:"center",color:"white",formatter:At,font:{weight:"bold",size:20}},legend:{onClick:t[24]}}}),se.$set(re),(!N||u&128)&&oe(Pe,t[7]),(!N||u&16)&&oe(Re,t[4]),(!N||u&144&&He!==(He="majorityText "+(t[7]<t[4]?"red":"green")))&&k(G,"class",He),(!N||u&128)&&oe(Ne,t[7]),(!N||u&32)&&oe(Ve,t[5]),(!N||u&160&&Be!==(Be="majorityText "+(t[7]<t[5]?"red":"green")))&&k($,"class",Be)},i(t){N||(ot(ae.$$.fragment,t),ot(le.$$.fragment,t),ot(se.$$.fragment,t),N=!0)},o(t){it(ae.$$.fragment,t),it(le.$$.fragment,t),it(se.$$.fragment,t),N=!1},d(t){t&&(r(n),r(s),r(o),r(we),r(fe),r(Le),r(Se),r(J)),Me.d(),dt(ae),Nt(I,t),P&&P.d(),K&&K.d(t),dt(le),dt(se)}}}const It=(e,n)=>{const{chart:l,dataIndex:s,datasetIndex:o}=n,c=l.data.datasets.length-1;return o!==c?"":l.data.datasets.reduce((_,w)=>{const h=w.data[s];return typeof h=="number"?_+h:_},0).toLocaleString("de-AT",{minimumFractionDigits:2,maximumFractionDigits:2})},ea=function(e){return e>0?e:""},At=function(e){return e>0?e:""};function ta(e,n,l){let s,o,c,f;Bt.register(Wt,zt,Ot,Ft,Gt,$t,qt,Ut);let _=Q("data");Ge(e,_,p=>l(0,s=p));let w=Q("mandateData");Ge(e,w,p=>l(8,c=p));let h=Q("majorityData");Ge(e,h,p=>l(1,o=p));let b=Q("mandateCount");Ge(e,b,p=>l(2,f=p));let j=Q("threshold"),z=Q("apportionmentMethod"),q=Q("electionDate"),U=Q("baseMandateRule"),g=Q("note"),T=0,v=0;q=new Date(q).toLocaleDateString("de-AT",{day:"numeric",month:"long",year:"numeric"});let L=[],ie,Z=0;function x(p){let C=p.map(H=>H.data[H.index]);l(6,ie=100-C.reduce((H,ue)=>H+ue,0));let S=C.map((H,ue)=>{const te=document.getElementById(`checkbox_party_${ue}`),ye=te instanceof HTMLInputElement?te.checked:!1;return H<j&&!ye?0:H});return ie>=-1e-5&&(z==ut.DHONDT?l(19,L=Zt([...S],f)):z==ut.SAINTE_LAGUE?l(19,L=Yt([...S],f)):z==ut.HARE_NIEMEYER&&l(19,L=Jt([...S],f))),L}function ce(p,C){s.datasets[p].data[C]>100&&$e(_,s.datasets[p].data[C]=100,s)}const Y=(p,C)=>s.datasets.reduce((S,H)=>S+(H.data[C]||0),0);function ee(p,C){s.datasets[p].data[C.index]=wt(this.value),_.set(s)}const je=(p,C)=>ce(p,C.index),Ce=()=>x(s.datasets),de=function(p,C){if(C.datasetIndex!==void 0){const S=C.datasetIndex,H=o.datasets[S].hidden;$e(h,o.datasets[S].hidden=!H,o)}};return e.$$.update=()=>{if(e.$$.dirty&4&&l(4,T=Math.floor(f/2+1)),e.$$.dirty&4&&l(5,v=Math.ceil(f/3*2)),e.$$.dirty&1&&l(19,L=x(s.datasets)),e.$$.dirty&524288){$e(w,c.datasets[0].data=L,c);for(let p in L)$e(h,o.datasets[p].data=[L[p]],o)}e.$$.dirty&130&&(l(7,Z=0),o.datasets.forEach((p,C)=>{p.hidden||l(7,Z+=p.data[0])}))},[s,o,f,q,T,v,ie,Z,c,_,w,h,b,j,z,U,g,x,ce,L,Y,ee,je,Ce,de]}class oa extends Rt{constructor(n){super(),Ht(this,n,ta,xt,St,{})}}export{oa as E};
