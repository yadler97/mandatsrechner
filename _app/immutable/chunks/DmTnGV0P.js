import{s as Lt,g as K,c as Fe,e as nt,n as $e}from"./eX-Ury47.js";import{S as At,i as Pt,e as h,s as g,t as D,o as lt,c as m,l as X,f as v,a as p,b as T,d,p as rt,m as C,g as I,h as l,u as it,j as re,w as ot,x as st,y as dt,n as Ht,A as gt,q as vt,v as wt,B as It}from"./CvUCCQBL.js";import{e as yt}from"./D6YF6ztN.js";import{B as Ct,D as Vt,C as Bt,p as Rt,a as Wt,b as Nt,c as Ot,d as zt,L as Ft,e as $t,f as qt}from"./B78RUGKS.js";function kt(e,n,a){const r=e.slice();return r[24]=n[a],r[25]=n,r[26]=a,r}function Gt(e){let n;return{c(){n=D("keine")},l(a){n=T(a,"keine")},m(a,r){I(a,n,r)},p:$e,d(a){a&&d(n)}}}function Ut(e){let n,a;return{c(){n=D(e[13]),a=D(" %")},l(r){n=T(r,e[13]),a=T(r," %")},m(r,o){I(r,n,o),I(r,a,o)},p:$e,d(r){r&&(d(n),d(a))}}}function Mt(e){let n,a,r,o,s,i,E,f;return{c(){n=h("div"),a=h("label"),r=D(e[15]),o=D(" Grundmandat(e)?"),s=g(),i=h("input"),this.h()},l(u){n=m(u,"DIV",{class:!0});var y=p(n);a=m(y,"LABEL",{for:!0});var L=p(a);r=T(L,e[15]),o=T(L," Grundmandat(e)?"),L.forEach(d),s=v(y),i=m(y,"INPUT",{id:!0,type:!0}),y.forEach(d),this.h()},h(){C(a,"for","checkbox_party_"+e[26]),C(i,"id","checkbox_party_"+e[26]),C(i,"type","checkbox"),C(n,"class","base_mandate_checkbox")},m(u,y){I(u,n,y),l(n,a),l(a,r),l(a,o),l(n,s),l(n,i),E||(f=wt(i,"change",e[21]),E=!0)},p:$e,d(u){u&&d(n),E=!1,f()}}}function Et(e){let n,a,r=e[24].label+"",o,s,i,E,f,u,y;function L(){e[20].call(i,e[26],e[24])}let _=e[2].datasets[e[26]].data[e[24].index]<e[13]&&e[15]&&Mt(e);return{c(){n=h("div"),a=h("label"),o=D(r),s=g(),i=h("input"),E=g(),_&&_.c(),f=gt(),this.h()},l(k){n=m(k,"DIV",{class:!0});var M=p(n);a=m(M,"LABEL",{for:!0});var G=p(a);o=T(G,r),G.forEach(d),s=v(M),i=m(M,"INPUT",{id:!0,type:!0,min:!0,max:!0}),M.forEach(d),E=v(k),_&&_.l(k),f=gt(),this.h()},h(){C(a,"for","input_party_"+e[26]),C(i,"id","input_party_"+e[26]),C(i,"type","number"),C(i,"min","0"),C(i,"max","100"),C(n,"class","input_field_vote_party")},m(k,M){I(k,n,M),l(n,a),l(a,o),l(n,s),l(n,i),vt(i,e[2].datasets[e[26]].data[e[24].index]),I(k,E,M),_&&_.m(k,M),I(k,f,M),u||(y=wt(i,"input",L),u=!0)},p(k,M){e=k,M&4&&r!==(r=e[24].label+"")&&re(o,r),M&4&&It(i.value)!==e[2].datasets[e[26]].data[e[24].index]&&vt(i,e[2].datasets[e[26]].data[e[24].index]),e[2].datasets[e[26]].data[e[24].index]<e[13]&&e[15]?_?_.p(e,M):(_=Mt(e),_.c(),_.m(f.parentNode,f)):_&&(_.d(1),_=null)},d(k){k&&(d(n),d(E),d(f)),_&&_.d(k),u=!1,y()}}}function Dt(e){let n,a="Achtung: Gesamtstimmen dürfen 100% nicht überschreiten!";return{c(){n=h("p"),n.textContent=a},l(r){n=m(r,"P",{"data-svelte-h":!0}),X(n)!=="svelte-154vc08"&&(n.textContent=a)},m(r,o){I(r,n,o)},d(r){r&&d(n)}}}function Zt(e){let n,a,r;return{c(){n=h("p"),a=D("Achtung: "),r=D(e[16])},l(o){n=m(o,"P",{});var s=p(n);a=T(s,"Achtung: "),r=T(s,e[16]),s.forEach(d)},m(o,s){I(o,n,s),l(n,a),l(n,r)},p:$e,d(o){o&&d(n)}}}function Qt(e){let n,a="Stimmenanteile",r,o,s,i,E="Allgemeine Informationen",f,u,y,L,_="Wahltermin",k,M,G,ue,O,ie,B="Abgeordnete",oe,U,Y,be,Z,x,Te="Sperrklausel",b,S,R,j,z,ge="Sitzzuteilungsverfahren",ve,ye,qe,Ge,fe,ee,Ue,W,je,te,ce,ut="Sonstige:",Ze,Ce,ke=(e[6]>=0?e[6].toFixed(2):0)+"",we,Qe,Ie,se,ft="Mandatsverteilung",Se,Le,Q,he,ae,Je,F,ne,Ke,$,Xe,Ae,Ye,Pe,He,xe,q,et,Ve,tt,Be,Re,H;function St(t,c){return t[13]>0?Ut:Gt}let Me=St(e)(e);ee=new Ct({props:{data:e[2],options:{responsive:!0,maintainAspectRatio:!1,plugins:{datalabels:{anchor:"end",align:"top",color:"black",font:{weight:"bold"},formatter:Tt},annotation:{annotations:e[13]>0?{majorityLine:{type:"line",yMin:e[13],yMax:e[13],borderColor:"rgb(255, 99, 132)",borderWidth:2}}:{}}},scales:{x:{stacked:!0},y:{stacked:!0,suggestedMax:Math.max(...e[2].labels.map(e[19]))+5}}}}});let me=yt(e[2].datasets),w=[];for(let t=0;t<me.length;t+=1)w[t]=Et(kt(e,me,t));let A=e[6]<-1e-5&&Dt(),J=e[16]&&Zt(e);return ae=new Vt({props:{id:"mandatesChart",data:e[8],options:{responsive:!0,circumference:180,rotation:-90,plugins:{datalabels:{anchor:"end",align:"start",color:"white",formatter:Yt,font:{weight:"bold",size:20}}}}}}),ne=new Ct({props:{data:e[0],options:{responsive:!0,indexAxis:"y",scales:{y:{stacked:!0},x:{stacked:!0,max:e[1]}},plugins:{annotation:{annotations:{majorityLine:{type:"line",xMin:e[4],xMax:e[4],borderColor:"rgb(255, 99, 132)",borderWidth:3},twoThirdsMajorityLine:{type:"line",xMin:e[5],xMax:e[5],borderColor:"rgb(255, 99, 132)",borderWidth:1}}},datalabels:{anchor:"center",align:"center",color:"white",formatter:jt,font:{weight:"bold",size:20}},legend:{onClick:e[22]}}}}}),{c(){n=h("h1"),n.textContent=a,r=g(),o=h("section"),s=h("div"),i=h("p"),i.textContent=E,f=g(),u=h("table"),y=h("tr"),L=h("th"),L.textContent=_,k=g(),M=h("td"),G=D(e[3]),ue=g(),O=h("tr"),ie=h("th"),ie.textContent=B,oe=g(),U=h("td"),Y=D(e[1]),be=g(),Z=h("tr"),x=h("th"),x.textContent=Te,b=g(),S=h("td"),Me.c(),R=g(),j=h("tr"),z=h("th"),z.textContent=ge,ve=g(),ye=h("td"),qe=D(e[14]),Ge=g(),fe=h("div"),lt(ee.$$.fragment),Ue=g(),W=h("div");for(let t=0;t<w.length;t+=1)w[t].c();je=g(),te=h("div"),ce=h("p"),ce.textContent=ut,Ze=g(),Ce=h("p"),we=D(ke),Qe=g(),A&&A.c(),Ie=g(),se=h("h1"),se.textContent=ft,Se=g(),J&&J.c(),Le=g(),Q=h("section"),he=h("div"),lt(ae.$$.fragment),Je=g(),F=h("div"),lt(ne.$$.fragment),Ke=g(),$=h("p"),Xe=D("Mehrheit: "),Ae=D(e[7]),Ye=D("/"),Pe=D(e[4]),xe=g(),q=h("p"),et=D("Zweidrittelmehrheit: "),Ve=D(e[7]),tt=D("/"),Be=D(e[5]),this.h()},l(t){n=m(t,"H1",{"data-svelte-h":!0}),X(n)!=="svelte-too001"&&(n.textContent=a),r=v(t),o=m(t,"SECTION",{class:!0});var c=p(o);s=m(c,"DIV",{class:!0});var V=p(s);i=m(V,"P",{"data-svelte-h":!0}),X(i)!=="svelte-7wsg44"&&(i.textContent=E),f=v(V),u=m(V,"TABLE",{});var N=p(u);y=m(N,"TR",{});var le=p(y);L=m(le,"TH",{"data-svelte-h":!0}),X(L)!=="svelte-1cjbgjn"&&(L.textContent=_),k=v(le),M=m(le,"TD",{});var P=p(M);G=T(P,e[3]),P.forEach(d),le.forEach(d),ue=v(N),O=m(N,"TR",{});var de=p(O);ie=m(de,"TH",{"data-svelte-h":!0}),X(ie)!=="svelte-m7jygq"&&(ie.textContent=B),oe=v(de),U=m(de,"TD",{});var ct=p(U);Y=T(ct,e[1]),ct.forEach(d),de.forEach(d),be=v(N),Z=m(N,"TR",{});var We=p(Z);x=m(We,"TH",{"data-svelte-h":!0}),X(x)!=="svelte-1k72mb"&&(x.textContent=Te),b=v(We),S=m(We,"TD",{});var ht=p(S);Me.l(ht),ht.forEach(d),We.forEach(d),R=v(N),j=m(N,"TR",{});var Ne=p(j);z=m(Ne,"TH",{"data-svelte-h":!0}),X(z)!=="svelte-1lrysmd"&&(z.textContent=ge),ve=v(Ne),ye=m(Ne,"TD",{});var mt=p(ye);qe=T(mt,e[14]),mt.forEach(d),Ne.forEach(d),N.forEach(d),V.forEach(d),Ge=v(c),fe=m(c,"DIV",{class:!0});var pt=p(fe);rt(ee.$$.fragment,pt),pt.forEach(d),Ue=v(c),W=m(c,"DIV",{class:!0});var pe=p(W);for(let at=0;at<w.length;at+=1)w[at].l(pe);je=v(pe),te=m(pe,"DIV",{class:!0});var Oe=p(te);ce=m(Oe,"P",{"data-svelte-h":!0}),X(ce)!=="svelte-1p0cp1c"&&(ce.textContent=ut),Ze=v(Oe),Ce=m(Oe,"P",{});var _t=p(Ce);we=T(_t,ke),_t.forEach(d),Oe.forEach(d),Qe=v(pe),A&&A.l(pe),pe.forEach(d),c.forEach(d),Ie=v(t),se=m(t,"H1",{"data-svelte-h":!0}),X(se)!=="svelte-jg7skr"&&(se.textContent=ft),Se=v(t),J&&J.l(t),Le=v(t),Q=m(t,"SECTION",{class:!0});var ze=p(Q);he=m(ze,"DIV",{class:!0});var bt=p(he);rt(ae.$$.fragment,bt),bt.forEach(d),Je=v(ze),F=m(ze,"DIV",{class:!0});var _e=p(F);rt(ne.$$.fragment,_e),Ke=v(_e),$=m(_e,"P",{class:!0});var Ee=p($);Xe=T(Ee,"Mehrheit: "),Ae=T(Ee,e[7]),Ye=T(Ee,"/"),Pe=T(Ee,e[4]),Ee.forEach(d),xe=v(_e),q=m(_e,"P",{class:!0});var De=p(q);et=T(De,"Zweidrittelmehrheit: "),Ve=T(De,e[7]),tt=T(De,"/"),Be=T(De,e[5]),De.forEach(d),_e.forEach(d),ze.forEach(d),this.h()},h(){C(s,"class","info_container"),C(fe,"class","bar_container"),C(te,"class","input_field_vote_party"),C(W,"class","input_fields_vote"),C(o,"class","vote_share_section"),C(he,"class","pie_container"),C($,"class",He="majorityText "+(e[7]<e[4]?"red":"green")),C(q,"class",Re="majorityText "+(e[7]<e[5]?"red":"green")),C(F,"class","stack_container"),C(Q,"class","mandate_section")},m(t,c){I(t,n,c),I(t,r,c),I(t,o,c),l(o,s),l(s,i),l(s,f),l(s,u),l(u,y),l(y,L),l(y,k),l(y,M),l(M,G),l(u,ue),l(u,O),l(O,ie),l(O,oe),l(O,U),l(U,Y),l(u,be),l(u,Z),l(Z,x),l(Z,b),l(Z,S),Me.m(S,null),l(u,R),l(u,j),l(j,z),l(j,ve),l(j,ye),l(ye,qe),l(o,Ge),l(o,fe),it(ee,fe,null),l(o,Ue),l(o,W);for(let V=0;V<w.length;V+=1)w[V]&&w[V].m(W,null);l(W,je),l(W,te),l(te,ce),l(te,Ze),l(te,Ce),l(Ce,we),l(W,Qe),A&&A.m(W,null),I(t,Ie,c),I(t,se,c),I(t,Se,c),J&&J.m(t,c),I(t,Le,c),I(t,Q,c),l(Q,he),it(ae,he,null),l(Q,Je),l(Q,F),it(ne,F,null),l(F,Ke),l(F,$),l($,Xe),l($,Ae),l($,Ye),l($,Pe),l(F,xe),l(F,q),l(q,et),l(q,Ve),l(q,tt),l(q,Be),H=!0},p(t,[c]){(!H||c&8)&&re(G,t[3]),(!H||c&2)&&re(Y,t[1]),Me.p(t,c);const V={};if(c&4&&(V.data=t[2]),c&4&&(V.options={responsive:!0,maintainAspectRatio:!1,plugins:{datalabels:{anchor:"end",align:"top",color:"black",font:{weight:"bold"},formatter:Tt},annotation:{annotations:t[13]>0?{majorityLine:{type:"line",yMin:t[13],yMax:t[13],borderColor:"rgb(255, 99, 132)",borderWidth:2}}:{}}},scales:{x:{stacked:!0},y:{stacked:!0,suggestedMax:Math.max(...t[2].labels.map(t[19]))+5}}}),ee.$set(V),c&172036){me=yt(t[2].datasets);let P;for(P=0;P<me.length;P+=1){const de=kt(t,me,P);w[P]?w[P].p(de,c):(w[P]=Et(de),w[P].c(),w[P].m(W,je))}for(;P<w.length;P+=1)w[P].d(1);w.length=me.length}(!H||c&64)&&ke!==(ke=(t[6]>=0?t[6].toFixed(2):0)+"")&&re(we,ke),t[6]<-1e-5?A||(A=Dt(),A.c(),A.m(W,null)):A&&(A.d(1),A=null),t[16]&&J.p(t,c);const N={};c&256&&(N.data=t[8]),ae.$set(N);const le={};c&1&&(le.data=t[0]),c&51&&(le.options={responsive:!0,indexAxis:"y",scales:{y:{stacked:!0},x:{stacked:!0,max:t[1]}},plugins:{annotation:{annotations:{majorityLine:{type:"line",xMin:t[4],xMax:t[4],borderColor:"rgb(255, 99, 132)",borderWidth:3},twoThirdsMajorityLine:{type:"line",xMin:t[5],xMax:t[5],borderColor:"rgb(255, 99, 132)",borderWidth:1}}},datalabels:{anchor:"center",align:"center",color:"white",formatter:jt,font:{weight:"bold",size:20}},legend:{onClick:t[22]}}}),ne.$set(le),(!H||c&128)&&re(Ae,t[7]),(!H||c&16)&&re(Pe,t[4]),(!H||c&144&&He!==(He="majorityText "+(t[7]<t[4]?"red":"green")))&&C($,"class",He),(!H||c&128)&&re(Ve,t[7]),(!H||c&32)&&re(Be,t[5]),(!H||c&160&&Re!==(Re="majorityText "+(t[7]<t[5]?"red":"green")))&&C(q,"class",Re)},i(t){H||(ot(ee.$$.fragment,t),ot(ae.$$.fragment,t),ot(ne.$$.fragment,t),H=!0)},o(t){st(ee.$$.fragment,t),st(ae.$$.fragment,t),st(ne.$$.fragment,t),H=!1},d(t){t&&(d(n),d(r),d(o),d(Ie),d(se),d(Se),d(Le),d(Q)),Me.d(),dt(ee),Ht(w,t),A&&A.d(),J&&J.d(t),dt(ae),dt(ne)}}}function Jt(e,n){let a=[],r=[],o=[...e];for(let s in e)r.push(1),a.push(0);for(let s=0;s<n;s++){let i=o.indexOf(Math.max(...o));r[i]=r[i]+1,a[i]=a[i]+1,o[i]=e[i]/r[i]}return a}function Kt(e,n){let a=[],r=new Array(e.length).fill(.5),o=[...e];for(let s in e)r.push(1),a.push(0);for(let s=0;s<n;s++){let i=o.indexOf(Math.max(...o));r[i]=r[i]+1,a[i]=a[i]+1,o[i]=e[i]/r[i]}return a}function Xt(e,n){let a=[];const o=e.reduce((f,u)=>f+u,0)/n;a=e.map(f=>{const u=Math.floor(f/o),y=f%o;return{initialMandates:u,remainder:y}});let s=a.reduce((f,u)=>f+(u.initialMandates||0),0);const i=n-s,E=a.map((f,u)=>({index:u,remainder:f.remainder||0})).sort((f,u)=>u.remainder-f.remainder);for(let f=0;f<i;f++)a[E[f].index].initialMandates+=1;return a.map(f=>f.initialMandates||0)}const Tt=(e,n)=>{const{chart:a,dataIndex:r,datasetIndex:o}=n,s=a.data.datasets.length-1;return o!==s?"":a.data.datasets.reduce((E,f)=>{const u=f.data[r];return typeof u=="number"?E+u:E},0).toLocaleString("de-AT",{minimumFractionDigits:2,maximumFractionDigits:2})},Yt=function(e){return e>0?e:""},jt=function(e){return e>0?e:""};function xt(e,n,a){let r,o,s,i;Bt.register(Rt,Wt,Nt,Ot,zt,Ft,$t,qt);let E=K("data");Fe(e,E,b=>a(2,i=b));let f=K("mandateData");Fe(e,f,b=>a(8,o=b));let u=K("majorityData");Fe(e,u,b=>a(0,r=b));let y=K("mandateCount");Fe(e,y,b=>a(1,s=b));let L=K("threshold"),_=K("apportionmentMethod"),k=K("electionDate"),M=K("baseMandateRule"),G=K("note"),ue=0,O=0;k=new Date(k).toLocaleDateString("de-AT",{day:"numeric",month:"long",year:"numeric"});let B=[],oe,U=0;function Y(b){let S=b.map(j=>j.data[j.index]);a(6,oe=100-S.reduce((j,z)=>j+z,0));let R=S.map((j,z)=>{const ge=document.getElementById(`checkbox_party_${z}`),ve=ge instanceof HTMLInputElement?ge.checked:!1;return j<L&&!ve?0:j});return oe>=-1e-5&&(_=="D'Hondt"?a(18,B=Jt([...R],s)):_=="Sainte-Laguë"?a(18,B=Kt([...R],s)):_=="Hare-Niemeyer"&&a(18,B=Xt([...R],s))),B}const be=(b,S)=>i.datasets.reduce((R,j)=>R+(j.data[S]||0),0);function Z(b,S){i.datasets[b].data[S.index]=It(this.value),E.set(i)}const x=()=>Y(i.datasets),Te=function(b,S){if(S.datasetIndex!==void 0){const R=S.datasetIndex,j=r.datasets[R].hidden;nt(u,r.datasets[R].hidden=!j,r)}};return e.$$.update=()=>{if(e.$$.dirty&2&&a(4,ue=Math.floor(s/2+1)),e.$$.dirty&2&&a(5,O=Math.ceil(s/3*2)),e.$$.dirty&4&&a(18,B=Y(i.datasets)),e.$$.dirty&262144){nt(f,o.datasets[0].data=B,o);for(let b in B)nt(u,r.datasets[b].data=[B[b]],r)}e.$$.dirty&129&&(a(7,U=0),r.datasets.forEach((b,S)=>{b.hidden||a(7,U+=b.data[0])}))},[r,s,i,k,ue,O,oe,U,o,E,f,u,y,L,_,M,G,Y,B,be,Z,x,Te]}class ra extends At{constructor(n){super(),Pt(this,n,xt,Qt,Lt,{})}}export{ra as E};
