import{s as De,g as Y,c as Lt,a as te}from"./scheduler.57brOU3d.js";import{S as Me,i as je,e as i,s as v,t as M,l as ee,c as o,k as R,f as g,a as _,b as j,d,m as ae,n as E,g as q,h as e,o as ne,j as gt,p as le,q as re,r as se,u as we,v as me,w as ke,x as Te}from"./index.D2rEIk-_.js";import{B as ve,e as ge,P as Ie,C as Se,p as $e,a as Le,b as Pe,c as xe,d as Ae,L as Ve,f as He,g as ze}from"./auto.C7o8Lg7H.js";function be(t,r,f){const l=t.slice();return l[18]=r[f],l[19]=r,l[20]=f,l}function Ce(t){let r,f,l=t[3].labels[t[20]]+"",s,u,n,h,$;function b(){t[16].call(n,t[20])}return{c(){r=i("div"),f=i("label"),s=M(l),u=v(),n=i("input"),this.h()},l(C){r=o(C,"DIV",{class:!0});var m=_(r);f=o(m,"LABEL",{for:!0});var B=_(f);s=j(B,l),B.forEach(d),u=g(m),n=o(m,"INPUT",{id:!0,type:!0,min:!0,max:!0}),m.forEach(d),this.h()},h(){E(f,"for","input_party_"+t[20]),E(n,"id","input_party_"+t[20]),E(n,"type","number"),E(n,"min","0"),E(n,"max","100"),E(r,"class","input_field_vote_party")},m(C,m){q(C,r,m),e(r,f),e(f,s),e(r,u),e(r,n),me(n,t[3].datasets[0].data[t[20]]),h||($=ke(n,"input",b),h=!0)},p(C,m){t=C,m&8&&l!==(l=t[3].labels[t[20]]+"")&&gt(s,l),m&8&&Te(n.value)!==t[3].datasets[0].data[t[20]]&&me(n,t[3].datasets[0].data[t[20]])},d(C){C&&d(r),h=!1,$()}}}function Ee(t){let r,f="Achtung: Gesamtstimmen dürfen 100% nicht überschreiten!";return{c(){r=i("p"),r.textContent=f},l(l){r=o(l,"P",{"data-svelte-h":!0}),R(r)!=="svelte-154vc08"&&(r.textContent=f)},m(l,s){q(l,r,s)},d(l){l&&d(r)}}}function Be(t){let r,f="Stimmenanteile",l,s,u,n,h="Allgemeine Informationen",$,b,C,m,B="Wahltermin",ft,J,ut,L,I,P,bt="Abgeordnete",ht,p,x,tt,W,et,ie="Sperrklausel",Pt,at,xt,At,Vt,K,nt,oe="Sitzzuteilungsverfahren",Ht,ct,zt,Bt,lt,N,Wt,w,Ct,F,rt,de="Sonstige:",Ot,pt,_t=(t[0]>=0?t[0].toFixed(2):0)+"",Et,Rt,yt,Q,fe="Mandatsverteilung",Tt,O,st,Z,qt,A,G,Nt,V,Ft,Dt,Zt,Gt,Mt,Ut,H,Jt,jt,Kt,Qt,wt,z;N=new ve({props:{data:t[3],options:{responsive:!0,plugins:{datalabels:{display:!1}}}}});let it=ge(t[3].datasets[0].data),y=[];for(let a=0;a<it.length;a+=1)y[a]=Ce(be(t,it,a));let T=t[0]<-1e-5&&Ee();return Z=new Ie({props:{id:"mandatesChart",data:t[5],options:{responsive:!0,circumference:180,rotation:-90,plugins:{datalabels:{anchor:"end",align:"start",color:"white",formatter:Re,font:{weight:"bold",size:20}}}}}}),G=new ve({props:{data:t[1],options:{responsive:!0,indexAxis:"y",scales:{y:{stacked:!0},x:{stacked:!0,max:t[2]}},plugins:{annotation:{annotations:{majorityLine:{type:"line",xMin:t[13],xMax:t[13],borderColor:"rgb(255, 99, 132)",borderWidth:3},twoThirdsMajorityLine:{type:"line",xMin:t[14],xMax:t[14],borderColor:"rgb(255, 99, 132)",borderWidth:1}}},datalabels:{anchor:"center",align:"center",color:"white",formatter:ye,font:{weight:"bold",size:20}},legend:{onClick:t[17]}}}}}),{c(){r=i("h1"),r.textContent=f,l=v(),s=i("section"),u=i("div"),n=i("p"),n.textContent=h,$=v(),b=i("table"),C=i("tr"),m=i("th"),m.textContent=B,ft=v(),J=i("td"),ut=M(t[12]),L=v(),I=i("tr"),P=i("th"),P.textContent=bt,ht=v(),p=i("td"),x=M(t[2]),tt=v(),W=i("tr"),et=i("th"),et.textContent=ie,Pt=v(),at=i("td"),xt=M(t[10]),At=M(" %"),Vt=v(),K=i("tr"),nt=i("th"),nt.textContent=oe,Ht=v(),ct=i("td"),zt=M(t[11]),Bt=v(),lt=i("div"),ee(N.$$.fragment),Wt=v(),w=i("div");for(let a=0;a<y.length;a+=1)y[a].c();Ct=v(),F=i("div"),rt=i("p"),rt.textContent=de,Ot=v(),pt=i("p"),Et=M(_t),Rt=v(),T&&T.c(),yt=v(),Q=i("h1"),Q.textContent=fe,Tt=v(),O=i("section"),st=i("div"),ee(Z.$$.fragment),qt=v(),A=i("div"),ee(G.$$.fragment),Nt=v(),V=i("p"),Ft=M("Mehrheit: "),Dt=M(t[4]),Zt=M("/"),Gt=M(t[13]),Ut=v(),H=i("p"),Jt=M("Zweidrittelmehrheit: "),jt=M(t[4]),Kt=M("/"),Qt=M(t[14]),this.h()},l(a){r=o(a,"H1",{"data-svelte-h":!0}),R(r)!=="svelte-too001"&&(r.textContent=f),l=g(a),s=o(a,"SECTION",{class:!0});var c=_(s);u=o(c,"DIV",{class:!0});var k=_(u);n=o(k,"P",{"data-svelte-h":!0}),R(n)!=="svelte-7wsg44"&&(n.textContent=h),$=g(k),b=o(k,"TABLE",{});var S=_(b);C=o(S,"TR",{});var U=_(C);m=o(U,"TH",{"data-svelte-h":!0}),R(m)!=="svelte-1cjbgjn"&&(m.textContent=B),ft=g(U),J=o(U,"TD",{});var D=_(J);ut=j(D,t[12]),D.forEach(d),U.forEach(d),L=g(S),I=o(S,"TR",{});var X=_(I);P=o(X,"TH",{"data-svelte-h":!0}),R(P)!=="svelte-m7jygq"&&(P.textContent=bt),ht=g(X),p=o(X,"TD",{});var ue=_(p);x=j(ue,t[2]),ue.forEach(d),X.forEach(d),tt=g(S),W=o(S,"TR",{});var kt=_(W);et=o(kt,"TH",{"data-svelte-h":!0}),R(et)!=="svelte-1k72mb"&&(et.textContent=ie),Pt=g(kt),at=o(kt,"TD",{});var Xt=_(at);xt=j(Xt,t[10]),At=j(Xt," %"),Xt.forEach(d),kt.forEach(d),Vt=g(S),K=o(S,"TR",{});var It=_(K);nt=o(It,"TH",{"data-svelte-h":!0}),R(nt)!=="svelte-1lrysmd"&&(nt.textContent=oe),Ht=g(It),ct=o(It,"TD",{});var he=_(ct);zt=j(he,t[11]),he.forEach(d),It.forEach(d),S.forEach(d),k.forEach(d),Bt=g(c),lt=o(c,"DIV",{class:!0});var ce=_(lt);ae(N.$$.fragment,ce),ce.forEach(d),Wt=g(c),w=o(c,"DIV",{class:!0});var ot=_(w);for(let Yt=0;Yt<y.length;Yt+=1)y[Yt].l(ot);Ct=g(ot),F=o(ot,"DIV",{class:!0});var St=_(F);rt=o(St,"P",{"data-svelte-h":!0}),R(rt)!=="svelte-1p0cp1c"&&(rt.textContent=de),Ot=g(St),pt=o(St,"P",{});var pe=_(pt);Et=j(pe,_t),pe.forEach(d),St.forEach(d),Rt=g(ot),T&&T.l(ot),ot.forEach(d),c.forEach(d),yt=g(a),Q=o(a,"H1",{"data-svelte-h":!0}),R(Q)!=="svelte-jg7skr"&&(Q.textContent=fe),Tt=g(a),O=o(a,"SECTION",{class:!0});var $t=_(O);st=o($t,"DIV",{class:!0});var _e=_(st);ae(Z.$$.fragment,_e),_e.forEach(d),qt=g($t),A=o($t,"DIV",{class:!0});var dt=_(A);ae(G.$$.fragment,dt),Nt=g(dt),V=o(dt,"P",{class:!0});var mt=_(V);Ft=j(mt,"Mehrheit: "),Dt=j(mt,t[4]),Zt=j(mt,"/"),Gt=j(mt,t[13]),mt.forEach(d),Ut=g(dt),H=o(dt,"P",{class:!0});var vt=_(H);Jt=j(vt,"Zweidrittelmehrheit: "),jt=j(vt,t[4]),Kt=j(vt,"/"),Qt=j(vt,t[14]),vt.forEach(d),dt.forEach(d),$t.forEach(d),this.h()},h(){E(u,"class","info_container"),E(lt,"class","bar_container"),E(F,"class","input_field_vote_party"),E(w,"class","input_fields_vote"),E(s,"class","vote_share_section"),E(st,"class","pie_container"),E(V,"class",Mt="majorityText "+(t[4]<t[13]?"red":"green")),E(H,"class",wt="majorityText "+(t[4]<t[14]?"red":"green")),E(A,"class","stack_container"),E(O,"class","mandate_section")},m(a,c){q(a,r,c),q(a,l,c),q(a,s,c),e(s,u),e(u,n),e(u,$),e(u,b),e(b,C),e(C,m),e(C,ft),e(C,J),e(J,ut),e(b,L),e(b,I),e(I,P),e(I,ht),e(I,p),e(p,x),e(b,tt),e(b,W),e(W,et),e(W,Pt),e(W,at),e(at,xt),e(at,At),e(b,Vt),e(b,K),e(K,nt),e(K,Ht),e(K,ct),e(ct,zt),e(s,Bt),e(s,lt),ne(N,lt,null),e(s,Wt),e(s,w);for(let k=0;k<y.length;k+=1)y[k]&&y[k].m(w,null);e(w,Ct),e(w,F),e(F,rt),e(F,Ot),e(F,pt),e(pt,Et),e(w,Rt),T&&T.m(w,null),q(a,yt,c),q(a,Q,c),q(a,Tt,c),q(a,O,c),e(O,st),ne(Z,st,null),e(O,qt),e(O,A),ne(G,A,null),e(A,Nt),e(A,V),e(V,Ft),e(V,Dt),e(V,Zt),e(V,Gt),e(A,Ut),e(A,H),e(H,Jt),e(H,jt),e(H,Kt),e(H,Qt),z=!0},p(a,[c]){(!z||c&4)&&gt(x,a[2]);const k={};if(c&8&&(k.data=a[3]),N.$set(k),c&8){it=ge(a[3].datasets[0].data);let D;for(D=0;D<it.length;D+=1){const X=be(a,it,D);y[D]?y[D].p(X,c):(y[D]=Ce(X),y[D].c(),y[D].m(w,Ct))}for(;D<y.length;D+=1)y[D].d(1);y.length=it.length}(!z||c&1)&&_t!==(_t=(a[0]>=0?a[0].toFixed(2):0)+"")&&gt(Et,_t),a[0]<-1e-5?T||(T=Ee(),T.c(),T.m(w,null)):T&&(T.d(1),T=null);const S={};c&32&&(S.data=a[5]),Z.$set(S);const U={};c&2&&(U.data=a[1]),c&6&&(U.options={responsive:!0,indexAxis:"y",scales:{y:{stacked:!0},x:{stacked:!0,max:a[2]}},plugins:{annotation:{annotations:{majorityLine:{type:"line",xMin:a[13],xMax:a[13],borderColor:"rgb(255, 99, 132)",borderWidth:3},twoThirdsMajorityLine:{type:"line",xMin:a[14],xMax:a[14],borderColor:"rgb(255, 99, 132)",borderWidth:1}}},datalabels:{anchor:"center",align:"center",color:"white",formatter:ye,font:{weight:"bold",size:20}},legend:{onClick:a[17]}}}),G.$set(U),(!z||c&16)&&gt(Dt,a[4]),(!z||c&16&&Mt!==(Mt="majorityText "+(a[4]<a[13]?"red":"green")))&&E(V,"class",Mt),(!z||c&16)&&gt(jt,a[4]),(!z||c&16&&wt!==(wt="majorityText "+(a[4]<a[14]?"red":"green")))&&E(H,"class",wt)},i(a){z||(le(N.$$.fragment,a),le(Z.$$.fragment,a),le(G.$$.fragment,a),z=!0)},o(a){re(N.$$.fragment,a),re(Z.$$.fragment,a),re(G.$$.fragment,a),z=!1},d(a){a&&(d(r),d(l),d(s),d(yt),d(Q),d(Tt),d(O)),se(N),we(y,a),T&&T.d(),se(Z),se(G)}}}function We(t,r,f){let l=[],s=[],u=[...t];for(let n in t)s.push(1),l.push(0),t[n]<f&&(t[n]=0,u[n]=0);for(let n=0;n<r;n++){let h=u.indexOf(Math.max(...u));s[h]=s[h]+1,l[h]=l[h]+1,u[h]=t[h]/s[h]}return l}function Oe(t,r,f){let l=[],s=new Array(t.length).fill(.5),u=[...t];for(let n in t)s.push(1),l.push(0),t[n]<f&&(t[n]=0,u[n]=0);for(let n=0;n<r;n++){let h=u.indexOf(Math.max(...u));s[h]=s[h]+1,l[h]=l[h]+1,u[h]=t[h]/s[h]}return l}const Re=function(t){return t>0?t:""},ye=function(t){return t>0?t:""};function qe(t,r,f){let l,s,u,n;Se.register($e,Le,Pe,xe,Ae,Ve,He,ze);let h=Y("data");Lt(t,h,p=>f(3,n=p));let $=Y("mandateData");Lt(t,$,p=>f(5,s=p));let b=Y("majorityData");Lt(t,b,p=>f(1,l=p));let C=Y("mandateCount");Lt(t,C,p=>f(2,u=p));let m=Y("threshold"),B=Y("apportionmentMethod"),ft=Y("electionDate"),J=Math.floor(u/2+1),ut=Math.ceil(u/3*2),L=[],I,P=0;function bt(p){n.datasets[0].data[p]=Te(this.value),h.set(n)}const ht=function(p,x){if(x.datasetIndex!==void 0){const tt=x.datasetIndex,W=l.datasets[tt].hidden;te(b,l.datasets[tt].hidden=!W,l)}};return t.$$.update=()=>{if(t.$$.dirty&13&&(f(0,I=100-n.datasets[0].data.reduce((p,x)=>p+x,0)),I>=-1e-5&&(h.set(n),B=="D'Hondt"?f(15,L=We([...n.datasets[0].data],u,m)):B=="Sainte-Laguë"&&f(15,L=Oe([...n.datasets[0].data],u,m)))),t.$$.dirty&32768){te($,s.datasets[0].data=L,s);for(let p in L)te(b,l.datasets[p].data=[L[p]],l)}t.$$.dirty&18&&(f(4,P=0),l.datasets.forEach((p,x)=>{p.hidden||f(4,P+=p.data[0])}))},[I,l,u,n,P,s,h,$,b,C,m,B,ft,J,ut,L,bt,ht]}class Ge extends Me{constructor(r){super(),je(this,r,qe,Be,De,{})}}export{Ge as E};
