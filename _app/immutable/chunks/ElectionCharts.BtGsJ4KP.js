import{s as pe,g as Y}from"./scheduler.CEQmJdr9.js";import{S as _e,i as me,e as i,s as m,t as j,l as Ft,c as d,k as L,f as g,a as _,b as P,d as u,m as Gt,n as b,g as z,h as e,o as Ut,j as Xt,p as Jt,q as Kt,r as Qt,u as ge,v as re,w as ve,x as he}from"./index.Cfi6UVQz.js";import{B as oe,e as ie,P as Ce,C as be,p as Ee,a as ye,b as De,c as Te,d as ke,L as xe,f as Ie,g as we}from"./auto.BZqVbn6Y.js";function de(t,r,s){const l=t.slice();return l[13]=r[s],l[14]=r,l[15]=s,l}function fe(t){let r,s,l=t[0].labels[t[15]]+"",o,f,n,c,T;function E(){t[11].call(n,t[15])}return{c(){r=i("div"),s=i("label"),o=j(l),f=m(),n=i("input"),this.h()},l(v){r=d(v,"DIV",{class:!0});var p=_(r);s=d(p,"LABEL",{for:!0});var w=_(s);o=P(w,l),w.forEach(u),f=g(p),n=d(p,"INPUT",{id:!0,type:!0,min:!0,max:!0}),p.forEach(u),this.h()},h(){b(s,"for","input_party_"+t[15]),b(n,"id","input_party_"+t[15]),b(n,"type","number"),b(n,"min","0"),b(n,"max","100"),b(r,"class","input_field_vote_party")},m(v,p){z(v,r,p),e(r,s),e(s,o),e(r,f),e(r,n),re(n,t[0].datasets[0].data[t[15]]),c||(T=ve(n,"input",E),c=!0)},p(v,p){t=v,p&1&&l!==(l=t[0].labels[t[15]]+"")&&Xt(o,l),p&1&&he(n.value)!==t[0].datasets[0].data[t[15]]&&re(n,t[0].datasets[0].data[t[15]])},d(v){v&&u(r),c=!1,T()}}}function ue(t){let r,s="Achtung: Gesamtstimmen dürfen 100% nicht überschreiten!";return{c(){r=i("p"),r.textContent=s},l(l){r=d(l,"P",{"data-svelte-h":!0}),L(r)!=="svelte-154vc08"&&(r.textContent=s)},m(l,o){z(l,r,o)},d(l){l&&u(r)}}}function Me(t){let r,s="Stimmenanteile",l,o,f,n,c="Allgemeine Informationen",T,E,v,p,w="Wahltermin",F,G,it,M,k,V,ht="Abgeordnete",Z,$,kt,xt,U,tt,Yt="Sperrklausel",It,et,wt,Mt,St,J,at,Zt="Sitzzuteilungsverfahren",jt,dt,Pt,At,nt,B,Vt,x,pt,O,lt,$t="Sonstige:",Ht,ft,ut=(t[1]>=0?t[1].toFixed(2):0)+"",_t,Lt,mt,K,te="Mandatsverteilung",gt,H,st,R,zt,q,N,Bt,A,Ot,vt,Rt,qt,Ct,Q;B=new oe({props:{data:t[0],options:{responsive:!0,plugins:{datalabels:{display:!1}}}}});let rt=ie(t[0].datasets[0].data),C=[];for(let a=0;a<rt.length;a+=1)C[a]=fe(de(t,rt,a));let y=t[1]<0&&ue();return R=new Ce({props:{id:"mandatesChart",data:t[2],options:{responsive:!0,circumference:180,rotation:-90,plugins:{datalabels:{anchor:"end",align:"start",color:"white",formatter:Pe,font:{weight:"bold",size:20}}}}}}),N=new oe({props:{data:t[3],options:{responsive:!0,indexAxis:"y",scales:{y:{stacked:!0},x:{stacked:!0,max:t[5]}},plugins:{annotation:{annotations:{line1:{type:"line",xMin:t[9],xMax:t[9],borderColor:"rgb(255, 99, 132)",borderWidth:2}}},datalabels:{anchor:"center",align:"center",color:"white",formatter:ce,font:{weight:"bold",size:20}},legend:{onClick:t[12]}}}}}),{c(){r=i("h1"),r.textContent=s,l=m(),o=i("section"),f=i("div"),n=i("p"),n.textContent=c,T=m(),E=i("table"),v=i("tr"),p=i("th"),p.textContent=w,F=m(),G=i("td"),it=j(t[8]),M=m(),k=i("tr"),V=i("th"),V.textContent=ht,Z=m(),$=i("td"),kt=j(t[5]),xt=m(),U=i("tr"),tt=i("th"),tt.textContent=Yt,It=m(),et=i("td"),wt=j(t[6]),Mt=j(" %"),St=m(),J=i("tr"),at=i("th"),at.textContent=Zt,jt=m(),dt=i("td"),Pt=j(t[7]),At=m(),nt=i("div"),Ft(B.$$.fragment),Vt=m(),x=i("div");for(let a=0;a<C.length;a+=1)C[a].c();pt=m(),O=i("div"),lt=i("p"),lt.textContent=$t,Ht=m(),ft=i("p"),_t=j(ut),Lt=m(),y&&y.c(),mt=m(),K=i("h1"),K.textContent=te,gt=m(),H=i("section"),st=i("div"),Ft(R.$$.fragment),zt=m(),q=i("div"),Ft(N.$$.fragment),Bt=m(),A=i("p"),Ot=j("Mehrheit: "),vt=j(t[4]),Rt=j("/"),qt=j(t[9]),this.h()},l(a){r=d(a,"H1",{"data-svelte-h":!0}),L(r)!=="svelte-too001"&&(r.textContent=s),l=g(a),o=d(a,"SECTION",{class:!0});var h=_(o);f=d(h,"DIV",{class:!0});var I=_(f);n=d(I,"P",{"data-svelte-h":!0}),L(n)!=="svelte-7wsg44"&&(n.textContent=c),T=g(I),E=d(I,"TABLE",{});var S=_(E);v=d(S,"TR",{});var W=_(v);p=d(W,"TH",{"data-svelte-h":!0}),L(p)!=="svelte-1cjbgjn"&&(p.textContent=w),F=g(W),G=d(W,"TD",{});var D=_(G);it=P(D,t[8]),D.forEach(u),W.forEach(u),M=g(S),k=d(S,"TR",{});var X=_(k);V=d(X,"TH",{"data-svelte-h":!0}),L(V)!=="svelte-m7jygq"&&(V.textContent=ht),Z=g(X),$=d(X,"TD",{});var ee=_($);kt=P(ee,t[5]),ee.forEach(u),X.forEach(u),xt=g(S),U=d(S,"TR",{});var bt=_(U);tt=d(bt,"TH",{"data-svelte-h":!0}),L(tt)!=="svelte-1k72mb"&&(tt.textContent=Yt),It=g(bt),et=d(bt,"TD",{});var Nt=_(et);wt=P(Nt,t[6]),Mt=P(Nt," %"),Nt.forEach(u),bt.forEach(u),St=g(S),J=d(S,"TR",{});var Et=_(J);at=d(Et,"TH",{"data-svelte-h":!0}),L(at)!=="svelte-1lrysmd"&&(at.textContent=Zt),jt=g(Et),dt=d(Et,"TD",{});var ae=_(dt);Pt=P(ae,t[7]),ae.forEach(u),Et.forEach(u),S.forEach(u),I.forEach(u),At=g(h),nt=d(h,"DIV",{class:!0});var ne=_(nt);Gt(B.$$.fragment,ne),ne.forEach(u),Vt=g(h),x=d(h,"DIV",{class:!0});var ot=_(x);for(let Wt=0;Wt<C.length;Wt+=1)C[Wt].l(ot);pt=g(ot),O=d(ot,"DIV",{class:!0});var yt=_(O);lt=d(yt,"P",{"data-svelte-h":!0}),L(lt)!=="svelte-1p0cp1c"&&(lt.textContent=$t),Ht=g(yt),ft=d(yt,"P",{});var le=_(ft);_t=P(le,ut),le.forEach(u),yt.forEach(u),Lt=g(ot),y&&y.l(ot),ot.forEach(u),h.forEach(u),mt=g(a),K=d(a,"H1",{"data-svelte-h":!0}),L(K)!=="svelte-jg7skr"&&(K.textContent=te),gt=g(a),H=d(a,"SECTION",{class:!0});var Dt=_(H);st=d(Dt,"DIV",{class:!0});var se=_(st);Gt(R.$$.fragment,se),se.forEach(u),zt=g(Dt),q=d(Dt,"DIV",{class:!0});var Tt=_(q);Gt(N.$$.fragment,Tt),Bt=g(Tt),A=d(Tt,"P",{class:!0});var ct=_(A);Ot=P(ct,"Mehrheit: "),vt=P(ct,t[4]),Rt=P(ct,"/"),qt=P(ct,t[9]),ct.forEach(u),Tt.forEach(u),Dt.forEach(u),this.h()},h(){b(f,"class","info_container"),b(nt,"class","bar_container"),b(O,"class","input_field_vote_party"),b(x,"class","input_fields_vote"),b(o,"class","vote_share_section"),b(st,"class","pie_container"),b(A,"class",Ct="majorityText "+(t[4]<t[9]?"red":"green")),b(q,"class","stack_container"),b(H,"class","mandate_section")},m(a,h){z(a,r,h),z(a,l,h),z(a,o,h),e(o,f),e(f,n),e(f,T),e(f,E),e(E,v),e(v,p),e(v,F),e(v,G),e(G,it),e(E,M),e(E,k),e(k,V),e(k,Z),e(k,$),e($,kt),e(E,xt),e(E,U),e(U,tt),e(U,It),e(U,et),e(et,wt),e(et,Mt),e(E,St),e(E,J),e(J,at),e(J,jt),e(J,dt),e(dt,Pt),e(o,At),e(o,nt),Ut(B,nt,null),e(o,Vt),e(o,x);for(let I=0;I<C.length;I+=1)C[I]&&C[I].m(x,null);e(x,pt),e(x,O),e(O,lt),e(O,Ht),e(O,ft),e(ft,_t),e(x,Lt),y&&y.m(x,null),z(a,mt,h),z(a,K,h),z(a,gt,h),z(a,H,h),e(H,st),Ut(R,st,null),e(H,zt),e(H,q),Ut(N,q,null),e(q,Bt),e(q,A),e(A,Ot),e(A,vt),e(A,Rt),e(A,qt),Q=!0},p(a,[h]){const I={};if(h&1&&(I.data=a[0]),B.$set(I),h&1){rt=ie(a[0].datasets[0].data);let D;for(D=0;D<rt.length;D+=1){const X=de(a,rt,D);C[D]?C[D].p(X,h):(C[D]=fe(X),C[D].c(),C[D].m(x,pt))}for(;D<C.length;D+=1)C[D].d(1);C.length=rt.length}(!Q||h&2)&&ut!==(ut=(a[1]>=0?a[1].toFixed(2):0)+"")&&Xt(_t,ut),a[1]<0?y||(y=ue(),y.c(),y.m(x,null)):y&&(y.d(1),y=null);const S={};h&4&&(S.data=a[2]),R.$set(S);const W={};h&8&&(W.data=a[3]),h&24&&(W.options={responsive:!0,indexAxis:"y",scales:{y:{stacked:!0},x:{stacked:!0,max:a[5]}},plugins:{annotation:{annotations:{line1:{type:"line",xMin:a[9],xMax:a[9],borderColor:"rgb(255, 99, 132)",borderWidth:2}}},datalabels:{anchor:"center",align:"center",color:"white",formatter:ce,font:{weight:"bold",size:20}},legend:{onClick:a[12]}}}),N.$set(W),(!Q||h&16)&&Xt(vt,a[4]),(!Q||h&16&&Ct!==(Ct="majorityText "+(a[4]<a[9]?"red":"green")))&&b(A,"class",Ct)},i(a){Q||(Jt(B.$$.fragment,a),Jt(R.$$.fragment,a),Jt(N.$$.fragment,a),Q=!0)},o(a){Kt(B.$$.fragment,a),Kt(R.$$.fragment,a),Kt(N.$$.fragment,a),Q=!1},d(a){a&&(u(r),u(l),u(o),u(mt),u(K),u(gt),u(H)),Qt(B),ge(C,a),y&&y.d(),Qt(R),Qt(N)}}}function Se(t,r,s){let l=[],o=[],f=[...t];for(let n in t)o.push(1),l.push(0),t[n]<s&&(t[n]=0,f[n]=0);for(let n=0;n<r;n++){let c=f.indexOf(Math.max(...f));o[c]=o[c]+1,l[c]=l[c]+1,f[c]=t[c]/o[c]}return l}function je(t,r,s){let l=[],o=new Array(t.length).fill(.5),f=[...t];for(let n in t)o.push(1),l.push(0),t[n]<s&&(t[n]=0,f[n]=0);for(let n=0;n<r;n++){let c=f.indexOf(Math.max(...f));o[c]=o[c]+1,l[c]=l[c]+1,f[c]=t[c]/o[c]}return l}const Pe=function(t){return t>0?t:""},ce=function(t){return t>0?t:""};function Ae(t,r,s){be.register(Ee,ye,De,Te,ke,xe,Ie,we);let l=Y("data"),o=Y("mandateData"),f=Y("majorityData"),n=Y("mandateCount"),c=Y("threshold"),T=Y("apportionmentMethod"),E=Y("electionDate"),v=Math.floor(n/2+1),p=[],w,F=n;function G(M){l.datasets[0].data[M]=he(this.value),s(0,l),s(1,w),s(7,T),s(5,n),s(6,c)}const it=function(M,k){if(k.datasetIndex!==void 0){const V=k.datasetIndex,ht=f.datasets[V].hidden;s(3,f.datasets[V].hidden=!ht,f),s(4,F=0),f.datasets.forEach((Z,$)=>{Z.hidden||s(4,F+=Z.data[0])})}};return t.$$.update=()=>{if(t.$$.dirty&3&&(s(1,w=100-l.datasets[0].data.reduce((M,k)=>M+k,0)),w>=0&&(s(0,l),s(1,w),s(7,T),s(5,n),s(6,c),T=="D'Hondt"?s(10,p=Se([...l.datasets[0].data],n,c)):T=="Sainte-Laguë"&&s(10,p=je([...l.datasets[0].data],n,c)))),t.$$.dirty&1024){s(2,o.datasets[0].data=p,o);for(let M in p)s(3,f.datasets[M].data=[p[M]],f)}},[l,w,o,f,F,n,c,T,E,v,p,G,it]}class ze extends _e{constructor(r){super(),me(this,r,Ae,Me,pe,{})}}export{ze as E};
