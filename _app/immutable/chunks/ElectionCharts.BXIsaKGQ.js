import{s as ye,g as X}from"./scheduler.CEQmJdr9.js";import{S as Te,i as Me,e as i,s as _,t as D,l as $t,c as d,k as O,f as m,a as p,b as j,d as f,m as te,n as b,g as R,h as e,o as ee,j as It,p as ae,q as ne,r as le,u as De,v as pe,w as je,x as Ee}from"./index.Cfi6UVQz.js";import{B as _e,e as me,P as we,C as ke,p as Ie,a as Se,b as Le,c as Pe,d as xe,L as Ae,f as Ve,g as He}from"./auto.BZqVbn6Y.js";function ge(t,s,r){const l=t.slice();return l[14]=s[r],l[15]=s,l[16]=r,l}function ve(t){let s,r,l=t[0].labels[t[16]]+"",o,u,n,h,w;function y(){t[12].call(n,t[16])}return{c(){s=i("div"),r=i("label"),o=D(l),u=_(),n=i("input"),this.h()},l(C){s=d(C,"DIV",{class:!0});var g=p(s);r=d(g,"LABEL",{for:!0});var k=p(r);o=j(k,l),k.forEach(f),u=m(g),n=d(g,"INPUT",{id:!0,type:!0,min:!0,max:!0}),g.forEach(f),this.h()},h(){b(r,"for","input_party_"+t[16]),b(n,"id","input_party_"+t[16]),b(n,"type","number"),b(n,"min","0"),b(n,"max","100"),b(s,"class","input_field_vote_party")},m(C,g){R(C,s,g),e(s,r),e(r,o),e(s,u),e(s,n),pe(n,t[0].datasets[0].data[t[16]]),h||(w=je(n,"input",y),h=!0)},p(C,g){t=C,g&1&&l!==(l=t[0].labels[t[16]]+"")&&It(o,l),g&1&&Ee(n.value)!==t[0].datasets[0].data[t[16]]&&pe(n,t[0].datasets[0].data[t[16]])},d(C){C&&f(s),h=!1,w()}}}function be(t){let s,r="Achtung: Gesamtstimmen dürfen 100% nicht überschreiten!";return{c(){s=i("p"),s.textContent=r},l(l){s=d(l,"P",{"data-svelte-h":!0}),O(s)!=="svelte-154vc08"&&(s.textContent=r)},m(l,o){R(l,s,o)},d(l){l&&f(s)}}}function ze(t){let s,r="Stimmenanteile",l,o,u,n,h="Allgemeine Informationen",w,y,C,g,k="Wahltermin",H,z,ot,it,v,I,dt="Abgeordnete",ft,ut,St,Lt,U,Y,re="Sperrklausel",Pt,$,xt,At,Vt,J,tt,se="Sitzzuteilungsverfahren",Ht,ht,zt,Bt,et,q,Wt,S,gt,N,at,oe="Sonstige:",Ot,ct,pt=(t[2]>=0?t[2].toFixed(2):0)+"",vt,Rt,bt,K,ie="Mandatsverteilung",Ct,B,nt,F,qt,x,Z,Nt,A,Ft,Et,Zt,Gt,yt,Ut,V,Jt,Tt,Kt,Qt,Mt,W;q=new _e({props:{data:t[0],options:{responsive:!0,plugins:{datalabels:{display:!1}}}}});let lt=me(t[0].datasets[0].data),E=[];for(let a=0;a<lt.length;a+=1)E[a]=ve(ge(t,lt,a));let T=t[2]<0&&be();return F=new we({props:{id:"mandatesChart",data:t[3],options:{responsive:!0,circumference:180,rotation:-90,plugins:{datalabels:{anchor:"end",align:"start",color:"white",formatter:Oe,font:{weight:"bold",size:20}}}}}}),Z=new _e({props:{data:t[1],options:{responsive:!0,indexAxis:"y",scales:{y:{stacked:!0},x:{stacked:!0,max:t[5]}},plugins:{annotation:{annotations:{majorityLine:{type:"line",xMin:t[9],xMax:t[9],borderColor:"rgb(255, 99, 132)",borderWidth:3},twoThirdsMajorityLine:{type:"line",xMin:t[10],xMax:t[10],borderColor:"rgb(255, 99, 132)",borderWidth:1}}},datalabels:{anchor:"center",align:"center",color:"white",formatter:Ce,font:{weight:"bold",size:20}},legend:{onClick:t[13]}}}}}),{c(){s=i("h1"),s.textContent=r,l=_(),o=i("section"),u=i("div"),n=i("p"),n.textContent=h,w=_(),y=i("table"),C=i("tr"),g=i("th"),g.textContent=k,H=_(),z=i("td"),ot=D(t[8]),it=_(),v=i("tr"),I=i("th"),I.textContent=dt,ft=_(),ut=i("td"),St=D(t[5]),Lt=_(),U=i("tr"),Y=i("th"),Y.textContent=re,Pt=_(),$=i("td"),xt=D(t[6]),At=D(" %"),Vt=_(),J=i("tr"),tt=i("th"),tt.textContent=se,Ht=_(),ht=i("td"),zt=D(t[7]),Bt=_(),et=i("div"),$t(q.$$.fragment),Wt=_(),S=i("div");for(let a=0;a<E.length;a+=1)E[a].c();gt=_(),N=i("div"),at=i("p"),at.textContent=oe,Ot=_(),ct=i("p"),vt=D(pt),Rt=_(),T&&T.c(),bt=_(),K=i("h1"),K.textContent=ie,Ct=_(),B=i("section"),nt=i("div"),$t(F.$$.fragment),qt=_(),x=i("div"),$t(Z.$$.fragment),Nt=_(),A=i("p"),Ft=D("Mehrheit: "),Et=D(t[4]),Zt=D("/"),Gt=D(t[9]),Ut=_(),V=i("p"),Jt=D("Zweidrittelmehrheit: "),Tt=D(t[4]),Kt=D("/"),Qt=D(t[10]),this.h()},l(a){s=d(a,"H1",{"data-svelte-h":!0}),O(s)!=="svelte-too001"&&(s.textContent=r),l=m(a),o=d(a,"SECTION",{class:!0});var c=p(o);u=d(c,"DIV",{class:!0});var L=p(u);n=d(L,"P",{"data-svelte-h":!0}),O(n)!=="svelte-7wsg44"&&(n.textContent=h),w=m(L),y=d(L,"TABLE",{});var P=p(y);C=d(P,"TR",{});var G=p(C);g=d(G,"TH",{"data-svelte-h":!0}),O(g)!=="svelte-1cjbgjn"&&(g.textContent=k),H=m(G),z=d(G,"TD",{});var M=p(z);ot=j(M,t[8]),M.forEach(f),G.forEach(f),it=m(P),v=d(P,"TR",{});var Q=p(v);I=d(Q,"TH",{"data-svelte-h":!0}),O(I)!=="svelte-m7jygq"&&(I.textContent=dt),ft=m(Q),ut=d(Q,"TD",{});var de=p(ut);St=j(de,t[5]),de.forEach(f),Q.forEach(f),Lt=m(P),U=d(P,"TR",{});var Dt=p(U);Y=d(Dt,"TH",{"data-svelte-h":!0}),O(Y)!=="svelte-1k72mb"&&(Y.textContent=re),Pt=m(Dt),$=d(Dt,"TD",{});var Xt=p($);xt=j(Xt,t[6]),At=j(Xt," %"),Xt.forEach(f),Dt.forEach(f),Vt=m(P),J=d(P,"TR",{});var jt=p(J);tt=d(jt,"TH",{"data-svelte-h":!0}),O(tt)!=="svelte-1lrysmd"&&(tt.textContent=se),Ht=m(jt),ht=d(jt,"TD",{});var fe=p(ht);zt=j(fe,t[7]),fe.forEach(f),jt.forEach(f),P.forEach(f),L.forEach(f),Bt=m(c),et=d(c,"DIV",{class:!0});var ue=p(et);te(q.$$.fragment,ue),ue.forEach(f),Wt=m(c),S=d(c,"DIV",{class:!0});var rt=p(S);for(let Yt=0;Yt<E.length;Yt+=1)E[Yt].l(rt);gt=m(rt),N=d(rt,"DIV",{class:!0});var wt=p(N);at=d(wt,"P",{"data-svelte-h":!0}),O(at)!=="svelte-1p0cp1c"&&(at.textContent=oe),Ot=m(wt),ct=d(wt,"P",{});var he=p(ct);vt=j(he,pt),he.forEach(f),wt.forEach(f),Rt=m(rt),T&&T.l(rt),rt.forEach(f),c.forEach(f),bt=m(a),K=d(a,"H1",{"data-svelte-h":!0}),O(K)!=="svelte-jg7skr"&&(K.textContent=ie),Ct=m(a),B=d(a,"SECTION",{class:!0});var kt=p(B);nt=d(kt,"DIV",{class:!0});var ce=p(nt);te(F.$$.fragment,ce),ce.forEach(f),qt=m(kt),x=d(kt,"DIV",{class:!0});var st=p(x);te(Z.$$.fragment,st),Nt=m(st),A=d(st,"P",{class:!0});var _t=p(A);Ft=j(_t,"Mehrheit: "),Et=j(_t,t[4]),Zt=j(_t,"/"),Gt=j(_t,t[9]),_t.forEach(f),Ut=m(st),V=d(st,"P",{class:!0});var mt=p(V);Jt=j(mt,"Zweidrittelmehrheit: "),Tt=j(mt,t[4]),Kt=j(mt,"/"),Qt=j(mt,t[10]),mt.forEach(f),st.forEach(f),kt.forEach(f),this.h()},h(){b(u,"class","info_container"),b(et,"class","bar_container"),b(N,"class","input_field_vote_party"),b(S,"class","input_fields_vote"),b(o,"class","vote_share_section"),b(nt,"class","pie_container"),b(A,"class",yt="majorityText "+(t[4]<t[9]?"red":"green")),b(V,"class",Mt="majorityText "+(t[4]<t[10]?"red":"green")),b(x,"class","stack_container"),b(B,"class","mandate_section")},m(a,c){R(a,s,c),R(a,l,c),R(a,o,c),e(o,u),e(u,n),e(u,w),e(u,y),e(y,C),e(C,g),e(C,H),e(C,z),e(z,ot),e(y,it),e(y,v),e(v,I),e(v,ft),e(v,ut),e(ut,St),e(y,Lt),e(y,U),e(U,Y),e(U,Pt),e(U,$),e($,xt),e($,At),e(y,Vt),e(y,J),e(J,tt),e(J,Ht),e(J,ht),e(ht,zt),e(o,Bt),e(o,et),ee(q,et,null),e(o,Wt),e(o,S);for(let L=0;L<E.length;L+=1)E[L]&&E[L].m(S,null);e(S,gt),e(S,N),e(N,at),e(N,Ot),e(N,ct),e(ct,vt),e(S,Rt),T&&T.m(S,null),R(a,bt,c),R(a,K,c),R(a,Ct,c),R(a,B,c),e(B,nt),ee(F,nt,null),e(B,qt),e(B,x),ee(Z,x,null),e(x,Nt),e(x,A),e(A,Ft),e(A,Et),e(A,Zt),e(A,Gt),e(x,Ut),e(x,V),e(V,Jt),e(V,Tt),e(V,Kt),e(V,Qt),W=!0},p(a,[c]){const L={};if(c&1&&(L.data=a[0]),q.$set(L),c&1){lt=me(a[0].datasets[0].data);let M;for(M=0;M<lt.length;M+=1){const Q=ge(a,lt,M);E[M]?E[M].p(Q,c):(E[M]=ve(Q),E[M].c(),E[M].m(S,gt))}for(;M<E.length;M+=1)E[M].d(1);E.length=lt.length}(!W||c&4)&&pt!==(pt=(a[2]>=0?a[2].toFixed(2):0)+"")&&It(vt,pt),a[2]<0?T||(T=be(),T.c(),T.m(S,null)):T&&(T.d(1),T=null);const P={};c&8&&(P.data=a[3]),F.$set(P);const G={};c&2&&(G.data=a[1]),c&2&&(G.options={responsive:!0,indexAxis:"y",scales:{y:{stacked:!0},x:{stacked:!0,max:a[5]}},plugins:{annotation:{annotations:{majorityLine:{type:"line",xMin:a[9],xMax:a[9],borderColor:"rgb(255, 99, 132)",borderWidth:3},twoThirdsMajorityLine:{type:"line",xMin:a[10],xMax:a[10],borderColor:"rgb(255, 99, 132)",borderWidth:1}}},datalabels:{anchor:"center",align:"center",color:"white",formatter:Ce,font:{weight:"bold",size:20}},legend:{onClick:a[13]}}}),Z.$set(G),(!W||c&16)&&It(Et,a[4]),(!W||c&16&&yt!==(yt="majorityText "+(a[4]<a[9]?"red":"green")))&&b(A,"class",yt),(!W||c&16)&&It(Tt,a[4]),(!W||c&16&&Mt!==(Mt="majorityText "+(a[4]<a[10]?"red":"green")))&&b(V,"class",Mt)},i(a){W||(ae(q.$$.fragment,a),ae(F.$$.fragment,a),ae(Z.$$.fragment,a),W=!0)},o(a){ne(q.$$.fragment,a),ne(F.$$.fragment,a),ne(Z.$$.fragment,a),W=!1},d(a){a&&(f(s),f(l),f(o),f(bt),f(K),f(Ct),f(B)),le(q),De(E,a),T&&T.d(),le(F),le(Z)}}}function Be(t,s,r){let l=[],o=[],u=[...t];for(let n in t)o.push(1),l.push(0),t[n]<r&&(t[n]=0,u[n]=0);for(let n=0;n<s;n++){let h=u.indexOf(Math.max(...u));o[h]=o[h]+1,l[h]=l[h]+1,u[h]=t[h]/o[h]}return l}function We(t,s,r){let l=[],o=new Array(t.length).fill(.5),u=[...t];for(let n in t)o.push(1),l.push(0),t[n]<r&&(t[n]=0,u[n]=0);for(let n=0;n<s;n++){let h=u.indexOf(Math.max(...u));o[h]=o[h]+1,l[h]=l[h]+1,u[h]=t[h]/o[h]}return l}const Oe=function(t){return t>0?t:""},Ce=function(t){return t>0?t:""};function Re(t,s,r){ke.register(Ie,Se,Le,Pe,xe,Ae,Ve,He);let l=X("data"),o=X("mandateData"),u=X("majorityData"),n=X("mandateCount"),h=X("threshold"),w=X("apportionmentMethod"),y=X("electionDate"),C=Math.floor(n/2+1),g=Math.ceil(n/3*2),k=[],H,z=0;function ot(v){l.datasets[0].data[v]=Ee(this.value),r(0,l),r(2,H),r(7,w),r(5,n),r(6,h)}const it=function(v,I){if(I.datasetIndex!==void 0){const dt=I.datasetIndex,ft=u.datasets[dt].hidden;r(1,u.datasets[dt].hidden=!ft,u)}};return t.$$.update=()=>{if(t.$$.dirty&5&&(r(2,H=100-l.datasets[0].data.reduce((v,I)=>v+I,0)),H>=0&&(r(0,l),r(2,H),r(7,w),r(5,n),r(6,h),w=="D'Hondt"?r(11,k=Be([...l.datasets[0].data],n,h)):w=="Sainte-Laguë"&&r(11,k=We([...l.datasets[0].data],n,h)))),t.$$.dirty&2048){r(3,o.datasets[0].data=k,o);for(let v in k)r(1,u.datasets[v].data=[k[v]],u)}t.$$.dirty&18&&(r(4,z=0),u.datasets.forEach((v,I)=>{v.hidden||r(4,z+=v.data[0])}))},[l,u,H,o,z,n,h,w,y,C,g,k,ot,it]}class Ze extends Te{constructor(s){super(),Me(this,s,Re,ze,ye,{})}}export{Ze as E};
