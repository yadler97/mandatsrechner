import{s as se,g as $}from"./scheduler.CEQmJdr9.js";import{S as re,i as oe,e as i,s as m,t as F,l as Pt,c as d,k as M,f as v,a as p,b as W,d as f,m as Vt,n as D,g as A,h as e,o as Lt,j as ne,p as Bt,q as zt,r as Ot,u as ie,v as Xt,w as de,x as le}from"./index.Cfi6UVQz.js";import{B as Yt,e as Zt,P as fe,C as ue,p as ce,a as he,b as _e,c as pe,d as me,L as ve,f as ge,g as Ce}from"./auto.BZqVbn6Y.js";function te(t,s,r){const l=t.slice();return l[11]=s[r],l[12]=s,l[13]=r,l}function ee(t){let s,r,l=t[0].labels[t[13]]+"",o,c,n,u,T;function b(){t[10].call(n,t[13])}return{c(){s=i("div"),r=i("label"),o=F(l),c=m(),n=i("input"),this.h()},l(g){s=d(g,"DIV",{class:!0});var h=p(s);r=d(h,"LABEL",{for:!0});var S=p(r);o=W(S,l),S.forEach(f),c=v(h),n=d(h,"INPUT",{id:!0,type:!0,min:!0,max:!0}),h.forEach(f),this.h()},h(){D(r,"for","input_party_"+t[13]),D(n,"id","input_party_"+t[13]),D(n,"type","number"),D(n,"min","0"),D(n,"max","100"),D(s,"class","input_field_vote_party")},m(g,h){A(g,s,h),e(s,r),e(r,o),e(s,c),e(s,n),Xt(n,t[0].datasets[0].data[t[13]]),u||(T=de(n,"input",b),u=!0)},p(g,h){t=g,h&1&&l!==(l=t[0].labels[t[13]]+"")&&ne(o,l),h&1&&le(n.value)!==t[0].datasets[0].data[t[13]]&&Xt(n,t[0].datasets[0].data[t[13]])},d(g){g&&f(s),u=!1,T()}}}function ae(t){let s,r="Achtung: Gesamtstimmen dürfen 100% nicht überschreiten!";return{c(){s=i("p"),s.textContent=r},l(l){s=d(l,"P",{"data-svelte-h":!0}),M(s)!=="svelte-154vc08"&&(s.textContent=r)},m(l,o){A(l,s,o)},d(l){l&&f(s)}}}function be(t){let s,r="Stimmenanteile",l,o,c,n,u="Allgemeine Informationen",T,b,g,h,S="Wahltermin",at,x,nt,vt,B,G,Rt="Abgeordnete",gt,lt,Ct,bt,z,U,qt="Sperrklausel",Et,J,yt,Dt,Tt,O,K,Nt="Sitzzuteilungsverfahren",xt,st,kt,It,Q,H,St,k,dt,P,X,$t="Sonstige:",wt,rt,ot=(t[1]>=0?t[1].toFixed(2):0)+"",ft,jt,ut,R,Ft="Mandatsverteilung",ct,j,Y,V,Mt,Z,L,it;H=new Yt({props:{data:t[0],options:{responsive:!0,plugins:{datalabels:{display:!1}}}}});let tt=Zt(t[0].datasets[0].data),C=[];for(let a=0;a<tt.length;a+=1)C[a]=ee(te(t,tt,a));let E=t[1]<0&&ae();return V=new fe({props:{id:"mandatesChart",data:t[2],options:{responsive:!0,circumference:180,rotation:-90,plugins:{datalabels:{anchor:"end",align:"start",color:"white",formatter:De,font:{weight:"bold",size:20}}}}}}),L=new Yt({props:{data:t[3],options:{responsive:!0,indexAxis:"y",scales:{y:{stacked:!0},x:{stacked:!0,max:t[4]}},plugins:{annotation:{annotations:{line1:{type:"line",xMin:t[8],xMax:t[8],borderColor:"rgb(255, 99, 132)",borderWidth:2}}},datalabels:{anchor:"center",align:"center",color:"white",formatter:Te,font:{weight:"bold",size:20}}}}}}),{c(){s=i("h1"),s.textContent=r,l=m(),o=i("section"),c=i("div"),n=i("p"),n.textContent=u,T=m(),b=i("table"),g=i("tr"),h=i("th"),h.textContent=S,at=m(),x=i("td"),nt=F(t[7]),vt=m(),B=i("tr"),G=i("th"),G.textContent=Rt,gt=m(),lt=i("td"),Ct=F(t[4]),bt=m(),z=i("tr"),U=i("th"),U.textContent=qt,Et=m(),J=i("td"),yt=F(t[5]),Dt=F(" %"),Tt=m(),O=i("tr"),K=i("th"),K.textContent=Nt,xt=m(),st=i("td"),kt=F(t[6]),It=m(),Q=i("div"),Pt(H.$$.fragment),St=m(),k=i("div");for(let a=0;a<C.length;a+=1)C[a].c();dt=m(),P=i("div"),X=i("p"),X.textContent=$t,wt=m(),rt=i("p"),ft=F(ot),jt=m(),E&&E.c(),ut=m(),R=i("h1"),R.textContent=Ft,ct=m(),j=i("section"),Y=i("div"),Pt(V.$$.fragment),Mt=m(),Z=i("div"),Pt(L.$$.fragment),this.h()},l(a){s=d(a,"H1",{"data-svelte-h":!0}),M(s)!=="svelte-too001"&&(s.textContent=r),l=v(a),o=d(a,"SECTION",{class:!0});var _=p(o);c=d(_,"DIV",{class:!0});var I=p(c);n=d(I,"P",{"data-svelte-h":!0}),M(n)!=="svelte-7wsg44"&&(n.textContent=u),T=v(I),b=d(I,"TABLE",{});var w=p(b);g=d(w,"TR",{});var q=p(g);h=d(q,"TH",{"data-svelte-h":!0}),M(h)!=="svelte-1cjbgjn"&&(h.textContent=S),at=v(q),x=d(q,"TD",{});var y=p(x);nt=W(y,t[7]),y.forEach(f),q.forEach(f),vt=v(w),B=d(w,"TR",{});var N=p(B);G=d(N,"TH",{"data-svelte-h":!0}),M(G)!=="svelte-m7jygq"&&(G.textContent=Rt),gt=v(N),lt=d(N,"TD",{});var Wt=p(lt);Ct=W(Wt,t[4]),Wt.forEach(f),N.forEach(f),bt=v(w),z=d(w,"TR",{});var ht=p(z);U=d(ht,"TH",{"data-svelte-h":!0}),M(U)!=="svelte-1k72mb"&&(U.textContent=qt),Et=v(ht),J=d(ht,"TD",{});var At=p(J);yt=W(At,t[5]),Dt=W(At," %"),At.forEach(f),ht.forEach(f),Tt=v(w),O=d(w,"TR",{});var _t=p(O);K=d(_t,"TH",{"data-svelte-h":!0}),M(K)!=="svelte-1lrysmd"&&(K.textContent=Nt),xt=v(_t),st=d(_t,"TD",{});var Gt=p(st);kt=W(Gt,t[6]),Gt.forEach(f),_t.forEach(f),w.forEach(f),I.forEach(f),It=v(_),Q=d(_,"DIV",{class:!0});var Ut=p(Q);Vt(H.$$.fragment,Ut),Ut.forEach(f),St=v(_),k=d(_,"DIV",{class:!0});var et=p(k);for(let Ht=0;Ht<C.length;Ht+=1)C[Ht].l(et);dt=v(et),P=d(et,"DIV",{class:!0});var pt=p(P);X=d(pt,"P",{"data-svelte-h":!0}),M(X)!=="svelte-1p0cp1c"&&(X.textContent=$t),wt=v(pt),rt=d(pt,"P",{});var Jt=p(rt);ft=W(Jt,ot),Jt.forEach(f),pt.forEach(f),jt=v(et),E&&E.l(et),et.forEach(f),_.forEach(f),ut=v(a),R=d(a,"H1",{"data-svelte-h":!0}),M(R)!=="svelte-jg7skr"&&(R.textContent=Ft),ct=v(a),j=d(a,"SECTION",{class:!0});var mt=p(j);Y=d(mt,"DIV",{class:!0});var Kt=p(Y);Vt(V.$$.fragment,Kt),Kt.forEach(f),Mt=v(mt),Z=d(mt,"DIV",{class:!0});var Qt=p(Z);Vt(L.$$.fragment,Qt),Qt.forEach(f),mt.forEach(f),this.h()},h(){D(c,"class","info_container"),D(Q,"class","bar_container"),D(P,"class","input_field_vote_party"),D(k,"class","input_fields_vote"),D(o,"class","vote_share_section"),D(Y,"class","pie_container"),D(Z,"class","stack_container"),D(j,"class","mandate_section")},m(a,_){A(a,s,_),A(a,l,_),A(a,o,_),e(o,c),e(c,n),e(c,T),e(c,b),e(b,g),e(g,h),e(g,at),e(g,x),e(x,nt),e(b,vt),e(b,B),e(B,G),e(B,gt),e(B,lt),e(lt,Ct),e(b,bt),e(b,z),e(z,U),e(z,Et),e(z,J),e(J,yt),e(J,Dt),e(b,Tt),e(b,O),e(O,K),e(O,xt),e(O,st),e(st,kt),e(o,It),e(o,Q),Lt(H,Q,null),e(o,St),e(o,k);for(let I=0;I<C.length;I+=1)C[I]&&C[I].m(k,null);e(k,dt),e(k,P),e(P,X),e(P,wt),e(P,rt),e(rt,ft),e(k,jt),E&&E.m(k,null),A(a,ut,_),A(a,R,_),A(a,ct,_),A(a,j,_),e(j,Y),Lt(V,Y,null),e(j,Mt),e(j,Z),Lt(L,Z,null),it=!0},p(a,[_]){const I={};if(_&1&&(I.data=a[0]),H.$set(I),_&1){tt=Zt(a[0].datasets[0].data);let y;for(y=0;y<tt.length;y+=1){const N=te(a,tt,y);C[y]?C[y].p(N,_):(C[y]=ee(N),C[y].c(),C[y].m(k,dt))}for(;y<C.length;y+=1)C[y].d(1);C.length=tt.length}(!it||_&2)&&ot!==(ot=(a[1]>=0?a[1].toFixed(2):0)+"")&&ne(ft,ot),a[1]<0?E||(E=ae(),E.c(),E.m(k,null)):E&&(E.d(1),E=null);const w={};_&4&&(w.data=a[2]),V.$set(w);const q={};_&8&&(q.data=a[3]),L.$set(q)},i(a){it||(Bt(H.$$.fragment,a),Bt(V.$$.fragment,a),Bt(L.$$.fragment,a),it=!0)},o(a){zt(H.$$.fragment,a),zt(V.$$.fragment,a),zt(L.$$.fragment,a),it=!1},d(a){a&&(f(s),f(l),f(o),f(ut),f(R),f(ct),f(j)),Ot(H),ie(C,a),E&&E.d(),Ot(V),Ot(L)}}}function Ee(t,s,r){let l=[],o=[],c=[...t];for(let n in t)o.push(1),l.push(0),t[n]<r&&(t[n]=0,c[n]=0);for(let n=0;n<s;n++){let u=c.indexOf(Math.max(...c));o[u]=o[u]+1,l[u]=l[u]+1,c[u]=t[u]/o[u]}return l}function ye(t,s,r){let l=[],o=new Array(t.length).fill(.5),c=[...t];for(let n in t)o.push(1),l.push(0),t[n]<r&&(t[n]=0,c[n]=0);for(let n=0;n<s;n++){let u=c.indexOf(Math.max(...c));o[u]=o[u]+1,l[u]=l[u]+1,c[u]=t[u]/o[u]}return l}const De=function(t){return t>0?t:""},Te=function(t){return t>0?t:""};function xe(t,s,r){ue.register(ce,he,_e,pe,me,ve,ge,Ce);let l=$("data"),o=$("mandateData"),c=$("majorityData"),n=$("mandateCount"),u=$("threshold"),T=$("apportionmentMethod"),b=$("electionDate"),g=Math.ceil(n/2),h=[],S;function at(x){l.datasets[0].data[x]=le(this.value),r(0,l),r(1,S),r(6,T),r(4,n),r(5,u)}return t.$$.update=()=>{if(t.$$.dirty&3&&(r(1,S=100-l.datasets[0].data.reduce((x,nt)=>x+nt,0)),S>=0&&(r(0,l),r(1,S),r(6,T),r(4,n),r(5,u),T=="D'Hondt"?r(9,h=Ee([...l.datasets[0].data],n,u)):T=="Sainte-Laguë"&&r(9,h=ye([...l.datasets[0].data],n,u)))),t.$$.dirty&512){r(2,o.datasets[0].data=h,o);for(let x in h)r(3,c.datasets[x].data=[h[x]],c)}},[l,S,o,c,n,u,T,b,g,h,at]}class we extends re{constructor(s){super(),oe(this,s,xe,be,se,{})}}export{we as E};
