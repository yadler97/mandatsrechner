import{s as St,g as X,c as $e,e as qe,r as At,n as Ge}from"./eX-Ury47.js";import{S as Pt,i as Ht,e as i,s as y,t as M,o as lt,c as d,l as Y,f as k,a as m,b as D,d as r,p as st,m as E,g as I,h as a,u as rt,j as oe,w as ot,x as it,y as dt,n as Vt,A as gt,q as Ct,v as ut,B as It}from"./CvUCCQBL.js";import{e as yt}from"./D6YF6ztN.js";import{B as kt,D as Bt,C as Rt,p as Nt,a as Wt,b as zt,c as Ft,d as Ot,L as $t,e as qt,f as Gt,g as Ut,s as Zt,h as Jt}from"./BpMWPB_2.js";function Et(e,n,l){const s=e.slice();return s[26]=n[l],s[27]=n,s[28]=l,s}function Kt(e){let n;return{c(){n=M("keine")},l(l){n=D(l,"keine")},m(l,s){I(l,n,s)},p:Ge,d(l){l&&r(n)}}}function Qt(e){let n,l;return{c(){n=M(e[13]),l=M(" %")},l(s){n=D(s,e[13]),l=D(s," %")},m(s,o){I(s,n,o),I(s,l,o)},p:Ge,d(s){s&&(r(n),r(l))}}}function Mt(e){let n,l,s,o,c,f,_,L;return{c(){n=i("div"),l=i("label"),s=M(e[15]),o=M(" Grundmandat(e)?"),c=y(),f=i("input"),this.h()},l(h){n=d(h,"DIV",{class:!0});var b=m(n);l=d(b,"LABEL",{for:!0});var j=m(l);s=D(j,e[15]),o=D(j," Grundmandat(e)?"),j.forEach(r),c=k(b),f=d(b,"INPUT",{id:!0,type:!0}),b.forEach(r),this.h()},h(){E(l,"for","checkbox_party_"+e[28]),E(f,"id","checkbox_party_"+e[28]),E(f,"type","checkbox"),E(n,"class","base_mandate_checkbox")},m(h,b){I(h,n,b),a(n,l),a(l,s),a(l,o),a(n,c),a(n,f),_||(L=ut(f,"change",e[23]),_=!0)},p:Ge,d(h){h&&r(n),_=!1,L()}}}function Dt(e){let n,l,s=e[26].label+"",o,c,f,_,L,h,b,j,z;function G(){e[21].call(_,e[28],e[26])}function U(){return e[22](e[28],e[26])}let g=e[0].datasets[e[28]].data[e[26].index]<e[13]&&e[15]&&Mt(e);return{c(){n=i("div"),l=i("label"),o=M(s),c=y(),f=i("span"),_=i("input"),L=M(" %"),h=y(),g&&g.c(),b=gt(),this.h()},l(T){n=d(T,"DIV",{class:!0});var v=m(n);l=d(v,"LABEL",{for:!0});var F=m(l);o=D(F,s),F.forEach(r),c=k(v),f=d(v,"SPAN",{class:!0});var S=m(f);_=d(S,"INPUT",{id:!0,type:!0,min:!0,max:!0}),L=D(S," %"),S.forEach(r),v.forEach(r),h=k(T),g&&g.l(T),b=gt(),this.h()},h(){E(l,"for","input_party_"+e[28]),E(_,"id","input_party_"+e[28]),E(_,"type","number"),E(_,"min","0"),E(_,"max","100"),E(f,"class","valuePadding"),E(n,"class","input_field_vote_party")},m(T,v){I(T,n,v),a(n,l),a(l,o),a(n,c),a(n,f),a(f,_),Ct(_,e[0].datasets[e[28]].data[e[26].index]),a(f,L),I(T,h,v),g&&g.m(T,v),I(T,b,v),j||(z=[ut(_,"input",G),ut(_,"input",U)],j=!0)},p(T,v){e=T,v&1&&s!==(s=e[26].label+"")&&oe(o,s),v&1&&It(_.value)!==e[0].datasets[e[28]].data[e[26].index]&&Ct(_,e[0].datasets[e[28]].data[e[26].index]),e[0].datasets[e[28]].data[e[26].index]<e[13]&&e[15]?g?g.p(e,v):(g=Mt(e),g.c(),g.m(b.parentNode,b)):g&&(g.d(1),g=null)},d(T){T&&(r(n),r(h),r(b)),g&&g.d(T),j=!1,At(z)}}}function Tt(e){let n,l="Achtung: Gesamtstimmen dürfen 100% nicht überschreiten!";return{c(){n=i("p"),n.textContent=l},l(s){n=d(s,"P",{"data-svelte-h":!0}),Y(n)!=="svelte-154vc08"&&(n.textContent=l)},m(s,o){I(s,n,o)},d(s){s&&r(n)}}}function Xt(e){let n,l,s;return{c(){n=i("p"),l=M("Achtung: "),s=M(e[16])},l(o){n=d(o,"P",{});var c=m(n);l=D(c,"Achtung: "),s=D(c,e[16]),c.forEach(r)},m(o,c){I(o,n,c),a(n,l),a(n,s)},p:Ge,d(o){o&&r(n)}}}function Yt(e){let n,l="Stimmenanteile",s,o,c,f,_="Allgemeine Informationen",L,h,b,j,z="Wahltermin",G,U,g,T,v,F,S="Abgeordnete",ie,Z,x,ce,J,ee,je="Sperrklausel",Ce,de,p,C,A,V="Sitzzuteilungsverfahren",ue,te,ye,Ue,_e,ae,Ze,N,we,ne,pe,ft="Sonstige:",Je,ke,Ee=(e[6]>=0?e[6].toFixed(2):0)+"",Ie,Ke,Le,fe,ht="Mandatsverteilung",Se,Ae,K,me,le,Qe,O,se,Xe,$,Ye,Pe,xe,He,Ve,et,q,tt,Be,at,Re,Ne,B;function Lt(t,u){return t[13]>0?Qt:Kt}let Me=Lt(e)(e);ae=new kt({props:{data:e[0],options:{responsive:!0,maintainAspectRatio:!1,plugins:{datalabels:{anchor:"end",align:"top",color:"black",font:{weight:"bold"},formatter:jt},annotation:{annotations:e[13]>0?{majorityLine:{type:"line",yMin:e[13],yMax:e[13],borderColor:"rgb(255, 99, 132)",borderWidth:2}}:{}}},scales:{x:{stacked:!0},y:{stacked:!0,suggestedMax:Math.max(...e[0].labels.map(e[20]))+5}}}}});let be=yt(e[0].datasets),w=[];for(let t=0;t<be.length;t+=1)w[t]=Dt(Et(e,be,t));let P=e[6]<-1e-5&&Tt(),Q=e[16]&&Xt(e);return le=new Bt({props:{id:"mandatesChart",data:e[8],options:{responsive:!0,circumference:180,rotation:-90,plugins:{datalabels:{anchor:"end",align:"start",color:"white",formatter:xt,font:{weight:"bold",size:20}}}}}}),se=new kt({props:{data:e[1],options:{responsive:!0,indexAxis:"y",scales:{y:{stacked:!0},x:{stacked:!0,max:e[2]}},plugins:{annotation:{annotations:{majorityLine:{type:"line",xMin:e[4],xMax:e[4],borderColor:"rgb(255, 99, 132)",borderWidth:3},twoThirdsMajorityLine:{type:"line",xMin:e[5],xMax:e[5],borderColor:"rgb(255, 99, 132)",borderWidth:1}}},datalabels:{anchor:"center",align:"center",color:"white",formatter:wt,font:{weight:"bold",size:20}},legend:{onClick:e[24]}}}}}),{c(){n=i("h1"),n.textContent=l,s=y(),o=i("section"),c=i("div"),f=i("p"),f.textContent=_,L=y(),h=i("table"),b=i("tr"),j=i("th"),j.textContent=z,G=y(),U=i("td"),g=M(e[3]),T=y(),v=i("tr"),F=i("th"),F.textContent=S,ie=y(),Z=i("td"),x=M(e[2]),ce=y(),J=i("tr"),ee=i("th"),ee.textContent=je,Ce=y(),de=i("td"),Me.c(),p=y(),C=i("tr"),A=i("th"),A.textContent=V,ue=y(),te=i("td"),ye=M(e[14]),Ue=y(),_e=i("div"),lt(ae.$$.fragment),Ze=y(),N=i("div");for(let t=0;t<w.length;t+=1)w[t].c();we=y(),ne=i("div"),pe=i("p"),pe.textContent=ft,Je=y(),ke=i("p"),Ie=M(Ee),Ke=y(),P&&P.c(),Le=y(),fe=i("h1"),fe.textContent=ht,Se=y(),Q&&Q.c(),Ae=y(),K=i("section"),me=i("div"),lt(le.$$.fragment),Qe=y(),O=i("div"),lt(se.$$.fragment),Xe=y(),$=i("p"),Ye=M("Mehrheit: "),Pe=M(e[7]),xe=M("/"),He=M(e[4]),et=y(),q=i("p"),tt=M("Zweidrittelmehrheit: "),Be=M(e[7]),at=M("/"),Re=M(e[5]),this.h()},l(t){n=d(t,"H1",{"data-svelte-h":!0}),Y(n)!=="svelte-too001"&&(n.textContent=l),s=k(t),o=d(t,"SECTION",{class:!0});var u=m(o);c=d(u,"DIV",{class:!0});var R=m(c);f=d(R,"P",{"data-svelte-h":!0}),Y(f)!=="svelte-7wsg44"&&(f.textContent=_),L=k(R),h=d(R,"TABLE",{});var W=m(h);b=d(W,"TR",{});var re=m(b);j=d(re,"TH",{"data-svelte-h":!0}),Y(j)!=="svelte-1cjbgjn"&&(j.textContent=z),G=k(re),U=d(re,"TD",{});var H=m(U);g=D(H,e[3]),H.forEach(r),re.forEach(r),T=k(W),v=d(W,"TR",{});var he=m(v);F=d(he,"TH",{"data-svelte-h":!0}),Y(F)!=="svelte-m7jygq"&&(F.textContent=S),ie=k(he),Z=d(he,"TD",{});var ct=m(Z);x=D(ct,e[2]),ct.forEach(r),he.forEach(r),ce=k(W),J=d(W,"TR",{});var We=m(J);ee=d(We,"TH",{"data-svelte-h":!0}),Y(ee)!=="svelte-1k72mb"&&(ee.textContent=je),Ce=k(We),de=d(We,"TD",{});var _t=m(de);Me.l(_t),_t.forEach(r),We.forEach(r),p=k(W),C=d(W,"TR",{});var ze=m(C);A=d(ze,"TH",{"data-svelte-h":!0}),Y(A)!=="svelte-1lrysmd"&&(A.textContent=V),ue=k(ze),te=d(ze,"TD",{});var pt=m(te);ye=D(pt,e[14]),pt.forEach(r),ze.forEach(r),W.forEach(r),R.forEach(r),Ue=k(u),_e=d(u,"DIV",{class:!0});var mt=m(_e);st(ae.$$.fragment,mt),mt.forEach(r),Ze=k(u),N=d(u,"DIV",{class:!0});var ve=m(N);for(let nt=0;nt<w.length;nt+=1)w[nt].l(ve);we=k(ve),ne=d(ve,"DIV",{class:!0});var Fe=m(ne);pe=d(Fe,"P",{"data-svelte-h":!0}),Y(pe)!=="svelte-1p0cp1c"&&(pe.textContent=ft),Je=k(Fe),ke=d(Fe,"P",{});var bt=m(ke);Ie=D(bt,Ee),bt.forEach(r),Fe.forEach(r),Ke=k(ve),P&&P.l(ve),ve.forEach(r),u.forEach(r),Le=k(t),fe=d(t,"H1",{"data-svelte-h":!0}),Y(fe)!=="svelte-jg7skr"&&(fe.textContent=ht),Se=k(t),Q&&Q.l(t),Ae=k(t),K=d(t,"SECTION",{class:!0});var Oe=m(K);me=d(Oe,"DIV",{class:!0});var vt=m(me);st(le.$$.fragment,vt),vt.forEach(r),Qe=k(Oe),O=d(Oe,"DIV",{class:!0});var ge=m(O);st(se.$$.fragment,ge),Xe=k(ge),$=d(ge,"P",{class:!0});var De=m($);Ye=D(De,"Mehrheit: "),Pe=D(De,e[7]),xe=D(De,"/"),He=D(De,e[4]),De.forEach(r),et=k(ge),q=d(ge,"P",{class:!0});var Te=m(q);tt=D(Te,"Zweidrittelmehrheit: "),Be=D(Te,e[7]),at=D(Te,"/"),Re=D(Te,e[5]),Te.forEach(r),ge.forEach(r),Oe.forEach(r),this.h()},h(){E(c,"class","info_container"),E(_e,"class","bar_container"),E(ne,"class","input_field_vote_party"),E(N,"class","input_fields_vote"),E(o,"class","vote_share_section"),E(me,"class","pie_container"),E($,"class",Ve="majorityText "+(e[7]<e[4]?"red":"green")),E(q,"class",Ne="majorityText "+(e[7]<e[5]?"red":"green")),E(O,"class","stack_container"),E(K,"class","mandate_section")},m(t,u){I(t,n,u),I(t,s,u),I(t,o,u),a(o,c),a(c,f),a(c,L),a(c,h),a(h,b),a(b,j),a(b,G),a(b,U),a(U,g),a(h,T),a(h,v),a(v,F),a(v,ie),a(v,Z),a(Z,x),a(h,ce),a(h,J),a(J,ee),a(J,Ce),a(J,de),Me.m(de,null),a(h,p),a(h,C),a(C,A),a(C,ue),a(C,te),a(te,ye),a(o,Ue),a(o,_e),rt(ae,_e,null),a(o,Ze),a(o,N);for(let R=0;R<w.length;R+=1)w[R]&&w[R].m(N,null);a(N,we),a(N,ne),a(ne,pe),a(ne,Je),a(ne,ke),a(ke,Ie),a(N,Ke),P&&P.m(N,null),I(t,Le,u),I(t,fe,u),I(t,Se,u),Q&&Q.m(t,u),I(t,Ae,u),I(t,K,u),a(K,me),rt(le,me,null),a(K,Qe),a(K,O),rt(se,O,null),a(O,Xe),a(O,$),a($,Ye),a($,Pe),a($,xe),a($,He),a(O,et),a(O,q),a(q,tt),a(q,Be),a(q,at),a(q,Re),B=!0},p(t,[u]){(!B||u&8)&&oe(g,t[3]),(!B||u&4)&&oe(x,t[2]),Me.p(t,u);const R={};if(u&1&&(R.data=t[0]),u&1&&(R.options={responsive:!0,maintainAspectRatio:!1,plugins:{datalabels:{anchor:"end",align:"top",color:"black",font:{weight:"bold"},formatter:jt},annotation:{annotations:t[13]>0?{majorityLine:{type:"line",yMin:t[13],yMax:t[13],borderColor:"rgb(255, 99, 132)",borderWidth:2}}:{}}},scales:{x:{stacked:!0},y:{stacked:!0,suggestedMax:Math.max(...t[0].labels.map(t[20]))+5}}}),ae.$set(R),u&434177){be=yt(t[0].datasets);let H;for(H=0;H<be.length;H+=1){const he=Et(t,be,H);w[H]?w[H].p(he,u):(w[H]=Dt(he),w[H].c(),w[H].m(N,we))}for(;H<w.length;H+=1)w[H].d(1);w.length=be.length}(!B||u&64)&&Ee!==(Ee=(t[6]>=0?t[6].toFixed(2):0)+"")&&oe(Ie,Ee),t[6]<-1e-5?P||(P=Tt(),P.c(),P.m(N,null)):P&&(P.d(1),P=null),t[16]&&Q.p(t,u);const W={};u&256&&(W.data=t[8]),le.$set(W);const re={};u&2&&(re.data=t[1]),u&54&&(re.options={responsive:!0,indexAxis:"y",scales:{y:{stacked:!0},x:{stacked:!0,max:t[2]}},plugins:{annotation:{annotations:{majorityLine:{type:"line",xMin:t[4],xMax:t[4],borderColor:"rgb(255, 99, 132)",borderWidth:3},twoThirdsMajorityLine:{type:"line",xMin:t[5],xMax:t[5],borderColor:"rgb(255, 99, 132)",borderWidth:1}}},datalabels:{anchor:"center",align:"center",color:"white",formatter:wt,font:{weight:"bold",size:20}},legend:{onClick:t[24]}}}),se.$set(re),(!B||u&128)&&oe(Pe,t[7]),(!B||u&16)&&oe(He,t[4]),(!B||u&144&&Ve!==(Ve="majorityText "+(t[7]<t[4]?"red":"green")))&&E($,"class",Ve),(!B||u&128)&&oe(Be,t[7]),(!B||u&32)&&oe(Re,t[5]),(!B||u&160&&Ne!==(Ne="majorityText "+(t[7]<t[5]?"red":"green")))&&E(q,"class",Ne)},i(t){B||(ot(ae.$$.fragment,t),ot(le.$$.fragment,t),ot(se.$$.fragment,t),B=!0)},o(t){it(ae.$$.fragment,t),it(le.$$.fragment,t),it(se.$$.fragment,t),B=!1},d(t){t&&(r(n),r(s),r(o),r(Le),r(fe),r(Se),r(Ae),r(K)),Me.d(),dt(ae),Vt(w,t),P&&P.d(),Q&&Q.d(t),dt(le),dt(se)}}}const jt=(e,n)=>{const{chart:l,dataIndex:s,datasetIndex:o}=n,c=l.data.datasets.length-1;return o!==c?"":l.data.datasets.reduce((_,L)=>{const h=L.data[s];return typeof h=="number"?_+h:_},0).toLocaleString("de-AT",{minimumFractionDigits:2,maximumFractionDigits:2})},xt=function(e){return e>0?e:""},wt=function(e){return e>0?e:""};function ea(e,n,l){let s,o,c,f;Rt.register(Nt,Wt,zt,Ft,Ot,$t,qt,Gt);let _=X("data");$e(e,_,p=>l(0,s=p));let L=X("mandateData");$e(e,L,p=>l(8,c=p));let h=X("majorityData");$e(e,h,p=>l(1,o=p));let b=X("mandateCount");$e(e,b,p=>l(2,f=p));let j=X("threshold"),z=X("apportionmentMethod"),G=X("electionDate"),U=X("baseMandateRule"),g=X("note"),T=0,v=0;G=new Date(G).toLocaleDateString("de-AT",{day:"numeric",month:"long",year:"numeric"});let S=[],ie,Z=0;function x(p){let C=p.map(V=>V.data[V.index]);l(6,ie=100-C.reduce((V,ue)=>V+ue,0));let A=C.map((V,ue)=>{const te=document.getElementById(`checkbox_party_${ue}`),ye=te instanceof HTMLInputElement?te.checked:!1;return V<j&&!ye?0:V});return ie>=-1e-5&&(z=="D'Hondt"?l(19,S=Ut([...A],f)):z=="Sainte-Laguë"?l(19,S=Zt([...A],f)):z=="Hare-Niemeyer"&&l(19,S=Jt([...A],f))),S}function ce(p,C){s.datasets[p].data[C]>100&&qe(_,s.datasets[p].data[C]=100,s)}const J=(p,C)=>s.datasets.reduce((A,V)=>A+(V.data[C]||0),0);function ee(p,C){s.datasets[p].data[C.index]=It(this.value),_.set(s)}const je=(p,C)=>ce(p,C.index),Ce=()=>x(s.datasets),de=function(p,C){if(C.datasetIndex!==void 0){const A=C.datasetIndex,V=o.datasets[A].hidden;qe(h,o.datasets[A].hidden=!V,o)}};return e.$$.update=()=>{if(e.$$.dirty&4&&l(4,T=Math.floor(f/2+1)),e.$$.dirty&4&&l(5,v=Math.ceil(f/3*2)),e.$$.dirty&1&&l(19,S=x(s.datasets)),e.$$.dirty&524288){qe(L,c.datasets[0].data=S,c);for(let p in S)qe(h,o.datasets[p].data=[S[p]],o)}e.$$.dirty&130&&(l(7,Z=0),o.datasets.forEach((p,C)=>{p.hidden||l(7,Z+=p.data[0])}))},[s,o,f,G,T,v,ie,Z,c,_,L,h,b,j,z,U,g,x,ce,S,J,ee,je,Ce,de]}class ra extends Pt{constructor(n){super(),Ht(this,n,ea,Yt,St,{})}}export{ra as E};
