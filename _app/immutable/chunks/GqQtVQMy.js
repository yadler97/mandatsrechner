import{s as Lt,g as K,c as Fe,e as nt,n as $e}from"./eX-Ury47.js";import{S as At,i as Pt,e as h,s as g,t as D,o as lt,c as p,l as x,f as v,a as _,b as T,d,p as rt,m as C,g as w,h as l,u as it,j as re,w as ot,x as st,y as dt,n as Ht,A as gt,q as vt,v as wt,B as It}from"./CvUCCQBL.js";import{e as Ct}from"./D6YF6ztN.js";import{B as yt,D as Vt,C as Bt,p as Rt,a as Wt,b as Nt,c as Ot,d as zt,L as Ft,e as $t,f as qt}from"./B78RUGKS.js";function kt(e,n,a){const r=e.slice();return r[24]=n[a],r[25]=n,r[26]=a,r}function xt(e){let n;return{c(){n=D("keine")},l(a){n=T(a,"keine")},m(a,r){w(a,n,r)},p:$e,d(a){a&&d(n)}}}function Gt(e){let n,a;return{c(){n=D(e[13]),a=D(" %")},l(r){n=T(r,e[13]),a=T(r," %")},m(r,o){w(r,n,o),w(r,a,o)},p:$e,d(r){r&&(d(n),d(a))}}}function Mt(e){let n,a,r="3 Grundmandate?",o,s,i,M;return{c(){n=h("div"),a=h("label"),a.textContent=r,o=g(),s=h("input"),this.h()},l(f){n=p(f,"DIV",{class:!0});var u=_(n);a=p(u,"LABEL",{for:!0,"data-svelte-h":!0}),x(a)!=="svelte-p4x8ve"&&(a.textContent=r),o=v(u),s=p(u,"INPUT",{id:!0,type:!0}),u.forEach(d),this.h()},h(){C(a,"for","checkbox_party_"+e[26]),C(s,"id","checkbox_party_"+e[26]),C(s,"type","checkbox"),C(n,"class","base_mandate_checkbox")},m(f,u){w(f,n,u),l(n,a),l(n,o),l(n,s),i||(M=wt(s,"change",e[21]),i=!0)},p:$e,d(f){f&&d(n),i=!1,M()}}}function Et(e){let n,a,r=e[24].label+"",o,s,i,M,f,u,S;function W(){e[20].call(i,e[26],e[24])}let m=e[2].datasets[e[26]].data[e[24].index]<e[13]&&e[15]&&Mt(e);return{c(){n=h("div"),a=h("label"),o=D(r),s=g(),i=h("input"),M=g(),m&&m.c(),f=gt(),this.h()},l(y){n=p(y,"DIV",{class:!0});var k=_(n);a=p(k,"LABEL",{for:!0});var G=_(a);o=T(G,r),G.forEach(d),s=v(k),i=p(k,"INPUT",{id:!0,type:!0,min:!0,max:!0}),k.forEach(d),M=v(y),m&&m.l(y),f=gt(),this.h()},h(){C(a,"for","input_party_"+e[26]),C(i,"id","input_party_"+e[26]),C(i,"type","number"),C(i,"min","0"),C(i,"max","100"),C(n,"class","input_field_vote_party")},m(y,k){w(y,n,k),l(n,a),l(a,o),l(n,s),l(n,i),vt(i,e[2].datasets[e[26]].data[e[24].index]),w(y,M,k),m&&m.m(y,k),w(y,f,k),u||(S=wt(i,"input",W),u=!0)},p(y,k){e=y,k&4&&r!==(r=e[24].label+"")&&re(o,r),k&4&&It(i.value)!==e[2].datasets[e[26]].data[e[24].index]&&vt(i,e[2].datasets[e[26]].data[e[24].index]),e[2].datasets[e[26]].data[e[24].index]<e[13]&&e[15]?m?m.p(e,k):(m=Mt(e),m.c(),m.m(f.parentNode,f)):m&&(m.d(1),m=null)},d(y){y&&(d(n),d(M),d(f)),m&&m.d(y),u=!1,S()}}}function Dt(e){let n,a="Achtung: Gesamtstimmen dürfen 100% nicht überschreiten!";return{c(){n=h("p"),n.textContent=a},l(r){n=p(r,"P",{"data-svelte-h":!0}),x(n)!=="svelte-154vc08"&&(n.textContent=a)},m(r,o){w(r,n,o)},d(r){r&&d(n)}}}function Ut(e){let n,a,r;return{c(){n=h("p"),a=D("Achtung: "),r=D(e[16])},l(o){n=p(o,"P",{});var s=_(n);a=T(s,"Achtung: "),r=T(s,e[16]),s.forEach(d)},m(o,s){w(o,n,s),l(n,a),l(n,r)},p:$e,d(o){o&&d(n)}}}function Zt(e){let n,a="Stimmenanteile",r,o,s,i,M="Allgemeine Informationen",f,u,S,W,m="Wahltermin",y,k,G,ue,O,ie,V="Abgeordnete",oe,U,X,be,Z,Y,Te="Sperrklausel",b,I,B,E,z,ge="Sitzzuteilungsverfahren",ve,Ce,qe,xe,fe,ee,Ge,R,je,te,ce,ut="Sonstige:",Ue,ye,ke=(e[6]>=0?e[6].toFixed(2):0)+"",we,Ze,Ie,se,ft="Mandatsverteilung",Se,Le,Q,he,ae,Qe,F,ne,Je,$,Ke,Ae,Xe,Pe,He,Ye,q,et,Ve,tt,Be,Re,P;function St(t,c){return t[13]>0?Gt:xt}let Me=St(e)(e);ee=new yt({props:{data:e[2],options:{responsive:!0,maintainAspectRatio:!1,plugins:{datalabels:{anchor:"end",align:"top",color:"black",font:{weight:"bold"},formatter:Tt},annotation:{annotations:e[13]>0?{majorityLine:{type:"line",yMin:e[13],yMax:e[13],borderColor:"rgb(255, 99, 132)",borderWidth:2}}:{}}},scales:{x:{stacked:!0},y:{stacked:!0,suggestedMax:Math.max(...e[2].labels.map(e[19]))+5}}}}});let pe=Ct(e[2].datasets),j=[];for(let t=0;t<pe.length;t+=1)j[t]=Et(kt(e,pe,t));let L=e[6]<-1e-5&&Dt(),J=e[16]&&Ut(e);return ae=new Vt({props:{id:"mandatesChart",data:e[8],options:{responsive:!0,circumference:180,rotation:-90,plugins:{datalabels:{anchor:"end",align:"start",color:"white",formatter:Xt,font:{weight:"bold",size:20}}}}}}),ne=new yt({props:{data:e[0],options:{responsive:!0,indexAxis:"y",scales:{y:{stacked:!0},x:{stacked:!0,max:e[1]}},plugins:{annotation:{annotations:{majorityLine:{type:"line",xMin:e[4],xMax:e[4],borderColor:"rgb(255, 99, 132)",borderWidth:3},twoThirdsMajorityLine:{type:"line",xMin:e[5],xMax:e[5],borderColor:"rgb(255, 99, 132)",borderWidth:1}}},datalabels:{anchor:"center",align:"center",color:"white",formatter:jt,font:{weight:"bold",size:20}},legend:{onClick:e[22]}}}}}),{c(){n=h("h1"),n.textContent=a,r=g(),o=h("section"),s=h("div"),i=h("p"),i.textContent=M,f=g(),u=h("table"),S=h("tr"),W=h("th"),W.textContent=m,y=g(),k=h("td"),G=D(e[3]),ue=g(),O=h("tr"),ie=h("th"),ie.textContent=V,oe=g(),U=h("td"),X=D(e[1]),be=g(),Z=h("tr"),Y=h("th"),Y.textContent=Te,b=g(),I=h("td"),Me.c(),B=g(),E=h("tr"),z=h("th"),z.textContent=ge,ve=g(),Ce=h("td"),qe=D(e[14]),xe=g(),fe=h("div"),lt(ee.$$.fragment),Ge=g(),R=h("div");for(let t=0;t<j.length;t+=1)j[t].c();je=g(),te=h("div"),ce=h("p"),ce.textContent=ut,Ue=g(),ye=h("p"),we=D(ke),Ze=g(),L&&L.c(),Ie=g(),se=h("h1"),se.textContent=ft,Se=g(),J&&J.c(),Le=g(),Q=h("section"),he=h("div"),lt(ae.$$.fragment),Qe=g(),F=h("div"),lt(ne.$$.fragment),Je=g(),$=h("p"),Ke=D("Mehrheit: "),Ae=D(e[7]),Xe=D("/"),Pe=D(e[4]),Ye=g(),q=h("p"),et=D("Zweidrittelmehrheit: "),Ve=D(e[7]),tt=D("/"),Be=D(e[5]),this.h()},l(t){n=p(t,"H1",{"data-svelte-h":!0}),x(n)!=="svelte-too001"&&(n.textContent=a),r=v(t),o=p(t,"SECTION",{class:!0});var c=_(o);s=p(c,"DIV",{class:!0});var H=_(s);i=p(H,"P",{"data-svelte-h":!0}),x(i)!=="svelte-7wsg44"&&(i.textContent=M),f=v(H),u=p(H,"TABLE",{});var N=_(u);S=p(N,"TR",{});var le=_(S);W=p(le,"TH",{"data-svelte-h":!0}),x(W)!=="svelte-1cjbgjn"&&(W.textContent=m),y=v(le),k=p(le,"TD",{});var A=_(k);G=T(A,e[3]),A.forEach(d),le.forEach(d),ue=v(N),O=p(N,"TR",{});var de=_(O);ie=p(de,"TH",{"data-svelte-h":!0}),x(ie)!=="svelte-m7jygq"&&(ie.textContent=V),oe=v(de),U=p(de,"TD",{});var ct=_(U);X=T(ct,e[1]),ct.forEach(d),de.forEach(d),be=v(N),Z=p(N,"TR",{});var We=_(Z);Y=p(We,"TH",{"data-svelte-h":!0}),x(Y)!=="svelte-1k72mb"&&(Y.textContent=Te),b=v(We),I=p(We,"TD",{});var ht=_(I);Me.l(ht),ht.forEach(d),We.forEach(d),B=v(N),E=p(N,"TR",{});var Ne=_(E);z=p(Ne,"TH",{"data-svelte-h":!0}),x(z)!=="svelte-1lrysmd"&&(z.textContent=ge),ve=v(Ne),Ce=p(Ne,"TD",{});var pt=_(Ce);qe=T(pt,e[14]),pt.forEach(d),Ne.forEach(d),N.forEach(d),H.forEach(d),xe=v(c),fe=p(c,"DIV",{class:!0});var mt=_(fe);rt(ee.$$.fragment,mt),mt.forEach(d),Ge=v(c),R=p(c,"DIV",{class:!0});var me=_(R);for(let at=0;at<j.length;at+=1)j[at].l(me);je=v(me),te=p(me,"DIV",{class:!0});var Oe=_(te);ce=p(Oe,"P",{"data-svelte-h":!0}),x(ce)!=="svelte-1p0cp1c"&&(ce.textContent=ut),Ue=v(Oe),ye=p(Oe,"P",{});var _t=_(ye);we=T(_t,ke),_t.forEach(d),Oe.forEach(d),Ze=v(me),L&&L.l(me),me.forEach(d),c.forEach(d),Ie=v(t),se=p(t,"H1",{"data-svelte-h":!0}),x(se)!=="svelte-jg7skr"&&(se.textContent=ft),Se=v(t),J&&J.l(t),Le=v(t),Q=p(t,"SECTION",{class:!0});var ze=_(Q);he=p(ze,"DIV",{class:!0});var bt=_(he);rt(ae.$$.fragment,bt),bt.forEach(d),Qe=v(ze),F=p(ze,"DIV",{class:!0});var _e=_(F);rt(ne.$$.fragment,_e),Je=v(_e),$=p(_e,"P",{class:!0});var Ee=_($);Ke=T(Ee,"Mehrheit: "),Ae=T(Ee,e[7]),Xe=T(Ee,"/"),Pe=T(Ee,e[4]),Ee.forEach(d),Ye=v(_e),q=p(_e,"P",{class:!0});var De=_(q);et=T(De,"Zweidrittelmehrheit: "),Ve=T(De,e[7]),tt=T(De,"/"),Be=T(De,e[5]),De.forEach(d),_e.forEach(d),ze.forEach(d),this.h()},h(){C(s,"class","info_container"),C(fe,"class","bar_container"),C(te,"class","input_field_vote_party"),C(R,"class","input_fields_vote"),C(o,"class","vote_share_section"),C(he,"class","pie_container"),C($,"class",He="majorityText "+(e[7]<e[4]?"red":"green")),C(q,"class",Re="majorityText "+(e[7]<e[5]?"red":"green")),C(F,"class","stack_container"),C(Q,"class","mandate_section")},m(t,c){w(t,n,c),w(t,r,c),w(t,o,c),l(o,s),l(s,i),l(s,f),l(s,u),l(u,S),l(S,W),l(S,y),l(S,k),l(k,G),l(u,ue),l(u,O),l(O,ie),l(O,oe),l(O,U),l(U,X),l(u,be),l(u,Z),l(Z,Y),l(Z,b),l(Z,I),Me.m(I,null),l(u,B),l(u,E),l(E,z),l(E,ve),l(E,Ce),l(Ce,qe),l(o,xe),l(o,fe),it(ee,fe,null),l(o,Ge),l(o,R);for(let H=0;H<j.length;H+=1)j[H]&&j[H].m(R,null);l(R,je),l(R,te),l(te,ce),l(te,Ue),l(te,ye),l(ye,we),l(R,Ze),L&&L.m(R,null),w(t,Ie,c),w(t,se,c),w(t,Se,c),J&&J.m(t,c),w(t,Le,c),w(t,Q,c),l(Q,he),it(ae,he,null),l(Q,Qe),l(Q,F),it(ne,F,null),l(F,Je),l(F,$),l($,Ke),l($,Ae),l($,Xe),l($,Pe),l(F,Ye),l(F,q),l(q,et),l(q,Ve),l(q,tt),l(q,Be),P=!0},p(t,[c]){(!P||c&8)&&re(G,t[3]),(!P||c&2)&&re(X,t[1]),Me.p(t,c);const H={};if(c&4&&(H.data=t[2]),c&4&&(H.options={responsive:!0,maintainAspectRatio:!1,plugins:{datalabels:{anchor:"end",align:"top",color:"black",font:{weight:"bold"},formatter:Tt},annotation:{annotations:t[13]>0?{majorityLine:{type:"line",yMin:t[13],yMax:t[13],borderColor:"rgb(255, 99, 132)",borderWidth:2}}:{}}},scales:{x:{stacked:!0},y:{stacked:!0,suggestedMax:Math.max(...t[2].labels.map(t[19]))+5}}}),ee.$set(H),c&172036){pe=Ct(t[2].datasets);let A;for(A=0;A<pe.length;A+=1){const de=kt(t,pe,A);j[A]?j[A].p(de,c):(j[A]=Et(de),j[A].c(),j[A].m(R,je))}for(;A<j.length;A+=1)j[A].d(1);j.length=pe.length}(!P||c&64)&&ke!==(ke=(t[6]>=0?t[6].toFixed(2):0)+"")&&re(we,ke),t[6]<-1e-5?L||(L=Dt(),L.c(),L.m(R,null)):L&&(L.d(1),L=null),t[16]&&J.p(t,c);const N={};c&256&&(N.data=t[8]),ae.$set(N);const le={};c&1&&(le.data=t[0]),c&51&&(le.options={responsive:!0,indexAxis:"y",scales:{y:{stacked:!0},x:{stacked:!0,max:t[1]}},plugins:{annotation:{annotations:{majorityLine:{type:"line",xMin:t[4],xMax:t[4],borderColor:"rgb(255, 99, 132)",borderWidth:3},twoThirdsMajorityLine:{type:"line",xMin:t[5],xMax:t[5],borderColor:"rgb(255, 99, 132)",borderWidth:1}}},datalabels:{anchor:"center",align:"center",color:"white",formatter:jt,font:{weight:"bold",size:20}},legend:{onClick:t[22]}}}),ne.$set(le),(!P||c&128)&&re(Ae,t[7]),(!P||c&16)&&re(Pe,t[4]),(!P||c&144&&He!==(He="majorityText "+(t[7]<t[4]?"red":"green")))&&C($,"class",He),(!P||c&128)&&re(Ve,t[7]),(!P||c&32)&&re(Be,t[5]),(!P||c&160&&Re!==(Re="majorityText "+(t[7]<t[5]?"red":"green")))&&C(q,"class",Re)},i(t){P||(ot(ee.$$.fragment,t),ot(ae.$$.fragment,t),ot(ne.$$.fragment,t),P=!0)},o(t){st(ee.$$.fragment,t),st(ae.$$.fragment,t),st(ne.$$.fragment,t),P=!1},d(t){t&&(d(n),d(r),d(o),d(Ie),d(se),d(Se),d(Le),d(Q)),Me.d(),dt(ee),Ht(j,t),L&&L.d(),J&&J.d(t),dt(ae),dt(ne)}}}function Qt(e,n){let a=[],r=[],o=[...e];for(let s in e)r.push(1),a.push(0);for(let s=0;s<n;s++){let i=o.indexOf(Math.max(...o));r[i]=r[i]+1,a[i]=a[i]+1,o[i]=e[i]/r[i]}return a}function Jt(e,n){let a=[],r=new Array(e.length).fill(.5),o=[...e];for(let s in e)r.push(1),a.push(0);for(let s=0;s<n;s++){let i=o.indexOf(Math.max(...o));r[i]=r[i]+1,a[i]=a[i]+1,o[i]=e[i]/r[i]}return a}function Kt(e,n){let a=[];const o=e.reduce((f,u)=>f+u,0)/n;a=e.map(f=>{const u=Math.floor(f/o),S=f%o;return{initialMandates:u,remainder:S}});let s=a.reduce((f,u)=>f+(u.initialMandates||0),0);const i=n-s,M=a.map((f,u)=>({index:u,remainder:f.remainder||0})).sort((f,u)=>u.remainder-f.remainder);for(let f=0;f<i;f++)a[M[f].index].initialMandates+=1;return a.map(f=>f.initialMandates||0)}const Tt=(e,n)=>{const{chart:a,dataIndex:r,datasetIndex:o}=n,s=a.data.datasets.length-1;return o!==s?"":a.data.datasets.reduce((M,f)=>{const u=f.data[r];return typeof u=="number"?M+u:M},0).toLocaleString("de-AT",{minimumFractionDigits:2,maximumFractionDigits:2})},Xt=function(e){return e>0?e:""},jt=function(e){return e>0?e:""};function Yt(e,n,a){let r,o,s,i;Bt.register(Rt,Wt,Nt,Ot,zt,Ft,$t,qt);let M=K("data");Fe(e,M,b=>a(2,i=b));let f=K("mandateData");Fe(e,f,b=>a(8,o=b));let u=K("majorityData");Fe(e,u,b=>a(0,r=b));let S=K("mandateCount");Fe(e,S,b=>a(1,s=b));let W=K("threshold"),m=K("apportionmentMethod"),y=K("electionDate"),k=K("baseMandateRule"),G=K("note"),ue=0,O=0;y=new Date(y).toLocaleDateString("de-AT",{day:"numeric",month:"long",year:"numeric"});let V=[],oe,U=0;function X(b){let I=b.map(E=>E.data[E.index]);a(6,oe=100-I.reduce((E,z)=>E+z,0));let B=I.map((E,z)=>{const ge=document.getElementById(`checkbox_party_${z}`),ve=ge instanceof HTMLInputElement?ge.checked:!1;return E<W&&!ve?0:E});return oe>=-1e-5&&(m=="D'Hondt"?a(18,V=Qt([...B],s)):m=="Sainte-Laguë"?a(18,V=Jt([...B],s)):m=="Hare-Niemeyer"&&a(18,V=Kt([...B],s))),V}const be=(b,I)=>i.datasets.reduce((B,E)=>B+(E.data[I]||0),0);function Z(b,I){i.datasets[b].data[I.index]=It(this.value),M.set(i)}const Y=()=>X(i.datasets),Te=function(b,I){if(I.datasetIndex!==void 0){const B=I.datasetIndex,E=r.datasets[B].hidden;nt(u,r.datasets[B].hidden=!E,r)}};return e.$$.update=()=>{if(e.$$.dirty&2&&a(4,ue=Math.floor(s/2+1)),e.$$.dirty&2&&a(5,O=Math.ceil(s/3*2)),e.$$.dirty&4&&a(18,V=X(i.datasets)),e.$$.dirty&262144){nt(f,o.datasets[0].data=V,o);for(let b in V)nt(u,r.datasets[b].data=[V[b]],r)}e.$$.dirty&129&&(a(7,U=0),r.datasets.forEach((b,I)=>{b.hidden||a(7,U+=b.data[0])}))},[r,s,i,y,ue,O,oe,U,o,M,f,u,S,W,m,k,G,X,V,be,Z,Y,Te]}class ra extends At{constructor(n){super(),Pt(this,n,Yt,Zt,Lt,{})}}export{ra as E};
