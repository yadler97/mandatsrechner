import{s as Nt,g as te,c as $e,e as qe,n as Ze,r as Rt}from"./eX-Ury47.js";import{S as Ht,i as Vt,e as u,s as D,t as T,p as lt,c as f,l as ae,f as M,a as g,b as A,d as o,q as st,m as C,g as L,h as l,v as ot,j as de,x as it,y as dt,z as ut,o as Bt,n as Ue,B as Pt,r as Ct,w as ct}from"./lEND0Fm8.js";import{e as kt}from"./D6YF6ztN.js";import{B as Et,D as Wt,C as zt,p as Ot,a as Gt,b as $t,c as qt,d as Ut,L as Zt,e as Yt,f as Jt,A as ft,g as Kt,s as Qt,h as Xt}from"./_TCBJ-H0.js";function Dt(e,n,t){const r=e.slice();return r[27]=n[t],r[28]=n,r[29]=t,r}function xt(e){let n;return{c(){n=T("keine")},l(t){n=A(t,"keine")},m(t,r){L(t,n,r)},p:Ze,d(t){t&&o(n)}}}function ea(e){let n,t;return{c(){n=T(e[13]),t=T(" %")},l(r){n=A(r,e[13]),t=A(r," %")},m(r,s){L(r,n,s),L(r,t,s)},p:Ze,d(r){r&&(o(n),o(t))}}}function Mt(e){let n,t,r=e[27].label+"",s,p,h,_,b,i,m,k,P;function Y(){e[21].call(_,e[29],e[27])}function J(){return e[22](e[29],e[27])}let E=e[0].datasets[e[29]].data[e[27].index]<e[13]&&e[15]&&Tt(e);return{c(){n=u("div"),t=u("label"),s=T(r),p=D(),h=u("span"),_=u("input"),b=T(" %"),i=D(),E&&E.c(),m=Ue(),this.h()},l(I){n=f(I,"DIV",{class:!0});var v=g(n);t=f(v,"LABEL",{for:!0});var G=g(t);s=A(G,r),G.forEach(o),p=M(v),h=f(v,"SPAN",{class:!0});var F=g(h);_=f(F,"INPUT",{id:!0,type:!0,step:!0,min:!0,max:!0}),b=A(F," %"),F.forEach(o),v.forEach(o),i=M(I),E&&E.l(I),m=Ue(),this.h()},h(){C(t,"for","input_party_"+e[29]),C(_,"id","input_party_"+e[29]),C(_,"type","number"),C(_,"step","any"),C(_,"min","0"),C(_,"max","100"),C(h,"class","valuePadding"),C(n,"class","input_field_vote_party")},m(I,v){L(I,n,v),l(n,t),l(t,s),l(n,p),l(n,h),l(h,_),Ct(_,e[0].datasets[e[29]].data[e[27].index]),l(h,b),L(I,i,v),E&&E.m(I,v),L(I,m,v),k||(P=[ct(_,"input",Y),ct(_,"input",J)],k=!0)},p(I,v){e=I,v&1&&r!==(r=e[27].label+"")&&de(s,r),v&1&&Pt(_.value)!==e[0].datasets[e[29]].data[e[27].index]&&Ct(_,e[0].datasets[e[29]].data[e[27].index]),e[0].datasets[e[29]].data[e[27].index]<e[13]&&e[15]?E?E.p(e,v):(E=Tt(e),E.c(),E.m(m.parentNode,m)):E&&(E.d(1),E=null)},d(I){I&&(o(n),o(i),o(m)),E&&E.d(I),k=!1,Rt(P)}}}function Tt(e){let n,t,r,s,p,h,_,b;return{c(){n=u("div"),t=u("label"),r=T(e[15]),s=T(" Grundmandat(e)?"),p=D(),h=u("input"),this.h()},l(i){n=f(i,"DIV",{class:!0});var m=g(n);t=f(m,"LABEL",{for:!0});var k=g(t);r=A(k,e[15]),s=A(k," Grundmandat(e)?"),k.forEach(o),p=M(m),h=f(m,"INPUT",{id:!0,type:!0}),m.forEach(o),this.h()},h(){C(t,"for","checkbox_party_"+e[29]),C(h,"id","checkbox_party_"+e[29]),C(h,"type","checkbox"),C(n,"class","base_mandate_checkbox")},m(i,m){L(i,n,m),l(n,t),l(t,r),l(t,s),l(n,p),l(n,h),_||(b=ct(h,"change",e[23]),_=!0)},p:Ze,d(i){i&&o(n),_=!1,b()}}}function At(e){let n,t=e[0].datasets[e[29]].order!=2&&Mt(e);return{c(){t&&t.c(),n=Ue()},l(r){t&&t.l(r),n=Ue()},m(r,s){t&&t.m(r,s),L(r,n,s)},p(r,s){r[0].datasets[r[29]].order!=2?t?t.p(r,s):(t=Mt(r),t.c(),t.m(n.parentNode,n)):t&&(t.d(1),t=null)},d(r){r&&o(n),t&&t.d(r)}}}function It(e){let n,t="Achtung: Gesamtstimmen dürfen 100% nicht überschreiten!";return{c(){n=u("p"),n.textContent=t},l(r){n=f(r,"P",{"data-svelte-h":!0}),ae(n)!=="svelte-154vc08"&&(n.textContent=t)},m(r,s){L(r,n,s)},d(r){r&&o(n)}}}function ta(e){let n,t,r;return{c(){n=u("p"),t=T("Achtung: "),r=T(e[16])},l(s){n=f(s,"P",{});var p=g(n);t=A(p,"Achtung: "),r=A(p,e[16]),p.forEach(o)},m(s,p){L(s,n,p),l(n,t),l(n,r)},p:Ze,d(s){s&&o(n)}}}function aa(e){let n,t="Stimmenanteile",r,s,p,h,_="Allgemeine Informationen",b,i,m,k,P="Wahltermin",Y,J,E,I,v,G,F="Abgeordnete",ue,K,ne,_e,Q,re,Ie="Sperrklausel",ye,fe,Ce,d,y,W="Sitzzuteilungsverfahren",j,S,H,ke,X,$,Ye,z,Se,le,pe,ht="Sonstige:",Je,Ee,De=(e[6]>=0?e[6].toFixed(2):0)+"",Le,Ke,je,ce,_t="Mandatsverteilung",we,Pe,x,me,se,Qe,q,oe,Xe,U,xe,Fe,et,Ne,Re,tt,Z,at,He,nt,Ve,Be,V;function Ft(a,c){return a[13]>0?ea:xt}let Me=Ft(e)(e);$=new Et({props:{data:e[0],options:{responsive:!0,maintainAspectRatio:!1,plugins:{datalabels:{anchor:"end",align:"top",color:"black",font:{weight:"bold"},formatter:St,labels:{0:{color:"black"},1:{color:Lt}}},annotation:{annotations:e[13]>0?{majorityLine:{type:"line",yMin:e[13],yMax:e[13],borderColor:"rgb(255, 99, 132)",borderWidth:2}}:{}},legend:{display:!0,labels:{filter:jt}}},scales:{x:{stacked:!0},y:{stacked:!0,suggestedMax:Math.max(...e[0].labels.map(e[20]))+5}}}}});let be=kt(e[0].datasets),w=[];for(let a=0;a<be.length;a+=1)w[a]=At(Dt(e,be,a));let N=e[6]<-1e-5&&It(),ee=e[16]&&ta(e);return se=new Wt({props:{id:"mandatesChart",data:e[8],options:{responsive:!0,cutout:"40%",circumference:180,rotation:-90,plugins:{datalabels:{anchor:"end",align:"start",color:"white",formatter:na,font:{weight:"bold",size:20}},legend:{display:!0,labels:{generateLabels:e[24]},onClick:ra}}}}}),oe=new Et({props:{data:e[1],options:{responsive:!0,indexAxis:"y",scales:{y:{stacked:!0},x:{stacked:!0,max:e[2]}},plugins:{annotation:{annotations:{majorityLine:{type:"line",xMin:e[4],xMax:e[4],borderColor:"rgb(255, 99, 132)",borderWidth:3},twoThirdsMajorityLine:{type:"line",xMin:e[5],xMax:e[5],borderColor:"rgb(255, 99, 132)",borderWidth:1}}},datalabels:{anchor:"center",align:"center",color:"white",formatter:wt,font:{weight:"bold",size:20}},legend:{onClick:e[25]}}}}}),{c(){n=u("h1"),n.textContent=t,r=D(),s=u("section"),p=u("div"),h=u("p"),h.textContent=_,b=D(),i=u("table"),m=u("tr"),k=u("th"),k.textContent=P,Y=D(),J=u("td"),E=T(e[3]),I=D(),v=u("tr"),G=u("th"),G.textContent=F,ue=D(),K=u("td"),ne=T(e[2]),_e=D(),Q=u("tr"),re=u("th"),re.textContent=Ie,ye=D(),fe=u("td"),Me.c(),Ce=D(),d=u("tr"),y=u("th"),y.textContent=W,j=D(),S=u("td"),H=T(e[14]),ke=D(),X=u("div"),lt($.$$.fragment),Ye=D(),z=u("div");for(let a=0;a<w.length;a+=1)w[a].c();Se=D(),le=u("div"),pe=u("p"),pe.textContent=ht,Je=D(),Ee=u("p"),Le=T(De),Ke=D(),N&&N.c(),je=D(),ce=u("h1"),ce.textContent=_t,we=D(),ee&&ee.c(),Pe=D(),x=u("section"),me=u("div"),lt(se.$$.fragment),Qe=D(),q=u("div"),lt(oe.$$.fragment),Xe=D(),U=u("p"),xe=T("Mehrheit: "),Fe=T(e[7]),et=T("/"),Ne=T(e[4]),tt=D(),Z=u("p"),at=T("Zweidrittelmehrheit: "),He=T(e[7]),nt=T("/"),Ve=T(e[5]),this.h()},l(a){n=f(a,"H1",{"data-svelte-h":!0}),ae(n)!=="svelte-too001"&&(n.textContent=t),r=M(a),s=f(a,"SECTION",{class:!0});var c=g(s);p=f(c,"DIV",{class:!0});var B=g(p);h=f(B,"P",{"data-svelte-h":!0}),ae(h)!=="svelte-7wsg44"&&(h.textContent=_),b=M(B),i=f(B,"TABLE",{});var O=g(i);m=f(O,"TR",{});var ie=g(m);k=f(ie,"TH",{"data-svelte-h":!0}),ae(k)!=="svelte-1cjbgjn"&&(k.textContent=P),Y=M(ie),J=f(ie,"TD",{});var R=g(J);E=A(R,e[3]),R.forEach(o),ie.forEach(o),I=M(O),v=f(O,"TR",{});var he=g(v);G=f(he,"TH",{"data-svelte-h":!0}),ae(G)!=="svelte-m7jygq"&&(G.textContent=F),ue=M(he),K=f(he,"TD",{});var pt=g(K);ne=A(pt,e[2]),pt.forEach(o),he.forEach(o),_e=M(O),Q=f(O,"TR",{});var We=g(Q);re=f(We,"TH",{"data-svelte-h":!0}),ae(re)!=="svelte-1k72mb"&&(re.textContent=Ie),ye=M(We),fe=f(We,"TD",{});var mt=g(fe);Me.l(mt),mt.forEach(o),We.forEach(o),Ce=M(O),d=f(O,"TR",{});var ze=g(d);y=f(ze,"TH",{"data-svelte-h":!0}),ae(y)!=="svelte-1lrysmd"&&(y.textContent=W),j=M(ze),S=f(ze,"TD",{});var bt=g(S);H=A(bt,e[14]),bt.forEach(o),ze.forEach(o),O.forEach(o),B.forEach(o),ke=M(c),X=f(c,"DIV",{class:!0});var gt=g(X);st($.$$.fragment,gt),gt.forEach(o),Ye=M(c),z=f(c,"DIV",{class:!0});var ge=g(z);for(let rt=0;rt<w.length;rt+=1)w[rt].l(ge);Se=M(ge),le=f(ge,"DIV",{class:!0});var Oe=g(le);pe=f(Oe,"P",{"data-svelte-h":!0}),ae(pe)!=="svelte-1p0cp1c"&&(pe.textContent=ht),Je=M(Oe),Ee=f(Oe,"P",{});var vt=g(Ee);Le=A(vt,De),vt.forEach(o),Oe.forEach(o),Ke=M(ge),N&&N.l(ge),ge.forEach(o),c.forEach(o),je=M(a),ce=f(a,"H1",{"data-svelte-h":!0}),ae(ce)!=="svelte-jg7skr"&&(ce.textContent=_t),we=M(a),ee&&ee.l(a),Pe=M(a),x=f(a,"SECTION",{class:!0});var Ge=g(x);me=f(Ge,"DIV",{class:!0});var yt=g(me);st(se.$$.fragment,yt),yt.forEach(o),Qe=M(Ge),q=f(Ge,"DIV",{class:!0});var ve=g(q);st(oe.$$.fragment,ve),Xe=M(ve),U=f(ve,"P",{class:!0});var Te=g(U);xe=A(Te,"Mehrheit: "),Fe=A(Te,e[7]),et=A(Te,"/"),Ne=A(Te,e[4]),Te.forEach(o),tt=M(ve),Z=f(ve,"P",{class:!0});var Ae=g(Z);at=A(Ae,"Zweidrittelmehrheit: "),He=A(Ae,e[7]),nt=A(Ae,"/"),Ve=A(Ae,e[5]),Ae.forEach(o),ve.forEach(o),Ge.forEach(o),this.h()},h(){C(p,"class","info_container"),C(X,"class","bar_container"),C(le,"class","input_field_vote_party"),C(z,"class","input_fields_vote"),C(s,"class","vote_share_section"),C(me,"class","pie_container"),C(U,"class",Re="majorityText "+(e[7]<e[4]?"red":"green")),C(Z,"class",Be="majorityText "+(e[7]<e[5]?"red":"green")),C(q,"class","stack_container"),C(x,"class","mandate_section")},m(a,c){L(a,n,c),L(a,r,c),L(a,s,c),l(s,p),l(p,h),l(p,b),l(p,i),l(i,m),l(m,k),l(m,Y),l(m,J),l(J,E),l(i,I),l(i,v),l(v,G),l(v,ue),l(v,K),l(K,ne),l(i,_e),l(i,Q),l(Q,re),l(Q,ye),l(Q,fe),Me.m(fe,null),l(i,Ce),l(i,d),l(d,y),l(d,j),l(d,S),l(S,H),l(s,ke),l(s,X),ot($,X,null),l(s,Ye),l(s,z);for(let B=0;B<w.length;B+=1)w[B]&&w[B].m(z,null);l(z,Se),l(z,le),l(le,pe),l(le,Je),l(le,Ee),l(Ee,Le),l(z,Ke),N&&N.m(z,null),L(a,je,c),L(a,ce,c),L(a,we,c),ee&&ee.m(a,c),L(a,Pe,c),L(a,x,c),l(x,me),ot(se,me,null),l(x,Qe),l(x,q),ot(oe,q,null),l(q,Xe),l(q,U),l(U,xe),l(U,Fe),l(U,et),l(U,Ne),l(q,tt),l(q,Z),l(Z,at),l(Z,He),l(Z,nt),l(Z,Ve),V=!0},p(a,[c]){(!V||c&8)&&de(E,a[3]),(!V||c&4)&&de(ne,a[2]),Me.p(a,c);const B={};if(c&1&&(B.data=a[0]),c&1&&(B.options={responsive:!0,maintainAspectRatio:!1,plugins:{datalabels:{anchor:"end",align:"top",color:"black",font:{weight:"bold"},formatter:St,labels:{0:{color:"black"},1:{color:Lt}}},annotation:{annotations:a[13]>0?{majorityLine:{type:"line",yMin:a[13],yMax:a[13],borderColor:"rgb(255, 99, 132)",borderWidth:2}}:{}},legend:{display:!0,labels:{filter:jt}}},scales:{x:{stacked:!0},y:{stacked:!0,suggestedMax:Math.max(...a[0].labels.map(a[20]))+5}}}),$.$set(B),c&434177){be=kt(a[0].datasets);let R;for(R=0;R<be.length;R+=1){const he=Dt(a,be,R);w[R]?w[R].p(he,c):(w[R]=At(he),w[R].c(),w[R].m(z,Se))}for(;R<w.length;R+=1)w[R].d(1);w.length=be.length}(!V||c&64)&&De!==(De=(a[6]>=0?a[6].toFixed(2):0)+"")&&de(Le,De),a[6]<-1e-5?N||(N=It(),N.c(),N.m(z,null)):N&&(N.d(1),N=null),a[16]&&ee.p(a,c);const O={};c&256&&(O.data=a[8]),se.$set(O);const ie={};c&2&&(ie.data=a[1]),c&54&&(ie.options={responsive:!0,indexAxis:"y",scales:{y:{stacked:!0},x:{stacked:!0,max:a[2]}},plugins:{annotation:{annotations:{majorityLine:{type:"line",xMin:a[4],xMax:a[4],borderColor:"rgb(255, 99, 132)",borderWidth:3},twoThirdsMajorityLine:{type:"line",xMin:a[5],xMax:a[5],borderColor:"rgb(255, 99, 132)",borderWidth:1}}},datalabels:{anchor:"center",align:"center",color:"white",formatter:wt,font:{weight:"bold",size:20}},legend:{onClick:a[25]}}}),oe.$set(ie),(!V||c&128)&&de(Fe,a[7]),(!V||c&16)&&de(Ne,a[4]),(!V||c&144&&Re!==(Re="majorityText "+(a[7]<a[4]?"red":"green")))&&C(U,"class",Re),(!V||c&128)&&de(He,a[7]),(!V||c&32)&&de(Ve,a[5]),(!V||c&160&&Be!==(Be="majorityText "+(a[7]<a[5]?"red":"green")))&&C(Z,"class",Be)},i(a){V||(it($.$$.fragment,a),it(se.$$.fragment,a),it(oe.$$.fragment,a),V=!0)},o(a){dt($.$$.fragment,a),dt(se.$$.fragment,a),dt(oe.$$.fragment,a),V=!1},d(a){a&&(o(n),o(r),o(s),o(je),o(ce),o(we),o(Pe),o(x)),Me.d(),ut($),Bt(w,a),N&&N.d(),ee&&ee.d(a),ut(se),ut(oe)}}}const St=(e,n)=>{const{chart:t,dataIndex:r,datasetIndex:s}=n,p=t.data.datasets.length-1;if(s!==p)return"";const h=t.data.datasets.reduce((m,k)=>{const P=k.data[r];return typeof P=="number"&&k.order!=2?m+P:m},0),_=t.data.datasets.reduce((m,k)=>{const P=k.data[r];return typeof P=="number"&&k.order!=1?m+P:m},0),b=h-_;let i;return b>0?i="+"+b.toLocaleString("de-AT",{minimumFractionDigits:2,maximumFractionDigits:2}):b==0?i="±"+b.toLocaleString("de-AT",{minimumFractionDigits:2,maximumFractionDigits:2}):i=b.toLocaleString("de-AT",{minimumFractionDigits:2,maximumFractionDigits:2}),[h.toLocaleString("de-AT",{minimumFractionDigits:2,maximumFractionDigits:2}),i]},Lt=e=>{const{chart:n,dataIndex:t,datasetIndex:r}=e,s=n.data.datasets.reduce((_,b)=>{const i=b.data[t];return typeof i=="number"&&b.order!=2?_+i:_},0),p=n.data.datasets.reduce((_,b)=>{const i=b.data[t];return typeof i=="number"&&b.order!=1?_+i:_},0),h=s-p;return h>0?"green":h==0?"black":"red"},jt=(e,n)=>n.datasets.filter(r=>r.order!=2).map(r=>r.label).includes(e.text),na=function(e){return e>0?e:""},ra=()=>!1,wt=function(e){return e>0?e:""};function la(e,n,t){let r,s,p,h;zt.register(Ot,Gt,$t,qt,Ut,Zt,Yt,Jt);let _=te("data");$e(e,_,d=>t(0,r=d));let b=te("mandateData");$e(e,b,d=>t(8,p=d));let i=te("majorityData");$e(e,i,d=>t(1,s=d));let m=te("mandateCount");$e(e,m,d=>t(2,h=d));let k=te("threshold"),P=te("apportionmentMethod"),Y=te("electionDate"),J=te("baseMandateRule"),E=te("note"),I=0,v=0;Y=new Date(Y).toLocaleDateString("de-AT",{day:"numeric",month:"long",year:"numeric"});let F=[],ue,K=0;function ne(d){let y=d.map((S,H)=>S.order!=2?H:-1).filter(S=>S!==-1),W=y.map(S=>d[S].data[d[S].index]);t(6,ue=100-W.reduce((S,H)=>S+H,0));let j=W.map((S,H)=>{const ke=y[H],X=document.getElementById(`checkbox_party_${ke}`),$=X instanceof HTMLInputElement?X.checked:!1;return S<k&&!$?0:S});return ue>=-1e-5&&(P==ft.DHONDT?t(19,F=Kt([...j],h)):P==ft.SAINTE_LAGUE?t(19,F=Qt([...j],h)):P==ft.HARE_NIEMEYER&&t(19,F=Xt([...j],h))),F}function _e(d,y){r.datasets[d].data[y]>100&&qe(_,r.datasets[d].data[y]=100,r)}const Q=(d,y)=>r.datasets.reduce((W,j)=>W+(j.order!=2?j.data[y]:0),0);function re(d,y){r.datasets[d].data[y.index]=Pt(this.value),_.set(r)}const Ie=(d,y)=>_e(d,y.index),ye=()=>ne(r.datasets),fe=function(d){const y=d.data.datasets[1],W=d.data.labels||[],j=y.backgroundColor||[];return W.map((S,H)=>({text:String(S),fillStyle:Array.isArray(j)&&j[H]||"gray",strokeStyle:Array.isArray(j)&&j[H]||"gray",lineWidth:0,index:H}))},Ce=function(d,y){if(y.datasetIndex!==void 0){const W=y.datasetIndex,j=s.datasets[W].hidden;qe(i,s.datasets[W].hidden=!j,s)}};return e.$$.update=()=>{if(e.$$.dirty&4&&t(4,I=Math.floor(h/2+1)),e.$$.dirty&4&&t(5,v=Math.ceil(h/3*2)),e.$$.dirty&1&&t(19,F=ne(r.datasets)),e.$$.dirty&524288){qe(b,p.datasets[1].data=F,p);for(let d in F)qe(i,s.datasets[d].data=[F[d]],s)}e.$$.dirty&130&&(t(7,K=0),s.datasets.forEach((d,y)=>{d.hidden||t(7,K+=d.data[0])}))},[r,s,h,Y,I,v,ue,K,p,_,b,i,m,k,P,J,E,ne,_e,F,Q,re,Ie,ye,fe,Ce]}class fa extends Ht{constructor(n){super(),Vt(this,n,la,aa,Nt,{})}}export{fa as E};
