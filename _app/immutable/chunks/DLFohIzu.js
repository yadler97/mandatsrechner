import{s as Rt,g as ne,c as ke,e as Ye,n as ht,r as Ht}from"./91R61O7h.js";import{S as Vt,i as Bt,e as f,s as E,t as M,p as lt,c,l as re,f as D,a as v,b as A,d as o,q as st,m as C,g as j,h as l,r as ot,j as X,u as it,v as dt,w as ut,o as Wt,n as Je,B as Nt,x as Et,z as ct}from"./TVwBqQQG.js";import{e as Dt}from"./D6YF6ztN.js";import{B as Tt,D as Ot,C as zt,p as Gt,a as qt,b as Ut,c as Zt,d as Yt,L as Jt,e as Kt,f as Qt,A as ft,g as Xt,s as $t,h as xt}from"./BvzeAwy7.js";function Mt(e,n,t){const r=e.slice();return r[28]=n[t],r[29]=n,r[30]=t,r}function ea(e){let n;return{c(){n=M("keine")},l(t){n=A(t,"keine")},m(t,r){j(t,n,r)},p:ht,d(t){t&&o(n)}}}function ta(e){let n,t;return{c(){n=M(e[10]),t=M(" %")},l(r){n=A(r,e[10]),t=A(r," %")},m(r,s){j(r,n,s),j(r,t,s)},p(r,s){s&1024&&X(n,r[10])},d(r){r&&(o(n),o(t))}}}function At(e){let n,t,r=e[28].label+"",s,p,h,m,g,d,_,y,N;function le(){e[23].call(m,e[30],e[28])}function Z(){return e[24](e[30],e[28])}let b=e[0].datasets[e[30]].data[e[28].index]<e[10]&&e[17]&&St(e);return{c(){n=f("div"),t=f("label"),s=M(r),p=E(),h=f("span"),m=f("input"),g=M(" %"),d=E(),b&&b.c(),_=Je(),this.h()},l(S){n=c(S,"DIV",{class:!0});var k=v(n);t=c(k,"LABEL",{for:!0});var O=v(t);s=A(O,r),O.forEach(o),p=D(k),h=c(k,"SPAN",{class:!0});var $=v(h);m=c($,"INPUT",{id:!0,type:!0,step:!0,min:!0,max:!0}),g=A($," %"),$.forEach(o),k.forEach(o),d=D(S),b&&b.l(S),_=Je(),this.h()},h(){C(t,"for","input_party_"+e[30]),C(m,"id","input_party_"+e[30]),C(m,"type","number"),C(m,"step","any"),C(m,"min","0"),C(m,"max","100"),C(h,"class","valuePadding"),C(n,"class","input_field_vote_party")},m(S,k){j(S,n,k),l(n,t),l(t,s),l(n,p),l(n,h),l(h,m),Et(m,e[0].datasets[e[30]].data[e[28].index]),l(h,g),j(S,d,k),b&&b.m(S,k),j(S,_,k),y||(N=[ct(m,"input",le),ct(m,"input",Z)],y=!0)},p(S,k){e=S,k&1&&r!==(r=e[28].label+"")&&X(s,r),k&1&&Nt(m.value)!==e[0].datasets[e[30]].data[e[28].index]&&Et(m,e[0].datasets[e[30]].data[e[28].index]),e[0].datasets[e[30]].data[e[28].index]<e[10]&&e[17]?b?b.p(e,k):(b=St(e),b.c(),b.m(_.parentNode,_)):b&&(b.d(1),b=null)},d(S){S&&(o(n),o(d),o(_)),b&&b.d(S),y=!1,Ht(N)}}}function St(e){let n,t,r,s,p,h,m,g;return{c(){n=f("div"),t=f("label"),r=M(e[17]),s=M(" Grundmandat(e)?"),p=E(),h=f("input"),this.h()},l(d){n=c(d,"DIV",{class:!0});var _=v(n);t=c(_,"LABEL",{for:!0});var y=v(t);r=A(y,e[17]),s=A(y," Grundmandat(e)?"),y.forEach(o),p=D(_),h=c(_,"INPUT",{id:!0,type:!0}),_.forEach(o),this.h()},h(){C(t,"for","checkbox_party_"+e[30]),C(h,"id","checkbox_party_"+e[30]),C(h,"type","checkbox"),C(n,"class","base_mandate_checkbox")},m(d,_){j(d,n,_),l(n,t),l(t,r),l(t,s),l(n,p),l(n,h),m||(g=ct(h,"change",e[25]),m=!0)},p:ht,d(d){d&&o(n),m=!1,g()}}}function It(e){let n,t=e[0].datasets[e[30]].order!=2&&At(e);return{c(){t&&t.c(),n=Je()},l(r){t&&t.l(r),n=Je()},m(r,s){t&&t.m(r,s),j(r,n,s)},p(r,s){r[0].datasets[r[30]].order!=2?t?t.p(r,s):(t=At(r),t.c(),t.m(n.parentNode,n)):t&&(t.d(1),t=null)},d(r){r&&o(n),t&&t.d(r)}}}function Lt(e){let n,t="Achtung: Gesamtstimmen dürfen 100% nicht überschreiten!";return{c(){n=f("p"),n.textContent=t},l(r){n=c(r,"P",{"data-svelte-h":!0}),re(n)!=="svelte-154vc08"&&(n.textContent=t)},m(r,s){j(r,n,s)},d(r){r&&o(n)}}}function aa(e){let n,t,r;return{c(){n=f("p"),t=M("Achtung: "),r=M(e[18])},l(s){n=c(s,"P",{});var p=v(n);t=A(p,"Achtung: "),r=A(p,e[18]),p.forEach(o)},m(s,p){j(s,n,p),l(n,t),l(n,r)},p:ht,d(s){s&&o(n)}}}function na(e){let n,t="Stimmenanteile",r,s,p,h,m="Allgemeine Informationen",g,d,_,y,N="Wahltermin",le,Z,b,S,k,O,$="Abgeordnete",H,x,se,me,Y,oe,Le="Sperrklausel",Ee,ie,De,ee,i,T="Sitzzuteilungsverfahren",V,I,L,B,de,G,Te,z,je,ue,be,mt="Sonstige:",Ke,Me,Ae=(e[6]>=0?e[6].toFixed(2):0)+"",we,Qe,Pe,pe,pt="Mandatsverteilung",Fe,Ne,te,ge,fe,Xe,J,ce,$e,K,xe,Re,et,He,Ve,tt,Q,at,Be,nt,We,Oe,R;function _t(a,u){return a[10]>0?ta:ea}let ze=_t(e),q=ze(e);G=new Tt({props:{data:e[0],options:{responsive:!0,maintainAspectRatio:!1,plugins:{datalabels:{anchor:"end",align:"top",color:"black",font:{weight:"bold"},formatter:jt,labels:{0:{color:"black"},1:{color:wt}}},annotation:{annotations:e[15]>0?{majorityLine:{type:"line",yMin:e[15],yMax:e[15],borderColor:"rgb(255, 99, 132)",borderWidth:2}}:{}},legend:{display:!0,labels:{filter:Pt}}},scales:{x:{stacked:!0},y:{stacked:!0,suggestedMax:Math.max(...e[0].labels.map(e[22]))+5}}}}});let ve=Dt(e[0].datasets),w=[];for(let a=0;a<ve.length;a+=1)w[a]=It(Mt(e,ve,a));let P=e[6]<-1e-5&&Lt(),ae=e[18]&&aa(e);return fe=new Ot({props:{id:"mandatesChart",data:e[8],options:{responsive:!0,cutout:"40%",circumference:180,rotation:-90,plugins:{datalabels:{anchor:"end",align:"start",color:"white",formatter:ra,font:{weight:"bold",size:20}},legend:{display:!0,labels:{generateLabels:e[26]},onClick:la}}}}}),ce=new Tt({props:{data:e[1],options:{responsive:!0,indexAxis:"y",scales:{y:{stacked:!0},x:{stacked:!0,max:e[2]}},plugins:{annotation:{annotations:{majorityLine:{type:"line",xMin:e[4],xMax:e[4],borderColor:"rgb(255, 99, 132)",borderWidth:3},twoThirdsMajorityLine:{type:"line",xMin:e[5],xMax:e[5],borderColor:"rgb(255, 99, 132)",borderWidth:1}}},datalabels:{anchor:"center",align:"center",color:"white",formatter:Ft,font:{weight:"bold",size:20}},legend:{onClick:e[27]}}}}}),{c(){n=f("h1"),n.textContent=t,r=E(),s=f("section"),p=f("div"),h=f("p"),h.textContent=m,g=E(),d=f("table"),_=f("tr"),y=f("th"),y.textContent=N,le=E(),Z=f("td"),b=M(e[3]),S=E(),k=f("tr"),O=f("th"),O.textContent=$,H=E(),x=f("td"),se=M(e[2]),me=E(),Y=f("tr"),oe=f("th"),oe.textContent=Le,Ee=E(),ie=f("td"),q.c(),De=E(),ee=f("tr"),i=f("th"),i.textContent=T,V=E(),I=f("td"),L=M(e[9]),B=E(),de=f("div"),lt(G.$$.fragment),Te=E(),z=f("div");for(let a=0;a<w.length;a+=1)w[a].c();je=E(),ue=f("div"),be=f("p"),be.textContent=mt,Ke=E(),Me=f("p"),we=M(Ae),Qe=E(),P&&P.c(),Pe=E(),pe=f("h1"),pe.textContent=pt,Fe=E(),ae&&ae.c(),Ne=E(),te=f("section"),ge=f("div"),lt(fe.$$.fragment),Xe=E(),J=f("div"),lt(ce.$$.fragment),$e=E(),K=f("p"),xe=M("Mehrheit: "),Re=M(e[7]),et=M("/"),He=M(e[4]),tt=E(),Q=f("p"),at=M("Zweidrittelmehrheit: "),Be=M(e[7]),nt=M("/"),We=M(e[5]),this.h()},l(a){n=c(a,"H1",{"data-svelte-h":!0}),re(n)!=="svelte-too001"&&(n.textContent=t),r=D(a),s=c(a,"SECTION",{class:!0});var u=v(s);p=c(u,"DIV",{class:!0});var W=v(p);h=c(W,"P",{"data-svelte-h":!0}),re(h)!=="svelte-7wsg44"&&(h.textContent=m),g=D(W),d=c(W,"TABLE",{});var U=v(d);_=c(U,"TR",{});var he=v(_);y=c(he,"TH",{"data-svelte-h":!0}),re(y)!=="svelte-1cjbgjn"&&(y.textContent=N),le=D(he),Z=c(he,"TD",{});var F=v(Z);b=A(F,e[3]),F.forEach(o),he.forEach(o),S=D(U),k=c(U,"TR",{});var _e=v(k);O=c(_e,"TH",{"data-svelte-h":!0}),re(O)!=="svelte-m7jygq"&&(O.textContent=$),H=D(_e),x=c(_e,"TD",{});var bt=v(x);se=A(bt,e[2]),bt.forEach(o),_e.forEach(o),me=D(U),Y=c(U,"TR",{});var Ge=v(Y);oe=c(Ge,"TH",{"data-svelte-h":!0}),re(oe)!=="svelte-1k72mb"&&(oe.textContent=Le),Ee=D(Ge),ie=c(Ge,"TD",{});var gt=v(ie);q.l(gt),gt.forEach(o),Ge.forEach(o),De=D(U),ee=c(U,"TR",{});var qe=v(ee);i=c(qe,"TH",{"data-svelte-h":!0}),re(i)!=="svelte-1lrysmd"&&(i.textContent=T),V=D(qe),I=c(qe,"TD",{});var vt=v(I);L=A(vt,e[9]),vt.forEach(o),qe.forEach(o),U.forEach(o),W.forEach(o),B=D(u),de=c(u,"DIV",{class:!0});var yt=v(de);st(G.$$.fragment,yt),yt.forEach(o),Te=D(u),z=c(u,"DIV",{class:!0});var ye=v(z);for(let rt=0;rt<w.length;rt+=1)w[rt].l(ye);je=D(ye),ue=c(ye,"DIV",{class:!0});var Ue=v(ue);be=c(Ue,"P",{"data-svelte-h":!0}),re(be)!=="svelte-1p0cp1c"&&(be.textContent=mt),Ke=D(Ue),Me=c(Ue,"P",{});var Ct=v(Me);we=A(Ct,Ae),Ct.forEach(o),Ue.forEach(o),Qe=D(ye),P&&P.l(ye),ye.forEach(o),u.forEach(o),Pe=D(a),pe=c(a,"H1",{"data-svelte-h":!0}),re(pe)!=="svelte-jg7skr"&&(pe.textContent=pt),Fe=D(a),ae&&ae.l(a),Ne=D(a),te=c(a,"SECTION",{class:!0});var Ze=v(te);ge=c(Ze,"DIV",{class:!0});var kt=v(ge);st(fe.$$.fragment,kt),kt.forEach(o),Xe=D(Ze),J=c(Ze,"DIV",{class:!0});var Ce=v(J);st(ce.$$.fragment,Ce),$e=D(Ce),K=c(Ce,"P",{class:!0});var Se=v(K);xe=A(Se,"Mehrheit: "),Re=A(Se,e[7]),et=A(Se,"/"),He=A(Se,e[4]),Se.forEach(o),tt=D(Ce),Q=c(Ce,"P",{class:!0});var Ie=v(Q);at=A(Ie,"Zweidrittelmehrheit: "),Be=A(Ie,e[7]),nt=A(Ie,"/"),We=A(Ie,e[5]),Ie.forEach(o),Ce.forEach(o),Ze.forEach(o),this.h()},h(){C(p,"class","info_container"),C(de,"class","bar_container"),C(ue,"class","input_field_vote_party"),C(z,"class","input_fields_vote"),C(s,"class","vote_share_section"),C(ge,"class","pie_container"),C(K,"class",Ve="majorityText "+(e[7]<e[4]?"red":"green")),C(Q,"class",Oe="majorityText "+(e[7]<e[5]?"red":"green")),C(J,"class","stack_container"),C(te,"class","mandate_section")},m(a,u){j(a,n,u),j(a,r,u),j(a,s,u),l(s,p),l(p,h),l(p,g),l(p,d),l(d,_),l(_,y),l(_,le),l(_,Z),l(Z,b),l(d,S),l(d,k),l(k,O),l(k,H),l(k,x),l(x,se),l(d,me),l(d,Y),l(Y,oe),l(Y,Ee),l(Y,ie),q.m(ie,null),l(d,De),l(d,ee),l(ee,i),l(ee,V),l(ee,I),l(I,L),l(s,B),l(s,de),ot(G,de,null),l(s,Te),l(s,z);for(let W=0;W<w.length;W+=1)w[W]&&w[W].m(z,null);l(z,je),l(z,ue),l(ue,be),l(ue,Ke),l(ue,Me),l(Me,we),l(z,Qe),P&&P.m(z,null),j(a,Pe,u),j(a,pe,u),j(a,Fe,u),ae&&ae.m(a,u),j(a,Ne,u),j(a,te,u),l(te,ge),ot(fe,ge,null),l(te,Xe),l(te,J),ot(ce,J,null),l(J,$e),l(J,K),l(K,xe),l(K,Re),l(K,et),l(K,He),l(J,tt),l(J,Q),l(Q,at),l(Q,Be),l(Q,nt),l(Q,We),R=!0},p(a,[u]){(!R||u&8)&&X(b,a[3]),(!R||u&4)&&X(se,a[2]),ze===(ze=_t(a))&&q?q.p(a,u):(q.d(1),q=ze(a),q&&(q.c(),q.m(ie,null))),(!R||u&512)&&X(L,a[9]);const W={};if(u&1&&(W.data=a[0]),u&1&&(W.options={responsive:!0,maintainAspectRatio:!1,plugins:{datalabels:{anchor:"end",align:"top",color:"black",font:{weight:"bold"},formatter:jt,labels:{0:{color:"black"},1:{color:wt}}},annotation:{annotations:a[15]>0?{majorityLine:{type:"line",yMin:a[15],yMax:a[15],borderColor:"rgb(255, 99, 132)",borderWidth:2}}:{}},legend:{display:!0,labels:{filter:Pt}}},scales:{x:{stacked:!0},y:{stacked:!0,suggestedMax:Math.max(...a[0].labels.map(a[22]))+5}}}),G.$set(W),u&1704961){ve=Dt(a[0].datasets);let F;for(F=0;F<ve.length;F+=1){const _e=Mt(a,ve,F);w[F]?w[F].p(_e,u):(w[F]=It(_e),w[F].c(),w[F].m(z,je))}for(;F<w.length;F+=1)w[F].d(1);w.length=ve.length}(!R||u&64)&&Ae!==(Ae=(a[6]>=0?a[6].toFixed(2):0)+"")&&X(we,Ae),a[6]<-1e-5?P||(P=Lt(),P.c(),P.m(z,null)):P&&(P.d(1),P=null),a[18]&&ae.p(a,u);const U={};u&256&&(U.data=a[8]),fe.$set(U);const he={};u&2&&(he.data=a[1]),u&54&&(he.options={responsive:!0,indexAxis:"y",scales:{y:{stacked:!0},x:{stacked:!0,max:a[2]}},plugins:{annotation:{annotations:{majorityLine:{type:"line",xMin:a[4],xMax:a[4],borderColor:"rgb(255, 99, 132)",borderWidth:3},twoThirdsMajorityLine:{type:"line",xMin:a[5],xMax:a[5],borderColor:"rgb(255, 99, 132)",borderWidth:1}}},datalabels:{anchor:"center",align:"center",color:"white",formatter:Ft,font:{weight:"bold",size:20}},legend:{onClick:a[27]}}}),ce.$set(he),(!R||u&128)&&X(Re,a[7]),(!R||u&16)&&X(He,a[4]),(!R||u&144&&Ve!==(Ve="majorityText "+(a[7]<a[4]?"red":"green")))&&C(K,"class",Ve),(!R||u&128)&&X(Be,a[7]),(!R||u&32)&&X(We,a[5]),(!R||u&160&&Oe!==(Oe="majorityText "+(a[7]<a[5]?"red":"green")))&&C(Q,"class",Oe)},i(a){R||(it(G.$$.fragment,a),it(fe.$$.fragment,a),it(ce.$$.fragment,a),R=!0)},o(a){dt(G.$$.fragment,a),dt(fe.$$.fragment,a),dt(ce.$$.fragment,a),R=!1},d(a){a&&(o(n),o(r),o(s),o(Pe),o(pe),o(Fe),o(Ne),o(te)),q.d(),ut(G),Wt(w,a),P&&P.d(),ae&&ae.d(a),ut(fe),ut(ce)}}}const jt=(e,n)=>{const{chart:t,dataIndex:r,datasetIndex:s}=n,p=t.data.datasets.length-1;if(s!==p)return"";const h=t.data.datasets.reduce((_,y)=>{const N=y.data[r];return typeof N=="number"&&y.order!=2?_+N:_},0),m=t.data.datasets.reduce((_,y)=>{const N=y.data[r];return typeof N=="number"&&y.order!=1?_+N:_},0),g=h-m;let d;return g>0?d="+"+g.toLocaleString("de-AT",{minimumFractionDigits:2,maximumFractionDigits:2}):g==0?d="±"+g.toLocaleString("de-AT",{minimumFractionDigits:2,maximumFractionDigits:2}):d=g.toLocaleString("de-AT",{minimumFractionDigits:2,maximumFractionDigits:2}),[h.toLocaleString("de-AT",{minimumFractionDigits:2,maximumFractionDigits:2}),d]},wt=e=>{const{chart:n,dataIndex:t,datasetIndex:r}=e,s=n.data.datasets.reduce((m,g)=>{const d=g.data[t];return typeof d=="number"&&g.order!=2?m+d:m},0),p=n.data.datasets.reduce((m,g)=>{const d=g.data[t];return typeof d=="number"&&g.order!=1?m+d:m},0),h=s-p;return h>0?"green":h==0?"black":"red"},Pt=(e,n)=>n.datasets.filter(r=>r.order!=2).map(r=>r.label).includes(e.text),ra=function(e){return e>0?e:""},la=()=>!1,Ft=function(e){return e>0?e:""};function sa(e,n,t){let r,s,p,h,m,g;zt.register(Gt,qt,Ut,Zt,Yt,Jt,Kt,Qt);let d=ne("data");ke(e,d,i=>t(0,r=i));let _=ne("mandateData");ke(e,_,i=>t(8,p=i));let y=ne("majorityData");ke(e,y,i=>t(1,s=i));let N=ne("mandateCount");ke(e,N,i=>t(2,h=i));let le=ne("threshold");ke(e,le,i=>t(10,g=i));let Z=ne("apportionmentMethod");ke(e,Z,i=>t(9,m=i));let b=ne("electionDate"),S=ne("baseMandateRule"),k=ne("note"),O=0,$=0;if(b.length==1)b=new Date(b[0]).toLocaleDateString("de-AT",{day:"numeric",month:"long",year:"numeric"});else{const i=new Date(b[0]),T=new Date(b[1]);b=`${i.toLocaleDateString("de-AT",{day:"numeric",month:"long",year:"numeric"})} - ${T.toLocaleDateString("de-AT",{day:"numeric",month:"long",year:"numeric"})}`}let H=[],x,se=0;function me(i){let T=i.map((L,B)=>L.order!=2?B:-1).filter(L=>L!==-1),V=T.map(L=>i[L].data[i[L].index]);t(6,x=100-V.reduce((L,B)=>L+B,0));let I=V.map((L,B)=>{const de=T[B],G=document.getElementById(`checkbox_party_${de}`),Te=G instanceof HTMLInputElement?G.checked:!1;return L<g&&!Te?0:L});return x>=-1e-5&&(m==ft.DHONDT?t(21,H=Xt([...I],h)):m==ft.SAINTE_LAGUE?t(21,H=$t([...I],h)):m==ft.HARE_NIEMEYER&&t(21,H=xt([...I],h))),H}function Y(i,T){r.datasets[i].data[T]>100&&Ye(d,r.datasets[i].data[T]=100,r)}const oe=(i,T)=>r.datasets.reduce((V,I)=>V+(I.order!=2?I.data[T]:0),0);function Le(i,T){r.datasets[i].data[T.index]=Nt(this.value),d.set(r)}const Ee=(i,T)=>Y(i,T.index),ie=()=>me(r.datasets),De=function(i){const T=i.data.datasets[1],V=i.data.labels||[],I=T.backgroundColor||[];return V.map((L,B)=>({text:String(L),fillStyle:Array.isArray(I)&&I[B]||"gray",strokeStyle:Array.isArray(I)&&I[B]||"gray",lineWidth:0,index:B}))},ee=function(i,T){if(T.datasetIndex!==void 0){const V=T.datasetIndex,I=s.datasets[V].hidden;Ye(y,s.datasets[V].hidden=!I,s)}};return e.$$.update=()=>{if(e.$$.dirty&4&&t(4,O=Math.floor(h/2+1)),e.$$.dirty&4&&t(5,$=Math.ceil(h/3*2)),e.$$.dirty&1&&t(21,H=me(r.datasets)),e.$$.dirty&2097152){Ye(_,p.datasets[1].data=H,p);for(let i in H)Ye(y,s.datasets[i].data=[H[i]],s)}e.$$.dirty&130&&(t(7,se=0),s.datasets.forEach((i,T)=>{i.hidden||t(7,se+=i.data[0])}))},[r,s,h,b,O,$,x,se,p,m,g,d,_,y,N,le,Z,S,k,me,Y,H,oe,Le,Ee,ie,De,ee]}class fa extends Vt{constructor(n){super(),Bt(this,n,sa,na,Rt,{})}}export{fa as E};
