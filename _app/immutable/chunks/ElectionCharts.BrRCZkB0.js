import{s as De,g as Y,c as Vt,a as te}from"./scheduler.57brOU3d.js";import{S as Me,i as je,e as i,s as v,t as M,l as ee,c as o,k as R,f as g,a as _,b as j,d as f,m as ae,n as E,g as q,h as a,o as ne,j as tt,p as le,q as re,r as se,u as we,v as me,w as ke,x as Te}from"./index.D2rEIk-_.js";import{B as ve,e as ge,P as Ie,C as Se,p as Le,a as Pe,b as Ae,c as Ve,d as He,L as $e,f as xe,g as ze}from"./auto.C7o8Lg7H.js";function be(t,r,d){const l=t.slice();return l[18]=r[d],l[19]=r,l[20]=d,l}function Ce(t){let r,d,l=t[3].labels[t[20]]+"",s,u,n,c,P;function b(){t[16].call(n,t[20])}return{c(){r=i("div"),d=i("label"),s=M(l),u=v(),n=i("input"),this.h()},l(C){r=o(C,"DIV",{class:!0});var m=_(r);d=o(m,"LABEL",{for:!0});var B=_(d);s=j(B,l),B.forEach(f),u=g(m),n=o(m,"INPUT",{id:!0,type:!0,min:!0,max:!0}),m.forEach(f),this.h()},h(){E(d,"for","input_party_"+t[20]),E(n,"id","input_party_"+t[20]),E(n,"type","number"),E(n,"min","0"),E(n,"max","100"),E(r,"class","input_field_vote_party")},m(C,m){q(C,r,m),a(r,d),a(d,s),a(r,u),a(r,n),me(n,t[3].datasets[0].data[t[20]]),c||(P=ke(n,"input",b),c=!0)},p(C,m){t=C,m&8&&l!==(l=t[3].labels[t[20]]+"")&&tt(s,l),m&8&&Te(n.value)!==t[3].datasets[0].data[t[20]]&&me(n,t[3].datasets[0].data[t[20]])},d(C){C&&f(r),c=!1,P()}}}function Ee(t){let r,d="Achtung: Gesamtstimmen dürfen 100% nicht überschreiten!";return{c(){r=i("p"),r.textContent=d},l(l){r=o(l,"P",{"data-svelte-h":!0}),R(r)!=="svelte-154vc08"&&(r.textContent=d)},m(l,s){q(l,r,s)},d(l){l&&f(r)}}}function Be(t){let r,d="Stimmenanteile",l,s,u,n,c="Allgemeine Informationen",P,b,C,m,B="Wahltermin",ht,N,et,A,S,V,bt="Abgeordnete",ct,p,H,at,W,nt,ie="Sperrklausel",Ht,lt,$t,xt,zt,K,rt,oe="Sitzzuteilungsverfahren",Bt,pt,Wt,Ot,st,F,Rt,w,Ct,Z,it,de="Sonstige:",qt,_t,mt=(t[0]>=0?t[0].toFixed(2):0)+"",Et,Nt,yt,Q,fe="Mandatsverteilung",Tt,O,ot,G,Ft,$,U,Zt,x,Gt,Dt,Ut,Mt,jt,Jt,z,Kt,wt,Qt,kt,It,k;F=new ve({props:{data:t[3],options:{responsive:!0,plugins:{datalabels:{display:!1}}}}});let dt=ge(t[3].datasets[0].data),y=[];for(let e=0;e<dt.length;e+=1)y[e]=Ce(be(t,dt,e));let T=t[0]<-1e-5&&Ee();return G=new Ie({props:{id:"mandatesChart",data:t[7],options:{responsive:!0,circumference:180,rotation:-90,plugins:{datalabels:{anchor:"end",align:"start",color:"white",formatter:Re,font:{weight:"bold",size:20}}}}}}),U=new ve({props:{data:t[1],options:{responsive:!0,indexAxis:"y",scales:{y:{stacked:!0},x:{stacked:!0,max:t[2]}},plugins:{annotation:{annotations:{majorityLine:{type:"line",xMin:t[4],xMax:t[4],borderColor:"rgb(255, 99, 132)",borderWidth:3},twoThirdsMajorityLine:{type:"line",xMin:t[5],xMax:t[5],borderColor:"rgb(255, 99, 132)",borderWidth:1}}},datalabels:{anchor:"center",align:"center",color:"white",formatter:ye,font:{weight:"bold",size:20}},legend:{onClick:t[17]}}}}}),{c(){r=i("h1"),r.textContent=d,l=v(),s=i("section"),u=i("div"),n=i("p"),n.textContent=c,P=v(),b=i("table"),C=i("tr"),m=i("th"),m.textContent=B,ht=v(),N=i("td"),et=M(t[14]),A=v(),S=i("tr"),V=i("th"),V.textContent=bt,ct=v(),p=i("td"),H=M(t[2]),at=v(),W=i("tr"),nt=i("th"),nt.textContent=ie,Ht=v(),lt=i("td"),$t=M(t[12]),xt=M(" %"),zt=v(),K=i("tr"),rt=i("th"),rt.textContent=oe,Bt=v(),pt=i("td"),Wt=M(t[13]),Ot=v(),st=i("div"),ee(F.$$.fragment),Rt=v(),w=i("div");for(let e=0;e<y.length;e+=1)y[e].c();Ct=v(),Z=i("div"),it=i("p"),it.textContent=de,qt=v(),_t=i("p"),Et=M(mt),Nt=v(),T&&T.c(),yt=v(),Q=i("h1"),Q.textContent=fe,Tt=v(),O=i("section"),ot=i("div"),ee(G.$$.fragment),Ft=v(),$=i("div"),ee(U.$$.fragment),Zt=v(),x=i("p"),Gt=M("Mehrheit: "),Dt=M(t[6]),Ut=M("/"),Mt=M(t[4]),Jt=v(),z=i("p"),Kt=M("Zweidrittelmehrheit: "),wt=M(t[6]),Qt=M("/"),kt=M(t[5]),this.h()},l(e){r=o(e,"H1",{"data-svelte-h":!0}),R(r)!=="svelte-too001"&&(r.textContent=d),l=g(e),s=o(e,"SECTION",{class:!0});var h=_(s);u=o(h,"DIV",{class:!0});var I=_(u);n=o(I,"P",{"data-svelte-h":!0}),R(n)!=="svelte-7wsg44"&&(n.textContent=c),P=g(I),b=o(I,"TABLE",{});var L=_(b);C=o(L,"TR",{});var J=_(C);m=o(J,"TH",{"data-svelte-h":!0}),R(m)!=="svelte-1cjbgjn"&&(m.textContent=B),ht=g(J),N=o(J,"TD",{});var D=_(N);et=j(D,t[14]),D.forEach(f),J.forEach(f),A=g(L),S=o(L,"TR",{});var X=_(S);V=o(X,"TH",{"data-svelte-h":!0}),R(V)!=="svelte-m7jygq"&&(V.textContent=bt),ct=g(X),p=o(X,"TD",{});var ue=_(p);H=j(ue,t[2]),ue.forEach(f),X.forEach(f),at=g(L),W=o(L,"TR",{});var St=_(W);nt=o(St,"TH",{"data-svelte-h":!0}),R(nt)!=="svelte-1k72mb"&&(nt.textContent=ie),Ht=g(St),lt=o(St,"TD",{});var Xt=_(lt);$t=j(Xt,t[12]),xt=j(Xt," %"),Xt.forEach(f),St.forEach(f),zt=g(L),K=o(L,"TR",{});var Lt=_(K);rt=o(Lt,"TH",{"data-svelte-h":!0}),R(rt)!=="svelte-1lrysmd"&&(rt.textContent=oe),Bt=g(Lt),pt=o(Lt,"TD",{});var he=_(pt);Wt=j(he,t[13]),he.forEach(f),Lt.forEach(f),L.forEach(f),I.forEach(f),Ot=g(h),st=o(h,"DIV",{class:!0});var ce=_(st);ae(F.$$.fragment,ce),ce.forEach(f),Rt=g(h),w=o(h,"DIV",{class:!0});var ft=_(w);for(let Yt=0;Yt<y.length;Yt+=1)y[Yt].l(ft);Ct=g(ft),Z=o(ft,"DIV",{class:!0});var Pt=_(Z);it=o(Pt,"P",{"data-svelte-h":!0}),R(it)!=="svelte-1p0cp1c"&&(it.textContent=de),qt=g(Pt),_t=o(Pt,"P",{});var pe=_(_t);Et=j(pe,mt),pe.forEach(f),Pt.forEach(f),Nt=g(ft),T&&T.l(ft),ft.forEach(f),h.forEach(f),yt=g(e),Q=o(e,"H1",{"data-svelte-h":!0}),R(Q)!=="svelte-jg7skr"&&(Q.textContent=fe),Tt=g(e),O=o(e,"SECTION",{class:!0});var At=_(O);ot=o(At,"DIV",{class:!0});var _e=_(ot);ae(G.$$.fragment,_e),_e.forEach(f),Ft=g(At),$=o(At,"DIV",{class:!0});var ut=_($);ae(U.$$.fragment,ut),Zt=g(ut),x=o(ut,"P",{class:!0});var vt=_(x);Gt=j(vt,"Mehrheit: "),Dt=j(vt,t[6]),Ut=j(vt,"/"),Mt=j(vt,t[4]),vt.forEach(f),Jt=g(ut),z=o(ut,"P",{class:!0});var gt=_(z);Kt=j(gt,"Zweidrittelmehrheit: "),wt=j(gt,t[6]),Qt=j(gt,"/"),kt=j(gt,t[5]),gt.forEach(f),ut.forEach(f),At.forEach(f),this.h()},h(){E(u,"class","info_container"),E(st,"class","bar_container"),E(Z,"class","input_field_vote_party"),E(w,"class","input_fields_vote"),E(s,"class","vote_share_section"),E(ot,"class","pie_container"),E(x,"class",jt="majorityText "+(t[6]<t[4]?"red":"green")),E(z,"class",It="majorityText "+(t[6]<t[5]?"red":"green")),E($,"class","stack_container"),E(O,"class","mandate_section")},m(e,h){q(e,r,h),q(e,l,h),q(e,s,h),a(s,u),a(u,n),a(u,P),a(u,b),a(b,C),a(C,m),a(C,ht),a(C,N),a(N,et),a(b,A),a(b,S),a(S,V),a(S,ct),a(S,p),a(p,H),a(b,at),a(b,W),a(W,nt),a(W,Ht),a(W,lt),a(lt,$t),a(lt,xt),a(b,zt),a(b,K),a(K,rt),a(K,Bt),a(K,pt),a(pt,Wt),a(s,Ot),a(s,st),ne(F,st,null),a(s,Rt),a(s,w);for(let I=0;I<y.length;I+=1)y[I]&&y[I].m(w,null);a(w,Ct),a(w,Z),a(Z,it),a(Z,qt),a(Z,_t),a(_t,Et),a(w,Nt),T&&T.m(w,null),q(e,yt,h),q(e,Q,h),q(e,Tt,h),q(e,O,h),a(O,ot),ne(G,ot,null),a(O,Ft),a(O,$),ne(U,$,null),a($,Zt),a($,x),a(x,Gt),a(x,Dt),a(x,Ut),a(x,Mt),a($,Jt),a($,z),a(z,Kt),a(z,wt),a(z,Qt),a(z,kt),k=!0},p(e,[h]){(!k||h&4)&&tt(H,e[2]);const I={};if(h&8&&(I.data=e[3]),F.$set(I),h&8){dt=ge(e[3].datasets[0].data);let D;for(D=0;D<dt.length;D+=1){const X=be(e,dt,D);y[D]?y[D].p(X,h):(y[D]=Ce(X),y[D].c(),y[D].m(w,Ct))}for(;D<y.length;D+=1)y[D].d(1);y.length=dt.length}(!k||h&1)&&mt!==(mt=(e[0]>=0?e[0].toFixed(2):0)+"")&&tt(Et,mt),e[0]<-1e-5?T||(T=Ee(),T.c(),T.m(w,null)):T&&(T.d(1),T=null);const L={};h&128&&(L.data=e[7]),G.$set(L);const J={};h&2&&(J.data=e[1]),h&54&&(J.options={responsive:!0,indexAxis:"y",scales:{y:{stacked:!0},x:{stacked:!0,max:e[2]}},plugins:{annotation:{annotations:{majorityLine:{type:"line",xMin:e[4],xMax:e[4],borderColor:"rgb(255, 99, 132)",borderWidth:3},twoThirdsMajorityLine:{type:"line",xMin:e[5],xMax:e[5],borderColor:"rgb(255, 99, 132)",borderWidth:1}}},datalabels:{anchor:"center",align:"center",color:"white",formatter:ye,font:{weight:"bold",size:20}},legend:{onClick:e[17]}}}),U.$set(J),(!k||h&64)&&tt(Dt,e[6]),(!k||h&16)&&tt(Mt,e[4]),(!k||h&80&&jt!==(jt="majorityText "+(e[6]<e[4]?"red":"green")))&&E(x,"class",jt),(!k||h&64)&&tt(wt,e[6]),(!k||h&32)&&tt(kt,e[5]),(!k||h&96&&It!==(It="majorityText "+(e[6]<e[5]?"red":"green")))&&E(z,"class",It)},i(e){k||(le(F.$$.fragment,e),le(G.$$.fragment,e),le(U.$$.fragment,e),k=!0)},o(e){re(F.$$.fragment,e),re(G.$$.fragment,e),re(U.$$.fragment,e),k=!1},d(e){e&&(f(r),f(l),f(s),f(yt),f(Q),f(Tt),f(O)),se(F),we(y,e),T&&T.d(),se(G),se(U)}}}function We(t,r,d){let l=[],s=[],u=[...t];for(let n in t)s.push(1),l.push(0),t[n]<d&&(t[n]=0,u[n]=0);for(let n=0;n<r;n++){let c=u.indexOf(Math.max(...u));s[c]=s[c]+1,l[c]=l[c]+1,u[c]=t[c]/s[c]}return l}function Oe(t,r,d){let l=[],s=new Array(t.length).fill(.5),u=[...t];for(let n in t)s.push(1),l.push(0),t[n]<d&&(t[n]=0,u[n]=0);for(let n=0;n<r;n++){let c=u.indexOf(Math.max(...u));s[c]=s[c]+1,l[c]=l[c]+1,u[c]=t[c]/s[c]}return l}const Re=function(t){return t>0?t:""},ye=function(t){return t>0?t:""};function qe(t,r,d){let l,s,u,n;Se.register(Le,Pe,Ae,Ve,He,$e,xe,ze);let c=Y("data");Vt(t,c,p=>d(3,n=p));let P=Y("mandateData");Vt(t,P,p=>d(7,s=p));let b=Y("majorityData");Vt(t,b,p=>d(1,l=p));let C=Y("mandateCount");Vt(t,C,p=>d(2,u=p));let m=Y("threshold"),B=Y("apportionmentMethod"),ht=Y("electionDate"),N=0,et=0,A=[],S,V=0;function bt(p){n.datasets[0].data[p]=Te(this.value),c.set(n)}const ct=function(p,H){if(H.datasetIndex!==void 0){const at=H.datasetIndex,W=l.datasets[at].hidden;te(b,l.datasets[at].hidden=!W,l)}};return t.$$.update=()=>{if(t.$$.dirty&4&&d(4,N=Math.floor(u/2+1)),t.$$.dirty&4&&d(5,et=Math.ceil(u/3*2)),t.$$.dirty&13&&(d(0,S=100-n.datasets[0].data.reduce((p,H)=>p+H,0)),S>=-1e-5&&(c.set(n),B=="D'Hondt"?d(15,A=We([...n.datasets[0].data],u,m)):B=="Sainte-Laguë"&&d(15,A=Oe([...n.datasets[0].data],u,m)))),t.$$.dirty&32768){te(P,s.datasets[0].data=A,s);for(let p in A)te(b,l.datasets[p].data=[A[p]],l)}t.$$.dirty&66&&(d(6,V=0),l.datasets.forEach((p,H)=>{p.hidden||d(6,V+=p.data[0])}))},[S,l,u,n,N,et,V,s,c,P,b,C,m,B,ht,A,bt,ct]}class Ge extends Me{constructor(r){super(),je(this,r,qe,Be,De,{})}}export{Ge as E};
