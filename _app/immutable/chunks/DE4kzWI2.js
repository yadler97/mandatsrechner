import{s as Nt,g as x,c as Ge,e as qe,n as Ze,r as Rt}from"./91R61O7h.js";import{S as Ht,i as Vt,e as d,s as D,t as M,p as lt,c as u,l as ee,f as T,a as v,b as A,d as o,q as st,m as C,g as L,h as l,r as ot,j as ie,u as it,v as dt,w as ut,o as Bt,n as Ue,B as Pt,x as Ct,z as ct}from"./TVwBqQQG.js";import{e as kt}from"./D6YF6ztN.js";import{B as Et,D as Wt,C as Ot,p as zt,a as $t,b as Gt,c as qt,d as Ut,L as Zt,e as Yt,f as Jt,A as ft,g as Kt,s as Qt,h as Xt}from"./BvzeAwy7.js";function Dt(e,n,t){const r=e.slice();return r[26]=n[t],r[27]=n,r[28]=t,r}function xt(e){let n;return{c(){n=M("keine")},l(t){n=A(t,"keine")},m(t,r){L(t,n,r)},p:Ze,d(t){t&&o(n)}}}function ea(e){let n,t;return{c(){n=M(e[13]),t=M(" %")},l(r){n=A(r,e[13]),t=A(r," %")},m(r,s){L(r,n,s),L(r,t,s)},p:Ze,d(r){r&&(o(n),o(t))}}}function Tt(e){let n,t,r=e[26].label+"",s,_,h,m,g,i,p,k,P;function B(){e[21].call(m,e[28],e[26])}function Y(){return e[22](e[28],e[26])}let E=e[0].datasets[e[28]].data[e[26].index]<e[13]&&e[15]&&Mt(e);return{c(){n=d("div"),t=d("label"),s=M(r),_=D(),h=d("span"),m=d("input"),g=M(" %"),i=D(),E&&E.c(),p=Ue(),this.h()},l(S){n=u(S,"DIV",{class:!0});var y=v(n);t=u(y,"LABEL",{for:!0});var I=v(t);s=A(I,r),I.forEach(o),_=T(y),h=u(y,"SPAN",{class:!0});var G=v(h);m=u(G,"INPUT",{id:!0,type:!0,step:!0,min:!0,max:!0}),g=A(G," %"),G.forEach(o),y.forEach(o),i=T(S),E&&E.l(S),p=Ue(),this.h()},h(){C(t,"for","input_party_"+e[28]),C(m,"id","input_party_"+e[28]),C(m,"type","number"),C(m,"step","any"),C(m,"min","0"),C(m,"max","100"),C(h,"class","valuePadding"),C(n,"class","input_field_vote_party")},m(S,y){L(S,n,y),l(n,t),l(t,s),l(n,_),l(n,h),l(h,m),Ct(m,e[0].datasets[e[28]].data[e[26].index]),l(h,g),L(S,i,y),E&&E.m(S,y),L(S,p,y),k||(P=[ct(m,"input",B),ct(m,"input",Y)],k=!0)},p(S,y){e=S,y&1&&r!==(r=e[26].label+"")&&ie(s,r),y&1&&Pt(m.value)!==e[0].datasets[e[28]].data[e[26].index]&&Ct(m,e[0].datasets[e[28]].data[e[26].index]),e[0].datasets[e[28]].data[e[26].index]<e[13]&&e[15]?E?E.p(e,y):(E=Mt(e),E.c(),E.m(p.parentNode,p)):E&&(E.d(1),E=null)},d(S){S&&(o(n),o(i),o(p)),E&&E.d(S),k=!1,Rt(P)}}}function Mt(e){let n,t,r,s,_,h,m,g;return{c(){n=d("div"),t=d("label"),r=M(e[15]),s=M(" Grundmandat(e)?"),_=D(),h=d("input"),this.h()},l(i){n=u(i,"DIV",{class:!0});var p=v(n);t=u(p,"LABEL",{for:!0});var k=v(t);r=A(k,e[15]),s=A(k," Grundmandat(e)?"),k.forEach(o),_=T(p),h=u(p,"INPUT",{id:!0,type:!0}),p.forEach(o),this.h()},h(){C(t,"for","checkbox_party_"+e[28]),C(h,"id","checkbox_party_"+e[28]),C(h,"type","checkbox"),C(n,"class","base_mandate_checkbox")},m(i,p){L(i,n,p),l(n,t),l(t,r),l(t,s),l(n,_),l(n,h),m||(g=ct(h,"change",e[23]),m=!0)},p:Ze,d(i){i&&o(n),m=!1,g()}}}function At(e){let n,t=e[0].datasets[e[28]].order!=2&&Tt(e);return{c(){t&&t.c(),n=Ue()},l(r){t&&t.l(r),n=Ue()},m(r,s){t&&t.m(r,s),L(r,n,s)},p(r,s){r[0].datasets[r[28]].order!=2?t?t.p(r,s):(t=Tt(r),t.c(),t.m(n.parentNode,n)):t&&(t.d(1),t=null)},d(r){r&&o(n),t&&t.d(r)}}}function St(e){let n,t="Achtung: Gesamtstimmen dürfen 100% nicht überschreiten!";return{c(){n=d("p"),n.textContent=t},l(r){n=u(r,"P",{"data-svelte-h":!0}),ee(n)!=="svelte-154vc08"&&(n.textContent=t)},m(r,s){L(r,n,s)},d(r){r&&o(n)}}}function ta(e){let n,t,r;return{c(){n=d("p"),t=M("Achtung: "),r=M(e[16])},l(s){n=u(s,"P",{});var _=v(n);t=A(_,"Achtung: "),r=A(_,e[16]),_.forEach(o)},m(s,_){L(s,n,_),l(n,t),l(n,r)},p:Ze,d(s){s&&o(n)}}}function aa(e){let n,t="Stimmenanteile",r,s,_,h,m="Allgemeine Informationen",g,i,p,k,P="Wahltermin",B,Y,E,S,y,I,G="Abgeordnete",de,J,ue,ye,K,te,Se="Sperrklausel",Ce,fe,f,b,F,N="Sitzzuteilungsverfahren",j,R,ke,me,ae,ne,Ye,z,Ie,re,_e,ht="Sonstige:",Je,Ee,De=(e[6]>=0?e[6].toFixed(2):0)+"",Le,Ke,je,ce,mt="Mandatsverteilung",we,Pe,Q,pe,le,Qe,q,se,Xe,U,xe,Fe,et,Ne,Re,tt,Z,at,He,nt,Ve,Be,W;function Ft(a,c){return a[13]>0?ea:xt}let Te=Ft(e)(e);ne=new Et({props:{data:e[0],options:{responsive:!0,maintainAspectRatio:!1,plugins:{datalabels:{anchor:"end",align:"top",color:"black",font:{weight:"bold"},formatter:It,labels:{0:{color:"black"},1:{color:Lt}}},annotation:{annotations:e[13]>0?{majorityLine:{type:"line",yMin:e[13],yMax:e[13],borderColor:"rgb(255, 99, 132)",borderWidth:2}}:{}},legend:{display:!0,labels:{filter:jt}}},scales:{x:{stacked:!0},y:{stacked:!0,suggestedMax:Math.max(...e[0].labels.map(e[20]))+5}}}}});let be=kt(e[0].datasets),w=[];for(let a=0;a<be.length;a+=1)w[a]=At(Dt(e,be,a));let H=e[6]<-1e-5&&St(),X=e[16]&&ta(e);return le=new Wt({props:{id:"mandatesChart",data:e[8],options:{responsive:!0,cutout:"40%",circumference:180,rotation:-90,plugins:{datalabels:{anchor:"end",align:"start",color:"white",formatter:na,font:{weight:"bold",size:20}},legend:{display:!0,labels:{generateLabels:e[24]},onClick:ra}}}}}),se=new Et({props:{data:e[1],options:{responsive:!0,indexAxis:"y",scales:{y:{stacked:!0},x:{stacked:!0,max:e[2]}},plugins:{annotation:{annotations:{majorityLine:{type:"line",xMin:e[4],xMax:e[4],borderColor:"rgb(255, 99, 132)",borderWidth:3},twoThirdsMajorityLine:{type:"line",xMin:e[5],xMax:e[5],borderColor:"rgb(255, 99, 132)",borderWidth:1}}},datalabels:{anchor:"center",align:"center",color:"white",formatter:wt,font:{weight:"bold",size:20}},legend:{onClick:e[25]}}}}}),{c(){n=d("h1"),n.textContent=t,r=D(),s=d("section"),_=d("div"),h=d("p"),h.textContent=m,g=D(),i=d("table"),p=d("tr"),k=d("th"),k.textContent=P,B=D(),Y=d("td"),E=M(e[3]),S=D(),y=d("tr"),I=d("th"),I.textContent=G,de=D(),J=d("td"),ue=M(e[2]),ye=D(),K=d("tr"),te=d("th"),te.textContent=Se,Ce=D(),fe=d("td"),Te.c(),f=D(),b=d("tr"),F=d("th"),F.textContent=N,j=D(),R=d("td"),ke=M(e[14]),me=D(),ae=d("div"),lt(ne.$$.fragment),Ye=D(),z=d("div");for(let a=0;a<w.length;a+=1)w[a].c();Ie=D(),re=d("div"),_e=d("p"),_e.textContent=ht,Je=D(),Ee=d("p"),Le=M(De),Ke=D(),H&&H.c(),je=D(),ce=d("h1"),ce.textContent=mt,we=D(),X&&X.c(),Pe=D(),Q=d("section"),pe=d("div"),lt(le.$$.fragment),Qe=D(),q=d("div"),lt(se.$$.fragment),Xe=D(),U=d("p"),xe=M("Mehrheit: "),Fe=M(e[7]),et=M("/"),Ne=M(e[4]),tt=D(),Z=d("p"),at=M("Zweidrittelmehrheit: "),He=M(e[7]),nt=M("/"),Ve=M(e[5]),this.h()},l(a){n=u(a,"H1",{"data-svelte-h":!0}),ee(n)!=="svelte-too001"&&(n.textContent=t),r=T(a),s=u(a,"SECTION",{class:!0});var c=v(s);_=u(c,"DIV",{class:!0});var O=v(_);h=u(O,"P",{"data-svelte-h":!0}),ee(h)!=="svelte-7wsg44"&&(h.textContent=m),g=T(O),i=u(O,"TABLE",{});var $=v(i);p=u($,"TR",{});var oe=v(p);k=u(oe,"TH",{"data-svelte-h":!0}),ee(k)!=="svelte-1cjbgjn"&&(k.textContent=P),B=T(oe),Y=u(oe,"TD",{});var V=v(Y);E=A(V,e[3]),V.forEach(o),oe.forEach(o),S=T($),y=u($,"TR",{});var he=v(y);I=u(he,"TH",{"data-svelte-h":!0}),ee(I)!=="svelte-m7jygq"&&(I.textContent=G),de=T(he),J=u(he,"TD",{});var _t=v(J);ue=A(_t,e[2]),_t.forEach(o),he.forEach(o),ye=T($),K=u($,"TR",{});var We=v(K);te=u(We,"TH",{"data-svelte-h":!0}),ee(te)!=="svelte-1k72mb"&&(te.textContent=Se),Ce=T(We),fe=u(We,"TD",{});var pt=v(fe);Te.l(pt),pt.forEach(o),We.forEach(o),f=T($),b=u($,"TR",{});var Oe=v(b);F=u(Oe,"TH",{"data-svelte-h":!0}),ee(F)!=="svelte-1lrysmd"&&(F.textContent=N),j=T(Oe),R=u(Oe,"TD",{});var bt=v(R);ke=A(bt,e[14]),bt.forEach(o),Oe.forEach(o),$.forEach(o),O.forEach(o),me=T(c),ae=u(c,"DIV",{class:!0});var gt=v(ae);st(ne.$$.fragment,gt),gt.forEach(o),Ye=T(c),z=u(c,"DIV",{class:!0});var ge=v(z);for(let rt=0;rt<w.length;rt+=1)w[rt].l(ge);Ie=T(ge),re=u(ge,"DIV",{class:!0});var ze=v(re);_e=u(ze,"P",{"data-svelte-h":!0}),ee(_e)!=="svelte-1p0cp1c"&&(_e.textContent=ht),Je=T(ze),Ee=u(ze,"P",{});var vt=v(Ee);Le=A(vt,De),vt.forEach(o),ze.forEach(o),Ke=T(ge),H&&H.l(ge),ge.forEach(o),c.forEach(o),je=T(a),ce=u(a,"H1",{"data-svelte-h":!0}),ee(ce)!=="svelte-jg7skr"&&(ce.textContent=mt),we=T(a),X&&X.l(a),Pe=T(a),Q=u(a,"SECTION",{class:!0});var $e=v(Q);pe=u($e,"DIV",{class:!0});var yt=v(pe);st(le.$$.fragment,yt),yt.forEach(o),Qe=T($e),q=u($e,"DIV",{class:!0});var ve=v(q);st(se.$$.fragment,ve),Xe=T(ve),U=u(ve,"P",{class:!0});var Me=v(U);xe=A(Me,"Mehrheit: "),Fe=A(Me,e[7]),et=A(Me,"/"),Ne=A(Me,e[4]),Me.forEach(o),tt=T(ve),Z=u(ve,"P",{class:!0});var Ae=v(Z);at=A(Ae,"Zweidrittelmehrheit: "),He=A(Ae,e[7]),nt=A(Ae,"/"),Ve=A(Ae,e[5]),Ae.forEach(o),ve.forEach(o),$e.forEach(o),this.h()},h(){C(_,"class","info_container"),C(ae,"class","bar_container"),C(re,"class","input_field_vote_party"),C(z,"class","input_fields_vote"),C(s,"class","vote_share_section"),C(pe,"class","pie_container"),C(U,"class",Re="majorityText "+(e[7]<e[4]?"red":"green")),C(Z,"class",Be="majorityText "+(e[7]<e[5]?"red":"green")),C(q,"class","stack_container"),C(Q,"class","mandate_section")},m(a,c){L(a,n,c),L(a,r,c),L(a,s,c),l(s,_),l(_,h),l(_,g),l(_,i),l(i,p),l(p,k),l(p,B),l(p,Y),l(Y,E),l(i,S),l(i,y),l(y,I),l(y,de),l(y,J),l(J,ue),l(i,ye),l(i,K),l(K,te),l(K,Ce),l(K,fe),Te.m(fe,null),l(i,f),l(i,b),l(b,F),l(b,j),l(b,R),l(R,ke),l(s,me),l(s,ae),ot(ne,ae,null),l(s,Ye),l(s,z);for(let O=0;O<w.length;O+=1)w[O]&&w[O].m(z,null);l(z,Ie),l(z,re),l(re,_e),l(re,Je),l(re,Ee),l(Ee,Le),l(z,Ke),H&&H.m(z,null),L(a,je,c),L(a,ce,c),L(a,we,c),X&&X.m(a,c),L(a,Pe,c),L(a,Q,c),l(Q,pe),ot(le,pe,null),l(Q,Qe),l(Q,q),ot(se,q,null),l(q,Xe),l(q,U),l(U,xe),l(U,Fe),l(U,et),l(U,Ne),l(q,tt),l(q,Z),l(Z,at),l(Z,He),l(Z,nt),l(Z,Ve),W=!0},p(a,[c]){(!W||c&8)&&ie(E,a[3]),(!W||c&4)&&ie(ue,a[2]),Te.p(a,c);const O={};if(c&1&&(O.data=a[0]),c&1&&(O.options={responsive:!0,maintainAspectRatio:!1,plugins:{datalabels:{anchor:"end",align:"top",color:"black",font:{weight:"bold"},formatter:It,labels:{0:{color:"black"},1:{color:Lt}}},annotation:{annotations:a[13]>0?{majorityLine:{type:"line",yMin:a[13],yMax:a[13],borderColor:"rgb(255, 99, 132)",borderWidth:2}}:{}},legend:{display:!0,labels:{filter:jt}}},scales:{x:{stacked:!0},y:{stacked:!0,suggestedMax:Math.max(...a[0].labels.map(a[20]))+5}}}),ne.$set(O),c&434177){be=kt(a[0].datasets);let V;for(V=0;V<be.length;V+=1){const he=Dt(a,be,V);w[V]?w[V].p(he,c):(w[V]=At(he),w[V].c(),w[V].m(z,Ie))}for(;V<w.length;V+=1)w[V].d(1);w.length=be.length}(!W||c&64)&&De!==(De=(a[6]>=0?a[6].toFixed(2):0)+"")&&ie(Le,De),a[6]<-1e-5?H||(H=St(),H.c(),H.m(z,null)):H&&(H.d(1),H=null),a[16]&&X.p(a,c);const $={};c&256&&($.data=a[8]),le.$set($);const oe={};c&2&&(oe.data=a[1]),c&54&&(oe.options={responsive:!0,indexAxis:"y",scales:{y:{stacked:!0},x:{stacked:!0,max:a[2]}},plugins:{annotation:{annotations:{majorityLine:{type:"line",xMin:a[4],xMax:a[4],borderColor:"rgb(255, 99, 132)",borderWidth:3},twoThirdsMajorityLine:{type:"line",xMin:a[5],xMax:a[5],borderColor:"rgb(255, 99, 132)",borderWidth:1}}},datalabels:{anchor:"center",align:"center",color:"white",formatter:wt,font:{weight:"bold",size:20}},legend:{onClick:a[25]}}}),se.$set(oe),(!W||c&128)&&ie(Fe,a[7]),(!W||c&16)&&ie(Ne,a[4]),(!W||c&144&&Re!==(Re="majorityText "+(a[7]<a[4]?"red":"green")))&&C(U,"class",Re),(!W||c&128)&&ie(He,a[7]),(!W||c&32)&&ie(Ve,a[5]),(!W||c&160&&Be!==(Be="majorityText "+(a[7]<a[5]?"red":"green")))&&C(Z,"class",Be)},i(a){W||(it(ne.$$.fragment,a),it(le.$$.fragment,a),it(se.$$.fragment,a),W=!0)},o(a){dt(ne.$$.fragment,a),dt(le.$$.fragment,a),dt(se.$$.fragment,a),W=!1},d(a){a&&(o(n),o(r),o(s),o(je),o(ce),o(we),o(Pe),o(Q)),Te.d(),ut(ne),Bt(w,a),H&&H.d(),X&&X.d(a),ut(le),ut(se)}}}const It=(e,n)=>{const{chart:t,dataIndex:r,datasetIndex:s}=n,_=t.data.datasets.length-1;if(s!==_)return"";const h=t.data.datasets.reduce((p,k)=>{const P=k.data[r];return typeof P=="number"&&k.order!=2?p+P:p},0),m=t.data.datasets.reduce((p,k)=>{const P=k.data[r];return typeof P=="number"&&k.order!=1?p+P:p},0),g=h-m;let i;return g>0?i="+"+g.toLocaleString("de-AT",{minimumFractionDigits:2,maximumFractionDigits:2}):g==0?i="±"+g.toLocaleString("de-AT",{minimumFractionDigits:2,maximumFractionDigits:2}):i=g.toLocaleString("de-AT",{minimumFractionDigits:2,maximumFractionDigits:2}),[h.toLocaleString("de-AT",{minimumFractionDigits:2,maximumFractionDigits:2}),i]},Lt=e=>{const{chart:n,dataIndex:t,datasetIndex:r}=e,s=n.data.datasets.reduce((m,g)=>{const i=g.data[t];return typeof i=="number"&&g.order!=2?m+i:m},0),_=n.data.datasets.reduce((m,g)=>{const i=g.data[t];return typeof i=="number"&&g.order!=1?m+i:m},0),h=s-_;return h>0?"green":h==0?"black":"red"},jt=(e,n)=>n.datasets.filter(r=>r.order!=2).map(r=>r.label).includes(e.text),na=function(e){return e>0?e:""},ra=()=>!1,wt=function(e){return e>0?e:""};function la(e,n,t){let r,s,_,h;Ot.register(zt,$t,Gt,qt,Ut,Zt,Yt,Jt);let m=x("data");Ge(e,m,f=>t(0,r=f));let g=x("mandateData");Ge(e,g,f=>t(8,_=f));let i=x("majorityData");Ge(e,i,f=>t(1,s=f));let p=x("mandateCount");Ge(e,p,f=>t(2,h=f));let k=x("threshold"),P=x("apportionmentMethod"),B=x("electionDate"),Y=x("baseMandateRule"),E=x("note"),S=0,y=0;if(B.length==1)B=new Date(B[0]).toLocaleDateString("de-AT",{day:"numeric",month:"long",year:"numeric"});else{const f=new Date(B[0]),b=new Date(B[1]);B=`${f.toLocaleDateString("de-AT",{day:"numeric",month:"long",year:"numeric"})} - ${b.toLocaleDateString("de-AT",{day:"numeric",month:"long",year:"numeric"})}`}let I=[],G,de=0;function J(f){let b=f.map((j,R)=>j.order!=2?R:-1).filter(j=>j!==-1),F=b.map(j=>f[j].data[f[j].index]);t(6,G=100-F.reduce((j,R)=>j+R,0));let N=F.map((j,R)=>{const ke=b[R],me=document.getElementById(`checkbox_party_${ke}`),ae=me instanceof HTMLInputElement?me.checked:!1;return j<k&&!ae?0:j});return G>=-1e-5&&(P==ft.DHONDT?t(19,I=Kt([...N],h)):P==ft.SAINTE_LAGUE?t(19,I=Qt([...N],h)):P==ft.HARE_NIEMEYER&&t(19,I=Xt([...N],h))),I}function ue(f,b){r.datasets[f].data[b]>100&&qe(m,r.datasets[f].data[b]=100,r)}const ye=(f,b)=>r.datasets.reduce((F,N)=>F+(N.order!=2?N.data[b]:0),0);function K(f,b){r.datasets[f].data[b.index]=Pt(this.value),m.set(r)}const te=(f,b)=>ue(f,b.index),Se=()=>J(r.datasets),Ce=function(f){const b=f.data.datasets[1],F=f.data.labels||[],N=b.backgroundColor||[];return F.map((j,R)=>({text:String(j),fillStyle:Array.isArray(N)&&N[R]||"gray",strokeStyle:Array.isArray(N)&&N[R]||"gray",lineWidth:0,index:R}))},fe=function(f,b){if(b.datasetIndex!==void 0){const F=b.datasetIndex,N=s.datasets[F].hidden;qe(i,s.datasets[F].hidden=!N,s)}};return e.$$.update=()=>{if(e.$$.dirty&4&&t(4,S=Math.floor(h/2+1)),e.$$.dirty&4&&t(5,y=Math.ceil(h/3*2)),e.$$.dirty&1&&t(19,I=J(r.datasets)),e.$$.dirty&524288){qe(g,_.datasets[1].data=I,_);for(let f in I)qe(i,s.datasets[f].data=[I[f]],s)}e.$$.dirty&130&&(t(7,de=0),s.datasets.forEach((f,b)=>{f.hidden||t(7,de+=f.data[0])}))},[r,s,h,B,S,y,G,de,_,m,g,i,p,k,P,Y,E,J,ue,I,ye,K,te,Se,Ce,fe]}class fa extends Ht{constructor(n){super(),Vt(this,n,la,aa,Nt,{})}}export{fa as E};
