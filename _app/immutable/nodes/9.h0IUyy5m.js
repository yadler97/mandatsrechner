import{s as Me,b as Ie,r as Le,g as re,n as He,a as se}from"../chunks/scheduler.CEQmJdr9.js";import{S as De,i as we,e as o,s as b,t as S,l as At,c as i,k as V,f as v,a as m,d as u,b as A,m as Bt,n as h,v as tt,g as U,h as a,y as be,o as Nt,w as Ot,x as ht,j as pt,p as Vt,q as zt,r as xt,u as Pe,z as je}from"../chunks/index.Cfi6UVQz.js";import{B as ve,e as Ce,P as Se,C as Ae,p as Be,a as Ne,b as Oe,c as Ve,d as ze,L as xe,f as Fe,g as Ge}from"../chunks/auto.BZqVbn6Y.js";const We={labels:["A","B","C","D","E","F","G","H","I","J"],datasets:[{label:"Stimmenanteil in %",data:[40,30,10,10,5,5,0,0,0,0],backgroundColor:["#ff0000","#ff8700","#ffd300","#deff0a","#a1ff0a","#0aff99","#0aefff","#147df5","#580aff","#be0aff"]}]},Je={labels:["A","B","C","D","E","F","G","H","I","J"],datasets:[{label:"Mandate",data:[40,30,10,10,5,5,0,0,0,0],backgroundColor:["#ff0000","#ff8700","#ffd300","#deff0a","#a1ff0a","#0aff99","#0aefff","#147df5","#580aff","#be0aff"]}]},Re={labels:["Mandate"],datasets:[{label:"A",data:[0],backgroundColor:"#ff0000"},{label:"B",data:[0],backgroundColor:"#ff8700"},{label:"C",data:[0],backgroundColor:"#ffd300"},{label:"D",data:[0],backgroundColor:"#deff0a"},{label:"E",data:[0],backgroundColor:"#a1ff0a"},{label:"F",data:[0],backgroundColor:"#0aff99"},{label:"G",data:[0],backgroundColor:"#0aefff"},{label:"H",data:[0],backgroundColor:"#147df5"},{label:"I",data:[0],backgroundColor:"#580aff"},{label:"J",data:[0],backgroundColor:"#be0aff"}]};function ye(t,r,l){const n=t.slice();return n[16]=r[l],n[17]=r,n[18]=l,n}function Ee(t){let r,l,n=t[0].labels[t[18]]+"",d,c,s,p,T;function k(){t[14].call(s,t[18])}return{c(){r=o("div"),l=o("label"),d=S(n),c=b(),s=o("input"),this.h()},l(g){r=i(g,"DIV",{class:!0});var _=m(r);l=i(_,"LABEL",{for:!0});var L=m(l);d=A(L,n),L.forEach(u),c=v(_),s=i(_,"INPUT",{id:!0,type:!0,min:!0,max:!0}),_.forEach(u),this.h()},h(){h(l,"for","input_party_"+t[18]),h(s,"id","input_party_"+t[18]),h(s,"type","number"),h(s,"min","0"),h(s,"max","100"),h(r,"class","input_field_vote_party")},m(g,_){U(g,r,_),a(r,l),a(l,d),a(r,c),a(r,s),tt(s,t[0].datasets[0].data[t[18]]),p||(T=Ot(s,"input",k),p=!0)},p(g,_){t=g,_&1&&n!==(n=t[0].labels[t[18]]+"")&&pt(d,n),_&1&&ht(s.value)!==t[0].datasets[0].data[t[18]]&&tt(s,t[0].datasets[0].data[t[18]])},d(g){g&&u(r),p=!1,T()}}}function Te(t){let r,l="Achtung: Gesamtstimmen dürfen 100% nicht überschreiten!";return{c(){r=o("p"),r.textContent=l},l(n){r=i(n,"P",{"data-svelte-h":!0}),V(r)!=="svelte-154vc08"&&(r.textContent=l)},m(n,d){U(n,r,d)},d(n){n&&u(r)}}}function Ue(t){let r,l="Stimmenanteile",n,d,c,s,p="Allgemeine Informationen",T,k,g,_,L='<label for="input_mandate_count">Abgeordnete</label>',et,at,M,_t,z,q,D='<label for="input_threshold">Sperrklausel</label>',x,Z,F,H,Ft,Gt,nt,st,oe='<label for="input_apportionment_method">Sitzzuteilungsverfahren</label>',Wt,mt,P,G,ie="D'Hondt",W,de="Sainte-Laguë",Jt,ot,K,Rt,w,yt,Q,it,fe="Sonstige:",Ut,gt,bt=(t[5]>=0?t[5].toFixed(2):0)+"",Et,qt,Tt,lt,ue="Mandatsverteilung",kt,J,dt,X,Zt,B,Y,Kt,N,Qt,Mt,Xt,Dt,wt,Yt,O,$t,It,te,Lt,Ht,j,ee,ce;K=new ve({props:{data:t[0],options:{responsive:!0,plugins:{datalabels:{display:!1}}}}});let ft=Ce(t[0].datasets[0].data),C=[];for(let e=0;e<ft.length;e+=1)C[e]=Ee(ye(t,ft,e));let y=t[5]<0&&Te();return X=new Se({props:{id:"mandatesChart",data:t[6],options:{responsive:!0,circumference:180,rotation:-90,plugins:{datalabels:{anchor:"end",align:"start",color:"white",formatter:Ke,font:{weight:"bold",size:20}}}}}}),Y=new ve({props:{data:t[1],options:{responsive:!0,indexAxis:"y",scales:{y:{stacked:!0},x:{stacked:!0,max:t[2]}},plugins:{annotation:{annotations:{majorityLine:{type:"line",xMin:t[7],xMax:t[7],borderColor:"rgb(255, 99, 132)",borderWidth:3},twoThirdsMajorityLine:{type:"line",xMin:t[8],xMax:t[8],borderColor:"rgb(255, 99, 132)",borderWidth:1}}},datalabels:{anchor:"center",align:"center",color:"white",formatter:ke,font:{weight:"bold",size:20}},legend:{onClick:t[15]}}}}}),{c(){r=o("h1"),r.textContent=l,n=b(),d=o("section"),c=o("div"),s=o("p"),s.textContent=p,T=b(),k=o("table"),g=o("tr"),_=o("th"),_.innerHTML=L,et=b(),at=o("td"),M=o("input"),_t=b(),z=o("tr"),q=o("th"),q.innerHTML=D,x=b(),Z=o("td"),F=o("span"),H=o("input"),Ft=S(" %"),Gt=b(),nt=o("tr"),st=o("th"),st.innerHTML=oe,Wt=b(),mt=o("td"),P=o("select"),G=o("option"),G.textContent=ie,W=o("option"),W.textContent=de,Jt=b(),ot=o("div"),At(K.$$.fragment),Rt=b(),w=o("div");for(let e=0;e<C.length;e+=1)C[e].c();yt=b(),Q=o("div"),it=o("p"),it.textContent=fe,Ut=b(),gt=o("p"),Et=S(bt),qt=b(),y&&y.c(),Tt=b(),lt=o("h1"),lt.textContent=ue,kt=b(),J=o("section"),dt=o("div"),At(X.$$.fragment),Zt=b(),B=o("div"),At(Y.$$.fragment),Kt=b(),N=o("p"),Qt=S("Mehrheit: "),Mt=S(t[9]),Xt=S("/"),Dt=S(t[7]),Yt=b(),O=o("p"),$t=S("Zweidrittelmehrheit: "),It=S(t[9]),te=S("/"),Lt=S(t[8]),this.h()},l(e){r=i(e,"H1",{"data-svelte-h":!0}),V(r)!=="svelte-too001"&&(r.textContent=l),n=v(e),d=i(e,"SECTION",{class:!0});var f=m(d);c=i(f,"DIV",{class:!0});var I=m(c);s=i(I,"P",{"data-svelte-h":!0}),V(s)!=="svelte-7wsg44"&&(s.textContent=p),T=v(I),k=i(I,"TABLE",{});var R=m(k);g=i(R,"TR",{});var $=m(g);_=i($,"TH",{"data-svelte-h":!0}),V(_)!=="svelte-1wy1b54"&&(_.innerHTML=L),et=v($),at=i($,"TD",{});var E=m(at);M=i(E,"INPUT",{id:!0,type:!0,min:!0,max:!0}),E.forEach(u),$.forEach(u),_t=v(R),z=i(R,"TR",{});var rt=m(z);q=i(rt,"TH",{"data-svelte-h":!0}),V(q)!=="svelte-e3yl1g"&&(q.innerHTML=D),x=v(rt),Z=i(rt,"TD",{});var pe=m(Z);F=i(pe,"SPAN",{class:!0});var ae=m(F);H=i(ae,"INPUT",{id:!0,type:!0,min:!0,max:!0}),Ft=A(ae," %"),ae.forEach(u),pe.forEach(u),rt.forEach(u),Gt=v(R),nt=i(R,"TR",{});var Pt=m(nt);st=i(Pt,"TH",{"data-svelte-h":!0}),V(st)!=="svelte-r745e5"&&(st.innerHTML=oe),Wt=v(Pt),mt=i(Pt,"TD",{});var he=m(mt);P=i(he,"SELECT",{class:!0});var ne=m(P);G=i(ne,"OPTION",{"data-svelte-h":!0}),V(G)!=="svelte-wlpdpc"&&(G.textContent=ie),W=i(ne,"OPTION",{"data-svelte-h":!0}),V(W)!=="svelte-j8z6l1"&&(W.textContent=de),ne.forEach(u),he.forEach(u),Pt.forEach(u),R.forEach(u),I.forEach(u),Jt=v(f),ot=i(f,"DIV",{class:!0});var _e=m(ot);Bt(K.$$.fragment,_e),_e.forEach(u),Rt=v(f),w=i(f,"DIV",{class:!0});var ut=m(w);for(let le=0;le<C.length;le+=1)C[le].l(ut);yt=v(ut),Q=i(ut,"DIV",{class:!0});var jt=m(Q);it=i(jt,"P",{"data-svelte-h":!0}),V(it)!=="svelte-1p0cp1c"&&(it.textContent=fe),Ut=v(jt),gt=i(jt,"P",{});var me=m(gt);Et=A(me,bt),me.forEach(u),jt.forEach(u),qt=v(ut),y&&y.l(ut),ut.forEach(u),f.forEach(u),Tt=v(e),lt=i(e,"H1",{"data-svelte-h":!0}),V(lt)!=="svelte-jg7skr"&&(lt.textContent=ue),kt=v(e),J=i(e,"SECTION",{class:!0});var St=m(J);dt=i(St,"DIV",{class:!0});var ge=m(dt);Bt(X.$$.fragment,ge),ge.forEach(u),Zt=v(St),B=i(St,"DIV",{class:!0});var ct=m(B);Bt(Y.$$.fragment,ct),Kt=v(ct),N=i(ct,"P",{class:!0});var vt=m(N);Qt=A(vt,"Mehrheit: "),Mt=A(vt,t[9]),Xt=A(vt,"/"),Dt=A(vt,t[7]),vt.forEach(u),Yt=v(ct),O=i(ct,"P",{class:!0});var Ct=m(O);$t=A(Ct,"Zweidrittelmehrheit: "),It=A(Ct,t[9]),te=A(Ct,"/"),Lt=A(Ct,t[8]),Ct.forEach(u),ct.forEach(u),St.forEach(u),this.h()},h(){h(M,"id","input_mandate_count"),h(M,"type","number"),h(M,"min","0"),h(M,"max","1000"),h(H,"id","input_threshold"),h(H,"type","number"),h(H,"min","0"),h(H,"max","100"),h(F,"class","valuePadding"),G.__value="D'Hondt",tt(G,G.__value),W.__value="Sainte-Laguë",tt(W,W.__value),h(P,"class","selectApportionmentMethod"),t[4]===void 0&&Ie(()=>t[13].call(P)),h(c,"class","info_container"),h(ot,"class","bar_container"),h(Q,"class","input_field_vote_party"),h(w,"class","input_fields_vote"),h(d,"class","vote_share_section"),h(dt,"class","pie_container"),h(N,"class",wt="majorityText "+(t[9]<t[7]?"red":"green")),h(O,"class",Ht="majorityText "+(t[9]<t[8]?"red":"green")),h(B,"class","stack_container"),h(J,"class","mandate_section")},m(e,f){U(e,r,f),U(e,n,f),U(e,d,f),a(d,c),a(c,s),a(c,T),a(c,k),a(k,g),a(g,_),a(g,et),a(g,at),a(at,M),tt(M,t[2]),a(k,_t),a(k,z),a(z,q),a(z,x),a(z,Z),a(Z,F),a(F,H),tt(H,t[3]),a(F,Ft),a(k,Gt),a(k,nt),a(nt,st),a(nt,Wt),a(nt,mt),a(mt,P),a(P,G),a(P,W),be(P,t[4],!0),a(d,Jt),a(d,ot),Nt(K,ot,null),a(d,Rt),a(d,w);for(let I=0;I<C.length;I+=1)C[I]&&C[I].m(w,null);a(w,yt),a(w,Q),a(Q,it),a(Q,Ut),a(Q,gt),a(gt,Et),a(w,qt),y&&y.m(w,null),U(e,Tt,f),U(e,lt,f),U(e,kt,f),U(e,J,f),a(J,dt),Nt(X,dt,null),a(J,Zt),a(J,B),Nt(Y,B,null),a(B,Kt),a(B,N),a(N,Qt),a(N,Mt),a(N,Xt),a(N,Dt),a(B,Yt),a(B,O),a(O,$t),a(O,It),a(O,te),a(O,Lt),j=!0,ee||(ce=[Ot(M,"input",t[11]),Ot(H,"input",t[12]),Ot(P,"change",t[13])],ee=!0)},p(e,[f]){f&4&&ht(M.value)!==e[2]&&tt(M,e[2]),f&8&&ht(H.value)!==e[3]&&tt(H,e[3]),f&16&&be(P,e[4]);const I={};if(f&1&&(I.data=e[0]),K.$set(I),f&1){ft=Ce(e[0].datasets[0].data);let E;for(E=0;E<ft.length;E+=1){const rt=ye(e,ft,E);C[E]?C[E].p(rt,f):(C[E]=Ee(rt),C[E].c(),C[E].m(w,yt))}for(;E<C.length;E+=1)C[E].d(1);C.length=ft.length}(!j||f&32)&&bt!==(bt=(e[5]>=0?e[5].toFixed(2):0)+"")&&pt(Et,bt),e[5]<0?y||(y=Te(),y.c(),y.m(w,null)):y&&(y.d(1),y=null);const R={};f&64&&(R.data=e[6]),X.$set(R);const $={};f&2&&($.data=e[1]),f&390&&($.options={responsive:!0,indexAxis:"y",scales:{y:{stacked:!0},x:{stacked:!0,max:e[2]}},plugins:{annotation:{annotations:{majorityLine:{type:"line",xMin:e[7],xMax:e[7],borderColor:"rgb(255, 99, 132)",borderWidth:3},twoThirdsMajorityLine:{type:"line",xMin:e[8],xMax:e[8],borderColor:"rgb(255, 99, 132)",borderWidth:1}}},datalabels:{anchor:"center",align:"center",color:"white",formatter:ke,font:{weight:"bold",size:20}},legend:{onClick:e[15]}}}),Y.$set($),(!j||f&512)&&pt(Mt,e[9]),(!j||f&128)&&pt(Dt,e[7]),(!j||f&640&&wt!==(wt="majorityText "+(e[9]<e[7]?"red":"green")))&&h(N,"class",wt),(!j||f&512)&&pt(It,e[9]),(!j||f&256)&&pt(Lt,e[8]),(!j||f&768&&Ht!==(Ht="majorityText "+(e[9]<e[8]?"red":"green")))&&h(O,"class",Ht)},i(e){j||(Vt(K.$$.fragment,e),Vt(X.$$.fragment,e),Vt(Y.$$.fragment,e),j=!0)},o(e){zt(K.$$.fragment,e),zt(X.$$.fragment,e),zt(Y.$$.fragment,e),j=!1},d(e){e&&(u(r),u(n),u(d),u(Tt),u(lt),u(kt),u(J)),xt(K),Pe(C,e),y&&y.d(),xt(X),xt(Y),ee=!1,Le(ce)}}}function qe(t,r,l){let n=[],d=[],c=[...t];for(let s in t)d.push(1),n.push(0),t[s]<l&&(t[s]=0,c[s]=0);for(let s=0;s<r;s++){let p=c.indexOf(Math.max(...c));d[p]=d[p]+1,n[p]=n[p]+1,c[p]=t[p]/d[p]}return n}function Ze(t,r,l){let n=[],d=new Array(t.length).fill(.5),c=[...t];for(let s in t)d.push(1),n.push(0),t[s]<l&&(t[s]=0,c[s]=0);for(let s=0;s<r;s++){let p=c.indexOf(Math.max(...c));d[p]=d[p]+1,n[p]=n[p]+1,c[p]=t[p]/d[p]}return n}const Ke=function(t){return t>0?t:""},ke=function(t){return t>0?t:""};function Qe(t,r,l){Ae.register(Be,Ne,Oe,Ve,ze,xe,Fe,Ge);let n=re("data"),d=re("mandateData"),c=re("majorityData"),s=10,p=4,T="D'Hondt",k=0,g=0,_=[],L,et=0;function at(){s=ht(this.value),l(2,s)}function M(){p=ht(this.value),l(3,p)}function _t(){T=je(this),l(4,T)}function z(D){n.datasets[0].data[D]=ht(this.value),l(0,n),l(5,L),l(4,T),l(2,s),l(3,p)}const q=function(D,x){if(x.datasetIndex!==void 0){const Z=x.datasetIndex,F=c.datasets[Z].hidden;l(1,c.datasets[Z].hidden=!F,c)}};return t.$$.update=()=>{if(t.$$.dirty&4&&l(7,k=Math.floor(s/2+1)),t.$$.dirty&4&&l(8,g=Math.ceil(s/3*2)),t.$$.dirty&61&&(l(5,L=100-n.datasets[0].data.reduce((D,x)=>D+x,0)),L>=0&&(l(0,n),l(5,L),l(4,T),l(2,s),l(3,p),T=="D'Hondt"?l(10,_=qe([...n.datasets[0].data],s,p)):T=="Sainte-Laguë"&&l(10,_=Ze([...n.datasets[0].data],s,p)))),t.$$.dirty&1024){l(6,d.datasets[0].data=_,d);for(let D in _)l(1,c.datasets[D].data=[_[D]],c)}t.$$.dirty&514&&(l(9,et=0),c.datasets.forEach((D,x)=>{D.hidden||l(9,et+=D.data[0])}))},[n,c,s,p,T,L,d,k,g,et,_,at,M,_t,z,q]}class Xe extends De{constructor(r){super(),we(this,r,Qe,Ue,Me,{})}}function Ye(t){let r,l;return r=new Xe({}),{c(){At(r.$$.fragment)},l(n){Bt(r.$$.fragment,n)},m(n,d){Nt(r,n,d),l=!0},p:He,i(n){l||(Vt(r.$$.fragment,n),l=!0)},o(n){zt(r.$$.fragment,n),l=!1},d(n){xt(r,n)}}}function $e(t){return se("data",We),se("mandateData",Je),se("majorityData",Re),[]}class na extends De{constructor(r){super(),we(this,r,$e,Ye,Me,{})}}export{na as component};
