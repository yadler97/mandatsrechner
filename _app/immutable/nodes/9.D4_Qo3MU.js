import{s as ie,b as ce,r as pe,g as Ot,n as _e,a as zt}from"../chunks/scheduler.CEQmJdr9.js";import{S as de,i as fe,e as i,s as v,t as Vt,l as bt,c as d,k as w,f as C,a as g,d as u,b as $t,m as vt,n as _,v as G,g as N,h as r,y as ee,o as Ct,w as Et,x as lt,j as ue,p as yt,q as kt,r as Dt,u as he,z as me}from"../chunks/index.Cfi6UVQz.js";import{B as ae,e as ne,P as ge,C as be,p as ve,a as Ce,b as Ee,c as ye,d as ke,L as De,f as Te,g as xe}from"../chunks/auto.BZqVbn6Y.js";const He={labels:["A","B","C","D","E","F","G","H","I","J"],datasets:[{label:"Stimmenanteil in %",data:[40,30,10,10,5,5,0,0,0,0],backgroundColor:["#ff0000","#ff8700","#ffd300","#deff0a","#a1ff0a","#0aff99","#0aefff","#147df5","#580aff","#be0aff"]}]},Ie={labels:["A","B","C","D","E","F","G","H","I","J"],datasets:[{label:"Mandate",data:[40,30,10,10,5,5,0,0,0,0],backgroundColor:["#ff0000","#ff8700","#ffd300","#deff0a","#a1ff0a","#0aff99","#0aefff","#147df5","#580aff","#be0aff"]}]},Me={labels:["Mandate"],datasets:[{label:"A",data:[0],backgroundColor:"#ff0000"},{label:"B",data:[0],backgroundColor:"#ff8700"},{label:"C",data:[0],backgroundColor:"#ffd300"},{label:"D",data:[0],backgroundColor:"#deff0a"},{label:"E",data:[0],backgroundColor:"#a1ff0a"},{label:"F",data:[0],backgroundColor:"#0aff99"},{label:"G",data:[0],backgroundColor:"#0aefff"},{label:"H",data:[0],backgroundColor:"#147df5"},{label:"I",data:[0],backgroundColor:"#580aff"},{label:"J",data:[0],backgroundColor:"#be0aff"}]};function le(t,n,l){const a=t.slice();return a[13]=n[l],a[14]=n,a[15]=l,a}function re(t){let n,l,a=t[0].labels[t[15]]+"",o,c,s,f,k;function D(){t[12].call(s,t[15])}return{c(){n=i("div"),l=i("label"),o=Vt(a),c=v(),s=i("input"),this.h()},l(h){n=d(h,"DIV",{class:!0});var m=g(n);l=d(m,"LABEL",{for:!0});var J=g(l);o=$t(J,a),J.forEach(u),c=C(m),s=d(m,"INPUT",{id:!0,type:!0,min:!0,max:!0}),m.forEach(u),this.h()},h(){_(l,"for","input_party_"+t[15]),_(s,"id","input_party_"+t[15]),_(s,"type","number"),_(s,"min","0"),_(s,"max","100"),_(n,"class","input_field_vote_party")},m(h,m){N(h,n,m),r(n,l),r(l,o),r(n,c),r(n,s),G(s,t[0].datasets[0].data[t[15]]),f||(k=Et(s,"input",D),f=!0)},p(h,m){t=h,m&1&&a!==(a=t[0].labels[t[15]]+"")&&ue(o,a),m&1&&lt(s.value)!==t[0].datasets[0].data[t[15]]&&G(s,t[0].datasets[0].data[t[15]])},d(h){h&&u(n),f=!1,k()}}}function se(t){let n,l="Achtung: Gesamtstimmen dürfen 100% nicht überschreiten!";return{c(){n=i("p"),n.textContent=l},l(a){n=d(a,"P",{"data-svelte-h":!0}),w(n)!=="svelte-154vc08"&&(n.textContent=l)},m(a,o){N(a,n,o)},d(a){a&&u(n)}}}function Se(t){let n,l="Stimmenanteile",a,o,c,s,f="Allgemeine Informationen",k,D,h,m,J='<label for="input_mandate_count">Abgeordnete</label>',rt,R,T,S,L,Q,Ft='<label for="input_threshold">Sperrklausel</label>',Tt,st,U,I,xt,Ht,q,X,Gt='<label for="input_apportionment_method">Sitzzuteilungsverfahren</label>',It,ot,M,P,Jt="D'Hondt",A,Rt="Sainte-Laguë",Mt,Y,O,St,x,ut,z,Z,Ut="Sonstige:",wt,it,dt=(t[4]>=0?t[4].toFixed(2):0)+"",ct,Lt,pt,W,qt="Mandatsverteilung",_t,j,tt,V,Pt,et,$,ft,At,Wt;O=new ae({props:{data:t[0],options:{responsive:!0,plugins:{datalabels:{display:!1}}}}});let at=ne(t[0].datasets[0].data),b=[];for(let e=0;e<at.length;e+=1)b[e]=re(le(t,at,e));let E=t[4]<0&&se();return V=new ge({props:{id:"mandatesChart",data:t[5],options:{responsive:!0,circumference:180,rotation:-90,plugins:{datalabels:{anchor:"end",align:"start",color:"white",formatter:Pe,font:{weight:"bold",size:20}}}}}}),$=new ae({props:{data:t[6],options:{responsive:!0,indexAxis:"y",scales:{y:{stacked:!0},x:{stacked:!0,max:t[1]}},plugins:{annotation:{annotations:{line1:{type:"line",xMin:t[7],xMax:t[7],borderColor:"rgb(255, 99, 132)",borderWidth:2}}},datalabels:{anchor:"center",align:"center",color:"white",formatter:oe,font:{weight:"bold",size:20}}}}}}),{c(){n=i("h1"),n.textContent=l,a=v(),o=i("section"),c=i("div"),s=i("p"),s.textContent=f,k=v(),D=i("table"),h=i("tr"),m=i("th"),m.innerHTML=J,rt=v(),R=i("td"),T=i("input"),S=v(),L=i("tr"),Q=i("th"),Q.innerHTML=Ft,Tt=v(),st=i("td"),U=i("span"),I=i("input"),xt=Vt(" %"),Ht=v(),q=i("tr"),X=i("th"),X.innerHTML=Gt,It=v(),ot=i("td"),M=i("select"),P=i("option"),P.textContent=Jt,A=i("option"),A.textContent=Rt,Mt=v(),Y=i("div"),bt(O.$$.fragment),St=v(),x=i("div");for(let e=0;e<b.length;e+=1)b[e].c();ut=v(),z=i("div"),Z=i("p"),Z.textContent=Ut,wt=v(),it=i("p"),ct=Vt(dt),Lt=v(),E&&E.c(),pt=v(),W=i("h1"),W.textContent=qt,_t=v(),j=i("section"),tt=i("div"),bt(V.$$.fragment),Pt=v(),et=i("div"),bt($.$$.fragment),this.h()},l(e){n=d(e,"H1",{"data-svelte-h":!0}),w(n)!=="svelte-too001"&&(n.textContent=l),a=C(e),o=d(e,"SECTION",{class:!0});var p=g(o);c=d(p,"DIV",{class:!0});var H=g(c);s=d(H,"P",{"data-svelte-h":!0}),w(s)!=="svelte-7wsg44"&&(s.textContent=f),k=C(H),D=d(H,"TABLE",{});var B=g(D);h=d(B,"TR",{});var F=g(h);m=d(F,"TH",{"data-svelte-h":!0}),w(m)!=="svelte-1wy1b54"&&(m.innerHTML=J),rt=C(F),R=d(F,"TD",{});var y=g(R);T=d(y,"INPUT",{id:!0,type:!0,min:!0,max:!0}),y.forEach(u),F.forEach(u),S=C(B),L=d(B,"TR",{});var K=g(L);Q=d(K,"TH",{"data-svelte-h":!0}),w(Q)!=="svelte-e3yl1g"&&(Q.innerHTML=Ft),Tt=C(K),st=d(K,"TD",{});var Kt=g(st);U=d(Kt,"SPAN",{class:!0});var jt=g(U);I=d(jt,"INPUT",{id:!0,type:!0,min:!0,max:!0}),xt=$t(jt," %"),jt.forEach(u),Kt.forEach(u),K.forEach(u),Ht=C(B),q=d(B,"TR",{});var ht=g(q);X=d(ht,"TH",{"data-svelte-h":!0}),w(X)!=="svelte-r745e5"&&(X.innerHTML=Gt),It=C(ht),ot=d(ht,"TD",{});var Qt=g(ot);M=d(Qt,"SELECT",{class:!0});var Bt=g(M);P=d(Bt,"OPTION",{"data-svelte-h":!0}),w(P)!=="svelte-wlpdpc"&&(P.textContent=Jt),A=d(Bt,"OPTION",{"data-svelte-h":!0}),w(A)!=="svelte-j8z6l1"&&(A.textContent=Rt),Bt.forEach(u),Qt.forEach(u),ht.forEach(u),B.forEach(u),H.forEach(u),Mt=C(p),Y=d(p,"DIV",{class:!0});var Xt=g(Y);vt(O.$$.fragment,Xt),Xt.forEach(u),St=C(p),x=d(p,"DIV",{class:!0});var nt=g(x);for(let Nt=0;Nt<b.length;Nt+=1)b[Nt].l(nt);ut=C(nt),z=d(nt,"DIV",{class:!0});var mt=g(z);Z=d(mt,"P",{"data-svelte-h":!0}),w(Z)!=="svelte-1p0cp1c"&&(Z.textContent=Ut),wt=C(mt),it=d(mt,"P",{});var Yt=g(it);ct=$t(Yt,dt),Yt.forEach(u),mt.forEach(u),Lt=C(nt),E&&E.l(nt),nt.forEach(u),p.forEach(u),pt=C(e),W=d(e,"H1",{"data-svelte-h":!0}),w(W)!=="svelte-jg7skr"&&(W.textContent=qt),_t=C(e),j=d(e,"SECTION",{class:!0});var gt=g(j);tt=d(gt,"DIV",{class:!0});var Zt=g(tt);vt(V.$$.fragment,Zt),Zt.forEach(u),Pt=C(gt),et=d(gt,"DIV",{class:!0});var te=g(et);vt($.$$.fragment,te),te.forEach(u),gt.forEach(u),this.h()},h(){_(T,"id","input_mandate_count"),_(T,"type","number"),_(T,"min","0"),_(T,"max","1000"),_(I,"id","input_threshold"),_(I,"type","number"),_(I,"min","0"),_(I,"max","100"),_(U,"class","valuePadding"),P.__value="D'Hondt",G(P,P.__value),A.__value="Sainte-Laguë",G(A,A.__value),_(M,"class","selectApportionmentMethod"),t[3]===void 0&&ce(()=>t[11].call(M)),_(c,"class","info_container"),_(Y,"class","bar_container"),_(z,"class","input_field_vote_party"),_(x,"class","input_fields_vote"),_(o,"class","vote_share_section"),_(tt,"class","pie_container"),_(et,"class","stack_container"),_(j,"class","mandate_section")},m(e,p){N(e,n,p),N(e,a,p),N(e,o,p),r(o,c),r(c,s),r(c,k),r(c,D),r(D,h),r(h,m),r(h,rt),r(h,R),r(R,T),G(T,t[1]),r(D,S),r(D,L),r(L,Q),r(L,Tt),r(L,st),r(st,U),r(U,I),G(I,t[2]),r(U,xt),r(D,Ht),r(D,q),r(q,X),r(q,It),r(q,ot),r(ot,M),r(M,P),r(M,A),ee(M,t[3],!0),r(o,Mt),r(o,Y),Ct(O,Y,null),r(o,St),r(o,x);for(let H=0;H<b.length;H+=1)b[H]&&b[H].m(x,null);r(x,ut),r(x,z),r(z,Z),r(z,wt),r(z,it),r(it,ct),r(x,Lt),E&&E.m(x,null),N(e,pt,p),N(e,W,p),N(e,_t,p),N(e,j,p),r(j,tt),Ct(V,tt,null),r(j,Pt),r(j,et),Ct($,et,null),ft=!0,At||(Wt=[Et(T,"input",t[9]),Et(I,"input",t[10]),Et(M,"change",t[11])],At=!0)},p(e,[p]){p&2&&lt(T.value)!==e[1]&&G(T,e[1]),p&4&&lt(I.value)!==e[2]&&G(I,e[2]),p&8&&ee(M,e[3]);const H={};if(p&1&&(H.data=e[0]),O.$set(H),p&1){at=ne(e[0].datasets[0].data);let y;for(y=0;y<at.length;y+=1){const K=le(e,at,y);b[y]?b[y].p(K,p):(b[y]=re(K),b[y].c(),b[y].m(x,ut))}for(;y<b.length;y+=1)b[y].d(1);b.length=at.length}(!ft||p&16)&&dt!==(dt=(e[4]>=0?e[4].toFixed(2):0)+"")&&ue(ct,dt),e[4]<0?E||(E=se(),E.c(),E.m(x,null)):E&&(E.d(1),E=null);const B={};p&32&&(B.data=e[5]),V.$set(B);const F={};p&64&&(F.data=e[6]),p&130&&(F.options={responsive:!0,indexAxis:"y",scales:{y:{stacked:!0},x:{stacked:!0,max:e[1]}},plugins:{annotation:{annotations:{line1:{type:"line",xMin:e[7],xMax:e[7],borderColor:"rgb(255, 99, 132)",borderWidth:2}}},datalabels:{anchor:"center",align:"center",color:"white",formatter:oe,font:{weight:"bold",size:20}}}}),$.$set(F)},i(e){ft||(yt(O.$$.fragment,e),yt(V.$$.fragment,e),yt($.$$.fragment,e),ft=!0)},o(e){kt(O.$$.fragment,e),kt(V.$$.fragment,e),kt($.$$.fragment,e),ft=!1},d(e){e&&(u(n),u(a),u(o),u(pt),u(W),u(_t),u(j)),Dt(O),he(b,e),E&&E.d(),Dt(V),Dt($),At=!1,pe(Wt)}}}function we(t,n,l){let a=[],o=[],c=[...t];for(let s in t)o.push(1),a.push(0),t[s]<l&&(t[s]=0,c[s]=0);for(let s=0;s<n;s++){let f=c.indexOf(Math.max(...c));o[f]=o[f]+1,a[f]=a[f]+1,c[f]=t[f]/o[f]}return a}function Le(t,n,l){let a=[],o=new Array(t.length).fill(.5),c=[...t];for(let s in t)o.push(1),a.push(0),t[s]<l&&(t[s]=0,c[s]=0);for(let s=0;s<n;s++){let f=c.indexOf(Math.max(...c));o[f]=o[f]+1,a[f]=a[f]+1,c[f]=t[f]/o[f]}return a}const Pe=function(t){return t>0?t:""},oe=function(t){return t>0?t:""};function Ae(t,n,l){be.register(ve,Ce,Ee,ye,ke,De,Te,xe);let a=Ot("data"),o=Ot("mandateData"),c=Ot("majorityData"),s=10,f=4,k="D'Hondt",D=0,h=[],m;function J(){s=lt(this.value),l(1,s)}function rt(){f=lt(this.value),l(2,f)}function R(){k=me(this),l(3,k)}function T(S){a.datasets[0].data[S]=lt(this.value),l(0,a),l(4,m),l(3,k),l(1,s),l(2,f)}return t.$$.update=()=>{if(t.$$.dirty&2&&l(7,D=Math.ceil(s/2)),t.$$.dirty&31&&(l(4,m=100-a.datasets[0].data.reduce((S,L)=>S+L,0)),m>=0&&(l(0,a),l(4,m),l(3,k),l(1,s),l(2,f),k=="D'Hondt"?l(8,h=we([...a.datasets[0].data],s,f)):k=="Sainte-Laguë"&&l(8,h=Le([...a.datasets[0].data],s,f)))),t.$$.dirty&256){l(5,o.datasets[0].data=h,o);for(let S in h)l(6,c.datasets[S].data=[h[S]],c)}},[a,s,f,k,m,o,c,D,h,J,rt,R,T]}class je extends de{constructor(n){super(),fe(this,n,Ae,Se,ie,{})}}function Be(t){let n,l;return n=new je({}),{c(){bt(n.$$.fragment)},l(a){vt(n.$$.fragment,a)},m(a,o){Ct(n,a,o),l=!0},p:_e,i(a){l||(yt(n.$$.fragment,a),l=!0)},o(a){kt(n.$$.fragment,a),l=!1},d(a){Dt(n,a)}}}function Ne(t){return zt("data",He),zt("mandateData",Ie),zt("majorityData",Me),[]}class $e extends de{constructor(n){super(),fe(this,n,Ne,Be,ie,{})}}export{$e as component};
