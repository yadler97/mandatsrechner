import{s as ge,b as Ce,r as Ee,g as Yt,n as ke,a as Zt}from"../chunks/scheduler.CEQmJdr9.js";import{S as be,i as ve,e as i,s as v,t as et,l as Ht,c as d,k as x,f as C,a as g,d as c,b as at,m as Pt,n as _,v as K,g as z,h as n,y as fe,o as St,w as wt,x as ft,j as Lt,p as At,q as xt,r as jt,u as ye,z as Te}from"../chunks/index.Cfi6UVQz.js";import{B as ue,e as ce,P as De,C as Ie,p as Me,a as He,b as Pe,c as Se,d as we,L as Le,f as Ae,g as xe}from"../chunks/auto.BZqVbn6Y.js";const je={labels:["A","B","C","D","E","F","G","H","I","J"],datasets:[{label:"Stimmenanteil in %",data:[40,30,10,10,5,5,0,0,0,0],backgroundColor:["#ff0000","#ff8700","#ffd300","#deff0a","#a1ff0a","#0aff99","#0aefff","#147df5","#580aff","#be0aff"]}]},Be={labels:["A","B","C","D","E","F","G","H","I","J"],datasets:[{label:"Mandate",data:[40,30,10,10,5,5,0,0,0,0],backgroundColor:["#ff0000","#ff8700","#ffd300","#deff0a","#a1ff0a","#0aff99","#0aefff","#147df5","#580aff","#be0aff"]}]},Ne={labels:["Mandate"],datasets:[{label:"A",data:[0],backgroundColor:"#ff0000"},{label:"B",data:[0],backgroundColor:"#ff8700"},{label:"C",data:[0],backgroundColor:"#ffd300"},{label:"D",data:[0],backgroundColor:"#deff0a"},{label:"E",data:[0],backgroundColor:"#a1ff0a"},{label:"F",data:[0],backgroundColor:"#0aff99"},{label:"G",data:[0],backgroundColor:"#0aefff"},{label:"H",data:[0],backgroundColor:"#147df5"},{label:"I",data:[0],backgroundColor:"#580aff"},{label:"J",data:[0],backgroundColor:"#be0aff"}]};function pe(t,r,l){const a=t.slice();return a[15]=r[l],a[16]=r,a[17]=l,a}function _e(t){let r,l,a=t[0].labels[t[17]]+"",o,f,s,u,y;function T(){t[13].call(s,t[17])}return{c(){r=i("div"),l=i("label"),o=et(a),f=v(),s=i("input"),this.h()},l(h){r=d(h,"DIV",{class:!0});var m=g(r);l=d(m,"LABEL",{for:!0});var w=g(l);o=at(w,a),w.forEach(c),f=C(m),s=d(m,"INPUT",{id:!0,type:!0,min:!0,max:!0}),m.forEach(c),this.h()},h(){_(l,"for","input_party_"+t[17]),_(s,"id","input_party_"+t[17]),_(s,"type","number"),_(s,"min","0"),_(s,"max","100"),_(r,"class","input_field_vote_party")},m(h,m){z(h,r,m),n(r,l),n(l,o),n(r,f),n(r,s),K(s,t[0].datasets[0].data[t[17]]),u||(y=wt(s,"input",T),u=!0)},p(h,m){t=h,m&1&&a!==(a=t[0].labels[t[17]]+"")&&Lt(o,a),m&1&&ft(s.value)!==t[0].datasets[0].data[t[17]]&&K(s,t[0].datasets[0].data[t[17]])},d(h){h&&c(r),u=!1,y()}}}function he(t){let r,l="Achtung: Gesamtstimmen dürfen 100% nicht überschreiten!";return{c(){r=i("p"),r.textContent=l},l(a){r=d(a,"P",{"data-svelte-h":!0}),x(r)!=="svelte-154vc08"&&(r.textContent=l)},m(a,o){z(a,r,o)},d(a){a&&c(r)}}}function Oe(t){let r,l="Stimmenanteile",a,o,f,s,u="Allgemeine Informationen",y,T,h,m,w='<label for="input_mandate_count">Abgeordnete</label>',ut,Q,I,ct,j,D,X='<label for="input_threshold">Sperrklausel</label>',nt,Y,L,M,Bt,Nt,Z,lt,$t='<label for="input_apportionment_method">Sitzzuteilungsverfahren</label>',Ot,pt,S,B,te="D'Hondt",N,ee="Sainte-Laguë",Vt,rt,F,zt,H,gt,G,st,ae="Sonstige:",Ft,_t,ht=(t[4]>=0?t[4].toFixed(2):0)+"",bt,Gt,vt,$,ne="Mandatsverteilung",Ct,O,ot,J,Jt,R,U,Rt,A,Ut,Et,qt,kt,yt,q,Wt,le;F=new ue({props:{data:t[0],options:{responsive:!0,plugins:{datalabels:{display:!1}}}}});let it=ce(t[0].datasets[0].data),b=[];for(let e=0;e<it.length;e+=1)b[e]=_e(pe(t,it,e));let E=t[4]<0&&he();return J=new De({props:{id:"mandatesChart",data:t[5],options:{responsive:!0,circumference:180,rotation:-90,plugins:{datalabels:{anchor:"end",align:"start",color:"white",formatter:Fe,font:{weight:"bold",size:20}}}}}}),U=new ue({props:{data:t[6],options:{responsive:!0,indexAxis:"y",scales:{y:{stacked:!0},x:{stacked:!0,max:t[1]}},plugins:{annotation:{annotations:{line1:{type:"line",xMin:t[7],xMax:t[7],borderColor:"rgb(255, 99, 132)",borderWidth:2}}},datalabels:{anchor:"center",align:"center",color:"white",formatter:me,font:{weight:"bold",size:20}},legend:{onClick:t[14]}}}}}),{c(){r=i("h1"),r.textContent=l,a=v(),o=i("section"),f=i("div"),s=i("p"),s.textContent=u,y=v(),T=i("table"),h=i("tr"),m=i("th"),m.innerHTML=w,ut=v(),Q=i("td"),I=i("input"),ct=v(),j=i("tr"),D=i("th"),D.innerHTML=X,nt=v(),Y=i("td"),L=i("span"),M=i("input"),Bt=et(" %"),Nt=v(),Z=i("tr"),lt=i("th"),lt.innerHTML=$t,Ot=v(),pt=i("td"),S=i("select"),B=i("option"),B.textContent=te,N=i("option"),N.textContent=ee,Vt=v(),rt=i("div"),Ht(F.$$.fragment),zt=v(),H=i("div");for(let e=0;e<b.length;e+=1)b[e].c();gt=v(),G=i("div"),st=i("p"),st.textContent=ae,Ft=v(),_t=i("p"),bt=et(ht),Gt=v(),E&&E.c(),vt=v(),$=i("h1"),$.textContent=ne,Ct=v(),O=i("section"),ot=i("div"),Ht(J.$$.fragment),Jt=v(),R=i("div"),Ht(U.$$.fragment),Rt=v(),A=i("p"),Ut=et("Mehrheit: "),Et=et(t[8]),qt=et("/"),kt=et(t[7]),this.h()},l(e){r=d(e,"H1",{"data-svelte-h":!0}),x(r)!=="svelte-too001"&&(r.textContent=l),a=C(e),o=d(e,"SECTION",{class:!0});var p=g(o);f=d(p,"DIV",{class:!0});var P=g(f);s=d(P,"P",{"data-svelte-h":!0}),x(s)!=="svelte-7wsg44"&&(s.textContent=u),y=C(P),T=d(P,"TABLE",{});var V=g(T);h=d(V,"TR",{});var W=g(h);m=d(W,"TH",{"data-svelte-h":!0}),x(m)!=="svelte-1wy1b54"&&(m.innerHTML=w),ut=C(W),Q=d(W,"TD",{});var k=g(Q);I=d(k,"INPUT",{id:!0,type:!0,min:!0,max:!0}),k.forEach(c),W.forEach(c),ct=C(V),j=d(V,"TR",{});var tt=g(j);D=d(tt,"TH",{"data-svelte-h":!0}),x(D)!=="svelte-e3yl1g"&&(D.innerHTML=X),nt=C(tt),Y=d(tt,"TD",{});var re=g(Y);L=d(re,"SPAN",{class:!0});var Kt=g(L);M=d(Kt,"INPUT",{id:!0,type:!0,min:!0,max:!0}),Bt=at(Kt," %"),Kt.forEach(c),re.forEach(c),tt.forEach(c),Nt=C(V),Z=d(V,"TR",{});var Tt=g(Z);lt=d(Tt,"TH",{"data-svelte-h":!0}),x(lt)!=="svelte-r745e5"&&(lt.innerHTML=$t),Ot=C(Tt),pt=d(Tt,"TD",{});var se=g(pt);S=d(se,"SELECT",{class:!0});var Qt=g(S);B=d(Qt,"OPTION",{"data-svelte-h":!0}),x(B)!=="svelte-wlpdpc"&&(B.textContent=te),N=d(Qt,"OPTION",{"data-svelte-h":!0}),x(N)!=="svelte-j8z6l1"&&(N.textContent=ee),Qt.forEach(c),se.forEach(c),Tt.forEach(c),V.forEach(c),P.forEach(c),Vt=C(p),rt=d(p,"DIV",{class:!0});var oe=g(rt);Pt(F.$$.fragment,oe),oe.forEach(c),zt=C(p),H=d(p,"DIV",{class:!0});var dt=g(H);for(let Xt=0;Xt<b.length;Xt+=1)b[Xt].l(dt);gt=C(dt),G=d(dt,"DIV",{class:!0});var Dt=g(G);st=d(Dt,"P",{"data-svelte-h":!0}),x(st)!=="svelte-1p0cp1c"&&(st.textContent=ae),Ft=C(Dt),_t=d(Dt,"P",{});var ie=g(_t);bt=at(ie,ht),ie.forEach(c),Dt.forEach(c),Gt=C(dt),E&&E.l(dt),dt.forEach(c),p.forEach(c),vt=C(e),$=d(e,"H1",{"data-svelte-h":!0}),x($)!=="svelte-jg7skr"&&($.textContent=ne),Ct=C(e),O=d(e,"SECTION",{class:!0});var It=g(O);ot=d(It,"DIV",{class:!0});var de=g(ot);Pt(J.$$.fragment,de),de.forEach(c),Jt=C(It),R=d(It,"DIV",{class:!0});var Mt=g(R);Pt(U.$$.fragment,Mt),Rt=C(Mt),A=d(Mt,"P",{class:!0});var mt=g(A);Ut=at(mt,"Mehrheit: "),Et=at(mt,t[8]),qt=at(mt,"/"),kt=at(mt,t[7]),mt.forEach(c),Mt.forEach(c),It.forEach(c),this.h()},h(){_(I,"id","input_mandate_count"),_(I,"type","number"),_(I,"min","0"),_(I,"max","1000"),_(M,"id","input_threshold"),_(M,"type","number"),_(M,"min","0"),_(M,"max","100"),_(L,"class","valuePadding"),B.__value="D'Hondt",K(B,B.__value),N.__value="Sainte-Laguë",K(N,N.__value),_(S,"class","selectApportionmentMethod"),t[3]===void 0&&Ce(()=>t[12].call(S)),_(f,"class","info_container"),_(rt,"class","bar_container"),_(G,"class","input_field_vote_party"),_(H,"class","input_fields_vote"),_(o,"class","vote_share_section"),_(ot,"class","pie_container"),_(A,"class",yt="majorityText "+(t[8]<t[7]?"red":"green")),_(R,"class","stack_container"),_(O,"class","mandate_section")},m(e,p){z(e,r,p),z(e,a,p),z(e,o,p),n(o,f),n(f,s),n(f,y),n(f,T),n(T,h),n(h,m),n(h,ut),n(h,Q),n(Q,I),K(I,t[1]),n(T,ct),n(T,j),n(j,D),n(j,nt),n(j,Y),n(Y,L),n(L,M),K(M,t[2]),n(L,Bt),n(T,Nt),n(T,Z),n(Z,lt),n(Z,Ot),n(Z,pt),n(pt,S),n(S,B),n(S,N),fe(S,t[3],!0),n(o,Vt),n(o,rt),St(F,rt,null),n(o,zt),n(o,H);for(let P=0;P<b.length;P+=1)b[P]&&b[P].m(H,null);n(H,gt),n(H,G),n(G,st),n(G,Ft),n(G,_t),n(_t,bt),n(H,Gt),E&&E.m(H,null),z(e,vt,p),z(e,$,p),z(e,Ct,p),z(e,O,p),n(O,ot),St(J,ot,null),n(O,Jt),n(O,R),St(U,R,null),n(R,Rt),n(R,A),n(A,Ut),n(A,Et),n(A,qt),n(A,kt),q=!0,Wt||(le=[wt(I,"input",t[10]),wt(M,"input",t[11]),wt(S,"change",t[12])],Wt=!0)},p(e,[p]){p&2&&ft(I.value)!==e[1]&&K(I,e[1]),p&4&&ft(M.value)!==e[2]&&K(M,e[2]),p&8&&fe(S,e[3]);const P={};if(p&1&&(P.data=e[0]),F.$set(P),p&1){it=ce(e[0].datasets[0].data);let k;for(k=0;k<it.length;k+=1){const tt=pe(e,it,k);b[k]?b[k].p(tt,p):(b[k]=_e(tt),b[k].c(),b[k].m(H,gt))}for(;k<b.length;k+=1)b[k].d(1);b.length=it.length}(!q||p&16)&&ht!==(ht=(e[4]>=0?e[4].toFixed(2):0)+"")&&Lt(bt,ht),e[4]<0?E||(E=he(),E.c(),E.m(H,null)):E&&(E.d(1),E=null);const V={};p&32&&(V.data=e[5]),J.$set(V);const W={};p&64&&(W.data=e[6]),p&450&&(W.options={responsive:!0,indexAxis:"y",scales:{y:{stacked:!0},x:{stacked:!0,max:e[1]}},plugins:{annotation:{annotations:{line1:{type:"line",xMin:e[7],xMax:e[7],borderColor:"rgb(255, 99, 132)",borderWidth:2}}},datalabels:{anchor:"center",align:"center",color:"white",formatter:me,font:{weight:"bold",size:20}},legend:{onClick:e[14]}}}),U.$set(W),(!q||p&256)&&Lt(Et,e[8]),(!q||p&128)&&Lt(kt,e[7]),(!q||p&384&&yt!==(yt="majorityText "+(e[8]<e[7]?"red":"green")))&&_(A,"class",yt)},i(e){q||(At(F.$$.fragment,e),At(J.$$.fragment,e),At(U.$$.fragment,e),q=!0)},o(e){xt(F.$$.fragment,e),xt(J.$$.fragment,e),xt(U.$$.fragment,e),q=!1},d(e){e&&(c(r),c(a),c(o),c(vt),c($),c(Ct),c(O)),jt(F),ye(b,e),E&&E.d(),jt(J),jt(U),Wt=!1,Ee(le)}}}function Ve(t,r,l){let a=[],o=[],f=[...t];for(let s in t)o.push(1),a.push(0),t[s]<l&&(t[s]=0,f[s]=0);for(let s=0;s<r;s++){let u=f.indexOf(Math.max(...f));o[u]=o[u]+1,a[u]=a[u]+1,f[u]=t[u]/o[u]}return a}function ze(t,r,l){let a=[],o=new Array(t.length).fill(.5),f=[...t];for(let s in t)o.push(1),a.push(0),t[s]<l&&(t[s]=0,f[s]=0);for(let s=0;s<r;s++){let u=f.indexOf(Math.max(...f));o[u]=o[u]+1,a[u]=a[u]+1,f[u]=t[u]/o[u]}return a}const Fe=function(t){return t>0?t:""},me=function(t){return t>0?t:""};function Ge(t,r,l){Ie.register(Me,He,Pe,Se,we,Le,Ae,xe);let a=Yt("data"),o=Yt("mandateData"),f=Yt("majorityData"),s=10,u=4,y="D'Hondt",T=0,h=[],m,w=s;function ut(){s=ft(this.value),l(1,s)}function Q(){u=ft(this.value),l(2,u)}function I(){y=Te(this),l(3,y)}function ct(D){a.datasets[0].data[D]=ft(this.value),l(0,a),l(4,m),l(3,y),l(1,s),l(2,u)}const j=function(D,X){if(X.datasetIndex!==void 0){const nt=X.datasetIndex,Y=f.datasets[nt].hidden;l(6,f.datasets[nt].hidden=!Y,f),l(8,w=0),f.datasets.forEach((L,M)=>{L.hidden||l(8,w+=L.data[0])})}};return t.$$.update=()=>{if(t.$$.dirty&2&&l(7,T=Math.floor(s/2+1)),t.$$.dirty&2&&l(8,w=s),t.$$.dirty&31&&(l(4,m=100-a.datasets[0].data.reduce((D,X)=>D+X,0)),m>=0&&(l(0,a),l(4,m),l(3,y),l(1,s),l(2,u),y=="D'Hondt"?l(9,h=Ve([...a.datasets[0].data],s,u)):y=="Sainte-Laguë"&&l(9,h=ze([...a.datasets[0].data],s,u)))),t.$$.dirty&512){l(5,o.datasets[0].data=h,o);for(let D in h)l(6,f.datasets[D].data=[h[D]],f)}},[a,s,u,y,m,o,f,T,w,h,ut,Q,I,ct,j]}class Je extends be{constructor(r){super(),ve(this,r,Ge,Oe,ge,{})}}function Re(t){let r,l;return r=new Je({}),{c(){Ht(r.$$.fragment)},l(a){Pt(r.$$.fragment,a)},m(a,o){St(r,a,o),l=!0},p:ke,i(a){l||(At(r.$$.fragment,a),l=!0)},o(a){xt(r.$$.fragment,a),l=!1},d(a){jt(r,a)}}}function Ue(t){return Zt("data",je),Zt("mandateData",Be),Zt("majorityData",Ne),[]}class Qe extends be{constructor(r){super(),ve(this,r,Ue,Re,ge,{})}}export{Qe as component};
